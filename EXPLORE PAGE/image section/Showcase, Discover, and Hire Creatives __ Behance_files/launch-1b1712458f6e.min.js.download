// For license information, see `https://assets.adobedtm.com/d4d114c60e50/9893a31a89dc/launch-1b1712458f6e.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2025-09-04T05:46:32Z",turbineBuildDate:"2024-08-22T17:32:44Z",turbineVersion:"28.0.0"},environment:{id:"EN6948eb0f6d4841be9900200e188c8b23",stage:"production"},dataElements:{_loadScript:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window._satellite,r="_loadScript";return(e=(t=n.DE=n.DE||{})[r])||(t[r]=e=function(e,t,n,r){var o,a,i,s=document,c=s.createElement("script"),l=!1;if(c.src=e,c.async=!0,n)for(o in n)c[o]=n[o];if(r)for(o in r)c.setAttribute(o,r[o]);t&&(c.onload=c.onreadystatechange=function(e){var n=this.readyState;l||n&&"complete"!==n&&"loaded"!==n||(l=!0,t(e))}),(a=s.getElementsByTagName("script")[0])&&a.parentNode?(i=a.parentNode).insertBefore(c,a):(i=s.head)?i.appendChild(c):s.body&&(i=s.body).appendChild(c)}),e}}},alloy_unload:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n,r,o=window,a=o._satellite,i=o.alloy_unload,s=o.tempImpression||"";i.xdm=i.xdm||{},(e=i.data=i.data||{}).eventType="web.webinteraction.linkClicks",(n=(t=e.web=e.web||{}).webInteraction=t.webInteraction||{}).name="page unload",n.linkClicks={value:1},n.type="other",((r=(n=(t=e._adobe_corpnew=e._adobe_corpnew||{}).digitalData=t.digitalData||{}).primaryEvent=n.primaryEvent||{}).eventInfo=r.eventInfo||{}).eventName="page unload",i.set("data._adobe_corpnew.digitalData.primaryEvent.eventInfo.interaction",a.getVar("digitalData.primaryEvent.eventInfo.interaction",{eventValue:"unload",value:s}))}}},alloy_all:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n,r,o,a,i,s,c,l,d=window,u=d.location,p=u.hostname,g=d._satellite,m=(g.alloyConfigurePromise||Promise.resolve(),g.cookie,g.getVar("_getQueryParam")),f=(g.getVar("_getDomain"),g.getVar("adobe_copyLocation")),h=g.getVar("alloy_dataStreamId")||"",y=d.alloy_all,v=(y&&y.data&&y.data._adobe_corpnew&&y.data._adobe_corpnew.digitalData&&y.data._adobe_corpnew.digitalData.page&&y.data._adobe_corpnew.digitalData.page.pageInfo&&y.data._adobe_corpnew.digitalData.page.pageInfo.siteSection,"_alloy_all");return(e=(t=g.DE=g.DE||{})[v])||(t[v]=e=function(){if(y.xdm=y.xdm||{},alloy("createEventMergeId").then((function(e){y.xdm.eventMergeId=e.eventMergeId})),r=y.data=y.data||{},o=r.marketing=r.marketing||{},(n=m("sdid")||m("trackingid")||m("cgen")||m("s_cid")||m("s_rtid"))&&(o.trackingCode=n),o=r.marketingtech=r.marketingtech||{},a=d.marketingtech||{},i=o.adobe=o.adobe||{},s=a.adobe||{},c=i.alloy=i.alloy||{},s.alloy,c.approach="AEP-Launch",c.edgeConfigId=h,o=r.web=r.web||{},(i=o.webReferrer=o.webReferrer||{}).URL=document.referrer,(i=o.webPageDetails=o.webPageDetails||{}).URL=u.href,u&&u.href&&-1!==u.href.indexOf("#/social/")){let e=u.href.split("#/social/")[0],t=u.href.split("#/social/")[1];-1!==t.indexOf("?")?(t=t.split("?")[1],i.URL=e+"?"+t):i.URL=e}i.siteSection=p,i.server=p,document.title.includes("404")&&(i.isErrorPage=!0),i.isErrorPage=i.isErrorPage||!1,i.isHomePage=i.isHomePage||!1,o=r.__adobe=r.__adobe||{},i=o.target=o.target||{},o=r._adobe_corpnew=r._adobe_corpnew||{},(i=o.cmp=o.cmp||{}).state=g.getVar("cmp.state"),o.otherConsents=g.getVar("otherConsents"),(i=o.digitalData=o.digitalData||{}).clickTaleInfo=g.getVar("_csIntegration")||"",(c=i.adobe=i.adobe||{}).gpc=navigator&&navigator.globalPrivacyControl?navigator.globalPrivacyControl.toString():"",c=i.page=i.page||{},alloy("getLibraryInfo").then((e=>{c.libraryVersions=e.libraryInfo.version})),(l=c.pageInfo=c.pageInfo||{}).location=f(d),l.siteSection=p,l.language=l.language||"en-US"}),e}}},isStudent:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window,r=n.location.href,o=n._satellite,a=o.cookie,i=o.getVar("_getDomain"),s="isStudent",c=new Date;return void 0===(t=(e=o.DE=o.DE||{})[s])&&(1==a.get("K12")?t=!0:(t=!1,(r.match(/(\?|\&)context\=nat_geo/)||r.match(/(\?|\&)lms/))&&(t=!0,a.set("K12",1,{domain:i(),path:"/",samesite:"Lax",expires:(c.setFullYear(c.getFullYear()+1),c)}))),e[s]=t),t}}},adobe_pageNameLogic:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window._satellite,r=n.getVar("adobe_urlRegions"),o="adobe_pageNameLogic";return(e=(t=n.DE=n.DE||{})[o])||(t[o]=e=function(e){var t,n,o,a,i=(e=e||window.location).hostname,s=e.pathname,c=[],l=[".aspx",".php",".html"];for(i=i.replace("www.",""),o=0,a=l.length;o<a;o++)s=s.replace(l[o],"");for(o=0,a=(n=s.split("/")).length;o<a;o++)""===(t=n[o])||r[t.toLowerCase()]||c.push(t);return i+((s=c.join(":"))?":"+s:"")}),e}}},adobe_parseQueryParams:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){var t,n,r,o,a,i,s={},c=window.location.hostname;for(a=function(e){var t=e||"";try{t=decodeURIComponent(e)}catch(e){}return t},0===e.indexOf("?")&&(e=e.substring(1)),r=0,o=(t=e.split("&")).length;r<o;r++)(n=t[r].split("="))[0]&&(s[a(n[0])]=a(n[1]));if(-1!==c.indexOf(".acrobat.com")||"documentcloud.adobe.com"===c)for(i in s)"uri"!==i&&"assetUri"!==i||delete s[i];return s}}}},adobe_urlRegions:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{ae_ar:1,ae_en:1,africa:1,ar:1,at:1,au:1,be:1,be_en:1,be_fr:1,be_nl:1,bg:1,br:1,ca:1,ca_es:1,ca_fr:1,ch:1,ch_de:1,ch_fr:1,ch_it:1,cin:1,cis_en:1,cis_ru:1,cl:1,cn:1,co:1,cr:1,cs:1,cs_cz:1,cy:1,cy_en:1,cz:1,da:1,da_dk:1,de:1,de_de:1,dk:1,ec:1,ee:1,eeurope:1,eg_ar:1,eg_en:1,en:1,en_gb:1,en_us:1,es:1,es_es:1,eu_es:1,fi:1,fi_fi:1,fr:1,fr_fr:1,gr:1,gr_el:1,gr_en:1,gt:1,hk:1,hk_en:1,hk_zh:1,hr:1,hr_hr:1,hu:1,hu_hu:1,id_en:1,id_id:1,ie:1,il:1,il_en:1,il_he:1,in:1,in_hi:1,it:1,it_it:1,ja:1,ja_jp:1,jp:1,ko:1,ko_kr:1,kr:1,kw_ar:1,kw_en:1,la:1,lt:1,lu:1,lu_de:1,lu_en:1,lu_fr:1,lv:1,mena:1,mena_ar:1,mena_en:1,mena_fr:1,mt:1,mx:1,my_en:1,my_ms:1,na:1,nb:1,nb_no:1,ng:1,nl:1,nl_nl:1,no:1,nz:1,pe:1,ph_en:1,ph_fil:1,pl:1,pl_pl:1,pr:1,pt:1,pt_br:1,qa_ar:1,qa_en:1,ro:1,ro_ro:1,rs:1,ru:1,ru_ru:1,sa_ar:1,sa_en:1,se:1,sea:1,sg:1,si:1,sk:1,sk_sk:1,sl_si:1,sv:1,sv_se:1,th_en:1,th_th:1,tr:1,tr_tr:1,tw:1,tw_cn:1,ua:1,uk:1,uk_ua:1,us:1,vn_en:1,vn_vi:1,za:1,"zh-Hans":1,"zh-Hant":1,"zh-tw":1,zh_cn:1,zh_tw:1}}}},_explicitConsentCountries:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["ca","de","no","fi","be","pt","bg","dk","lt","lu","lv","hr","fr","hu","se","si","mc","sk","mf","sm","gb","yt","ie","gf","ee","mq","mt","gp","is","gr","it","es","at","re","cy","cz","ax","pl","ro","li","nl"]}}},_trimEmptyObjects:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window._satellite,r="_trimEmptyObjects";return(e=(t=n.DE=n.DE||{})[r])||(t[r]=e=function(e){var t,n,r;for(r=0;r<15&&(t=JSON.stringify(e,(function(e,t){return t&&"object"==typeof t&&!Array.isArray(t)&&Object.keys(t).length<1?void 0:t})),e=JSON.parse(t),t!==n);r++)n=t;return e}),e}}},_getDomain:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window._satellite,r=n.cookie,o="_getDomain";if(e=(t=n.DE=n.DE||{})[o])return e;var a="";return t[o]=e=function(){if(a)return a;var e=window.location.hostname.toLowerCase().split("."),t=[],n="",o=null,i=!1;for(n=e.pop(),t.unshift(n);e.length>0;){n=e.pop(),t.unshift(n),(o=new Date).setTime(o.getTime()+1e3);try{r.set("sat_domain","A",{expires:o,domain:t.join(".")})}catch(e){break}if("A"===r.get("sat_domain")){i=!0,a=t.join(".");break}}return i?a:""},e.version="2.0",e}}},alloy_privacy:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t=window,n=t._satellite,r=n.cookie,o=t.tempImpression||"",a=t.alloy_privacy=t.alloy_privacy||{xdm:{},data:{}},i=a.xdm,s=(o=a.data,i.web=i.web||{}),c=o._adobe_corpnew=o._adobe_corpnew||{},l=c.marketingTags=c.marketingTags||{},d=c.digitalData=c.digitalData||{},u=d.adobe=d.adobe||{},p=l.facebook=l.facebook||{},g=d.primaryEvent=d.primaryEvent||{},m=g.eventInfo=g.eventInfo||{};return n.DE=n.DE||{},i.eventType="web.webinteraction.linkClicks",s.webInteraction={linkClicks:{value:1},type:"other",name:"adobe:privacyConsent"},m.eventName="adobe:privacyConsent",t.tempImpression=n.getVar("digitalData.primaryEvent.eventInfo.interaction",{eventValue:"privacy",value:o}),m.interaction=t.tempImpression,u.activePrivacyGroups=(e=n.cookie.get("OptanonConsent"))&&(e=e.split("groups="))&&e[1]&&(e=e[1].split("&"))&&(e=e[0].replace(/:1,/g,"|").replace(/:1/g,""))||"",p.fbp=r.get("_fbp")||"",p.fbc=r.get("_fbc")||"",a}}},otherConsents:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window._satellite,t=e.getVar("cmp.state"),n=e.getVar("consent").c;return"post"!=t||e.cookie.get("OptanonConsent")?{configuration:{performance:!!n("C0002"),functional:!!n("C0003"),advertising:!!n("C0004")}}:{configuration:{performance:!0,functional:!0,advertising:!0}}}}},adobe_dynamicValue:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){if(-1!=e.indexOf("##")){var t,n,r,o="";if(n=e.split("##")[1],void 0!==e.split("##")[2]?r=e.split("##")[2]:n="invalid","da"==n&&void 0!==e.split("##")[3]?t=e.split("##")[3]:n="invalid",["dl","da","text"].includes(n))switch(n){case"dl":o="undefined"!==window.digitalData._get(r)?window.digitalData._get(r):"invalid";break;case"da":o=document.querySelector(t)&&document.querySelector(t).getAttribute(r)?document.querySelector(t).getAttribute(r):"invalid";break;case"text":o=document.querySelector(t)?document.querySelector(r).innerText.trim():"invalid"}else o="invalid";e=e.replace(/##.*##/,o)}return e}}}},adobe_copyLocation:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){var t=e.location;return{href:t.href,origin:t.origin,protocol:t.protocol,host:t.host,hostname:t.hostname,port:t.port,pathname:t.pathname,search:t.search,hash:t.hash}}}}},alloy_privacy_init:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n,r,o,a,i=window,s=i.alloy_all,c=i._satellite,l=c.cookie,d=c.getVar("activePrivacyGroups"),u="adobePrivacy:Privacy";return s.set("data._adobe_corpnew.digitalData.adobe.activePrivacyGroups",d()),(e=l.get("kndctr_9E1005A551ED61CA0A490D45_AdobeOrg_consent"))&&(e=e.split(";").reduce((function(e,t){return e[(t=t.split("="))[0]]=t[1],e}),{}))&&"out"===e.general||(e=e||{},t=function(){s.set("data._adobe_corpnew.digitalData.adobe.activePrivacyGroups",d()),a=(n=i.OnetrustActiveGroups)&&-1!==n.indexOf(",C0002,")||(r=i.adobePrivacy)&&r.activeCookieGroups&&(o=r.activeCookieGroups())&&-1!==o.indexOf("C0002"),e.general&&"pending"!==e.general&&("in"!==e.general||a)||(e.general=a?"in":"out",i.alloy("setConsent",{consent:[{standard:"Adobe",version:"2.0",value:{collect:{val:a?"y":"n"},metadata:{time:(new Date).toISOString()}}}]}))},i.addEventListener(u+"Consent",t),i.addEventListener(u+"Reject",t),i.addEventListener(u+"Custom",t)),"in"}}},percentPageViewed:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window,t=document,n=e.alloy_unload;!function(){var r,o,a,i,s,c,l=["load","scroll","resize","zoom","keyup","mouseup","touchend","orientationchange","pan"];try{o={get passive(){return r=1,!1}},e.addEventListener("test",null,o),e.removeEventListener("test",null,o)}catch(e){r=0}for(o=!!r&&{passive:!0},a=function(){var r,o,a,s,c=t.documentElement;c&&(a=Math.max(c.offsetHeight,c.clientHeight,1),s=(e.innerHeight||c.clientHight||1)+(e.pageYOffset||c.scrollTop||0),o=a>0&&s>0?Math.round(100*s/a):1,(!(r=n.get("data._adobe_corpnew.digitalData.previousPage.pageInfo.percentPageViewed"))||o>r)&&n.set("data._adobe_corpnew.digitalData.previousPage.pageInfo.percentPageViewed",o),o>=100&&i())},i=function(t,n){for(t=0,n=l.length;t<n;t++)e.removeEventListener(l[t],a,o)},s=0,c=l.length;s<c;s++)e.addEventListener(l[s],a,o);"complete"===t.readyState?a({type:"load"}):e.addEventListener("load",a,o)}()}}},alloy_dataStreamId:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){_satellite.getVar("_getQueryParam");var e=window,t=e.location.hostname;return"production"===e._satellite.environment.stage&&-1===t.indexOf("stg")&&-1===t.indexOf("stage")&&-1===t.indexOf("localhost")&&-1===t.indexOf("dev")?"0a3e3373-c9e1-4393-9188-663166bc341a":"393bd740-42ff-41b3-8a5a-a69cdb92bd8d"}}},_getNewRepeat:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window._satellite,r=n.cookie,o="_getNewRepeat";return(e=(t=n.DE=n.DE||{})[o])||(t[o]=e=function(e,t,n){var o,a,i,s=new Date,c=s.getTime(),l={};return t=t||"s_nr",i=864e5*(e=e||30),s.setTime(c+i),o=r.get(t)||"",l.expires=s,n&&(l.domain=n),0===o.length||c-(a=o.split("-"))[0]<18e5&&"New"===a[1]?(r.set(t,c+"-New",l),"New"):(r.set(t,c+"-Repeat",l),"Repeat")},e.version="2.0"),e}}},alloy_event:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t,n,r,o=window,a=o._satellite,i=e.value||{};return e.type,o.alloy_all,i.xdm=i.xdm||{},(t=i.data=i.data||{}).eventType="web.webinteraction.linkClicks",(r=(n=t.web=t.web||{}).webInteraction=n.webInteraction||{}).type="other",r.linkClicks={value:1},(r=(n=t._adobe_corpnew=t._adobe_corpnew||{}).cmp=n.cmp||{}).state=a.getVar("cmp.state"),n.otherConsents=a.getVar("otherConsents"),i}}},_getQueryParam:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window._satellite,r="_getQueryParam";return(e=(t=n.DE=n.DE||{})[r])||(t[r]=e=function(e,t){var n,r,o,a,i;if(t=t||window.location.search,!e)return"";for(i=function(e){var t=e;try{t=decodeURIComponent(e)}catch(e){}return t},0===t.indexOf("?")&&(t=t.substring(1)),o=0,a=(n=t.split("&")).length;o<a;o++)if((r=n[o].split("="))[0]&&i(r[0])===e)return i(r[1]);return""},e.version="1.0"),e}}},alloy_rs_overrides:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window,t=e.location.hostname;return"production"===e._satellite.environment.stage&&-1===t.indexOf("stg")&&-1===t.indexOf("stage")&&-1===t.indexOf("localhost")&&-1===t.indexOf("dev")?["adbadobenonacdcprod","adbadobeprototype","adbimsprod","adbemmarvelweb.prod"]:["adbadobenonacdcqa","adbimsqa","adbemmarvelweb.qa"]}}},"digitalData.primaryEvent.eventInfo.interaction":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t,n=window,r=document,o=n._satellite,a=e.eventValue||"",i=e.value&&e.value.impression||"",s=o.getVar("_getQueryParam")("clickflag");return!(r.querySelectorAll('[id="alloy-prehiding"]').length>0)&&("true"===s?localStorage.setItem("clickflag","true"):"false"===s&&localStorage.removeItem("clickflag"),t="true"===localStorage.getItem("clickflag"),impressionFuction=function(){var e,n,o,s,c,l=[],d=r.querySelectorAll("[daa-im] [daa-ll],[daa-im][daa-ll],[data-daa-im] [data-daa-ll],[data-daa-im][data-daa-ll]"),u=function(e){return e.replace(/,/g,"")};c=function(e){var t,n,o,a,i,s,c,l,d,p;if(e.getBoundingClientRect(),e.offsetWidth||e.offsetHeight||e.getClientRects().length){o=[],a=e;do{(t=a.getAttribute("daa-lh")||a.getAttribute("data-daa-lh"))&&(-1!==t.indexOf("##")&&(s=(i=t.split("##"))[1],c=i[2],p=i[3],t="dl"===s?"invalid":"da"===s&&c&&p&&(l=r.querySelector(p))&&(d=l.getAttribute(c))||"text"===s&&c&&(l=r.querySelector(c))&&(d=l.innerText.trim())?t.replace(/##.*##/,d):"invalid"),t=u(t),o.unshift(t))}while(a=a.parentNode.closest("[daa-lh],[data-daa-lh]"));return n=u(e.getAttribute("daa-ll")||e.getAttribute("data-daa-ll")),o.unshift(n),o.join("|")}};var p=function(e){!l.includes(e)&&l.join(",").length+e.length<5e3&&l.unshift(e)};for(e=0,n=d.length;e<n;e++)(s=c(o=d[e]))&&(t&&o.setAttribute("title",s),"load"==a?p(s):("privacy"==a||"unload"==a)&&(i.split(",").includes(s)||p(s)));return{impression:l.join(",")}},impressionFuction())}}},_beforeUnload:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window,r=n._satellite,o="_beforeUnload";if(t=r.DE=r.DE||{},e=t[o])return e;var a,i=!1,s=[];return t[o]=e=function(t,n){n=n||e.currentOrder++,s.push({callback:t,order:n}),s.sort((function(e,t){return e.order<t.order?-1:1}))},e.currentOrder=1,a=function(e){var t,n;if(!i)for(i=!0,t=0;t<s.length;t++){n=s[t];try{n.callback(e)}catch(e){}}},n.addEventListener&&("onpagehide"in n&&n.addEventListener("pagehide",a),n.addEventListener("beforeunload",a)),e.version="1.3",e}}},_deepMerge:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window._satellite,r="_deepMerge";return t=n.DE=n.DE||{},(e=t[r])||(t[r]=e=function(t,n){var r,o,a="object";if(t&&typeof t===a&&n&&typeof n===a)for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o=n[r],Array.isArray(o)?(t[r]=t[r]||[],Array.isArray(t[r])&&(t[r]=t[r].concat(o))):o&&typeof o===a?(t[r]=t[r]||{},e(t[r],o)):t[r]=o);return t}),e}}},consent:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n,r,o=window,a="adobePrivacy:Privacy",i=o._satellite;return e=i.DE=i.DE||{},(t=e.consent)||(r=i.cookie.get("OptanonConsent"),n=function(e){var t,n;return(n=o.OnetrustActiveGroups)&&-1!==n.indexOf(e+",")||(t=o.adobePrivacy)&&t.activeCookieGroups&&(n=t.activeCookieGroups())&&-1!==n.indexOf(e)||r&&-1!==r.indexOf(e+":1")},(t=function(e,t){var r;n(e)?t():(r=function(){n(e)&&(t(),o.removeEventListener(a+"Consent",r),o.removeEventListener(a+"Custom",r))},o.addEventListener(a+"Consent",r),o.addEventListener(a+"Custom",r))}).f=t,t.c=n,t.C0002=new Promise((function(e){t("C0002",e)})),t.C0003=new Promise((function(e){t("C0003",e)})),t.C0004=new Promise((function(e){t("C0004",e)})),e.consent=t),t}}},"cmp.state":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){let e=window._satellite,t=e.cookie.get,n=e.getVar("serverTiming"),r=e.getVar("_explicitConsentCountries"),o=n?.geo?.toLowerCase();return t("kndctr_9E1005A551ED61CA0A490D45_AdobeOrg_consent")||o&&!r.includes(o)?"post":t("OptanonConsent")||o&&r.includes(o)?"pre":"unknown"}}},"digitalData.page.category":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("_request");return contentClassification=function(t){var n,r,o=(t=t||window.location).pathname,a=t.hostname,i="https://14257-contentmetadata.adobeioruntime.net/api/v1/web/content-classification-app-0.0.2/classificationData?url="+btoa(a+o)+"&info="+btoa("all");return _satellite._promises=_satellite._promises||{},(n=_satellite._promises[i])||(r={contentInfo:"unknown"},(n=new Promise((function(t){e({method:"GET",url:i}).then((function(e){e&&e.data&&t(e.data)})).catch((function(){return r}))}))).unresolved=r,_satellite._promises[i]=n),n},contentClassification}}},alloy_pageView:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var n,r,o,a,i,s,c,l=window,d=l.location,u=d.pathname,p=d.hostname,g=d.href,m=l._satellite,f=e.value||{},h=m.cookie,y=m.getVar("adobe_pageNameLogic"),v=(m.getVar("adobe_domains"),m.getVar("_getDomain")),b=l.alloy_all;if(f.xdm=f.xdm||{},f.data=f.data||{},n=b&&(ald=b.data)&&(alda=ald._adobe_corpnew)&&(aldad=alda.digitalData)&&(aldadp=aldad.page)&&(aldadpp=aldadp.pageInfo)&&aldadpp.customPageName||y(d),b.set("data._adobe_corpnew.digitalData.page.pageInfo.pageName",n),-1!==u.indexOf("/acrobat/campaign/acrobats-got-it.html")&&-1!==g.search(/ttid=(all-in-one|reliable|versatile)/)||"acrobat.adobe.com"===p||"www.adobe.com"===p&&-1!==u.search(/\/acrobat/)){var w=m.getVar("digitalData.adobe.experienceCloud.agiCampaign"),E=!1;!w||"1"!=w&&"2"!=w||(E=!0)}return b.set("data.web.webPageDetails.name",n),l===l.top&&(r=h.get("gpv")||"",b.set("data._adobe_corpnew.digitalData.previousPage.pageInfo.pageName",r),t=new Date,t.setTime(t.getTime()+18e5),h.set("gpv",n,{expires:t,domain:v(),path:"/"})),(o=f.data=f.data||{}).eventType="web.webpagedetails.pageViews",(i=(a=o.web=o.web||{}).webPageDetails=a.webPageDetails||{}).pageViews={value:1},(c=(s=(i=(a=o._adobe_corpnew=o._adobe_corpnew||{}).digitalData=a.digitalData||{}).primaryEvent=i.primaryEvent||{}).eventInfo=s.eventInfo||{}).interaction=m.getVar("digitalData.primaryEvent.eventInfo.interaction",{eventValue:"load"}),l.tempImpression=c.interaction,(c=(s=i.adobe=i.adobe||{}).experienceCloud=s.experienceCloud||{}).agiCampaign=E?w:"",f}}},activePrivacyGroups:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window._satellite.cookie;return function(){var t=e.get("OptanonConsent");return t&&(t=t.split("groups="))&&t[1]&&(t=t[1].split("&"))&&(t=t[0].split(","))&&(t=t.filter((function(e){return-1!==e.indexOf(":1")})))&&(t=t.join(","))&&(t=t.replace(/:1,/g,"|").replace(/:1/g,""))||""}}}},adobe_domains:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["acrobat.com","adobe.com","adobe.io","magento.com","marketo.com","behance.net"]}}}},extensions:{"simple-custom-code-action":{displayName:"Simple Custom Code Action",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP86e6334f2499473c8a9195688326c2df/",modules:{"simple-custom-code-action/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,n){"use strict";e.exports=function(e){var t=n("@adobe/reactor-load-script");e.file&&t(e.file).then((function(){}),(function(e){console.error(e)}))}}}}},core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP1fdd2a6ec2ae468fb1d2cac08df65f83/",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/events/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){e.source(t)}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,n){"use strict";var r=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){r.registerLibraryLoadedTrigger(t)}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,n,r){"use strict";var o={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var n=o[e];if(n){var a={identifier:e,detail:t};n.forEach((function(e){e(a)}));var i=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&i.push(t),r.logger.log.apply(r.logger,i)}else r.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var n=o[e.identifier];n||(n=o[e.identifier]=[]),n.push(t)}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-window"),o=n("@adobe/reactor-document"),a=-1!==r.navigator.appVersion.indexOf("MSIE 10"),i="WINDOW_LOADED",s="DOM_READY",c="PAGE_BOTTOM",l=[c,s,i],d=function(e,t){return{element:e,target:e,nativeEvent:t}},u={};l.forEach((function(e){u[e]=[]}));var p=function(e,t){l.slice(0,m(e)+1).forEach((function(e){f(t,e)}))},g=function(){return"complete"===o.readyState?i:"interactive"===o.readyState?a?null:s:void 0},m=function(e){return l.indexOf(e)},f=function(e,t){u[t].forEach((function(t){h(e,t)})),u[t]=[]},h=function(e,t){var n=t.trigger,r=t.syntheticEventFn;n(r?r(e):null)};r._satellite=r._satellite||{},r._satellite.pageBottom=p.bind(null,c),o.addEventListener("DOMContentLoaded",p.bind(null,s),!0),r.addEventListener("load",p.bind(null,i),!0),r.setTimeout((function(){var e=g();e&&p(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){u[c].push({trigger:e})},registerDomReadyTrigger:function(e){u[s].push({trigger:e,syntheticEventFn:d.bind(null,o)})},registerWindowLoadedTrigger:function(e){u[i].push({trigger:e,syntheticEventFn:d.bind(null,r)})}}}}}}},company:{orgId:"9E1005A551ED61CA0A490D45@AdobeOrg",dynamicCdnEnabled:!1},property:{name:"ENB | IMS(SUSI-lite) | AEP",settings:{domains:["adobe.com"],undefinedVarsReturnEmpty:!0,ruleComponentSequencingEnabled:!0},id:"PR50f468b537ea42798ec86d88557fa4db"},rules:[{id:"RL522f9c3b63bc478693b4c04b5f8aab6f",name:"AEP Web SDK",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){window.alloy||e()}},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e;return e=window,["alloy"].forEach((function(t){e[t]||((e.__alloyNS=e.__alloyNS||[]).push(t),e[t]=function(){var n=arguments;return new Promise((function(r,o){e[t].q.push([r,o,n])}))},e[t].q=[])})),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e,t,n){if(He.randomUUID&&!t&&!e)return He.randomUUID();const r=(e=e||{}).random??e.rng?.()??function(){if(!Be){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Be=crypto.getRandomValues.bind(crypto)}return Be(Fe)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError("UUID byte range "+n+":"+(n+15)+" is out of buffer bounds");for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(Ve[e[t+0]]+Ve[e[t+1]]+Ve[e[t+2]]+Ve[e[t+3]]+"-"+Ve[e[t+4]]+Ve[e[t+5]]+"-"+Ve[e[t+6]]+Ve[e[t+7]]+"-"+Ve[e[t+8]]+Ve[e[t+9]]+"-"+Ve[e[t+10]]+Ve[e[t+11]]+Ve[e[t+12]]+Ve[e[t+13]]+Ve[e[t+14]]+Ve[e[t+15]]).toLowerCase()}(r)}function r(e){return"object"==typeof e||void 0===e}function o(e){return"number"==typeof e}function a(e){return void 0===e}function i(e,t){return{evaluate:(e,n)=>t.evaluate(e,n),toString:()=>"Condition{type="+e+", definition="+t+"}"}}function s(e,t,n){return{evaluate:r=>{const o=function(e){return ec[e]}(t);return!!o&&o.matches(r,e,n)}}}function c(e,t,n,r,o,a){return{evaluate:(i,s)=>{let c;return c=Zs===a?function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0;try{let a=r;const i=e.every((e=>{const r=n.generateEventHash(ic(e)),i=t.events[r];if(!i)return!1;const s=i.timestamps[0],c=s>=a&&s<=o;return a=s,c}));return Number(i)}catch{return 0}}(e,i,s,r,o):function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0;return e.reduce(((e,a)=>{try{const i=n.generateEventHash(ic(a)),s=t.events[i];if(!s)return e;const{timestamps:c=[]}=s;return e+c.filter((e=>e>=r&&e<=o)).length}catch{return e}}),0)}(e,i,s,r,o),((e,t,n)=>{switch(t){case Hs:return e>n;case zs:return e>=n;case Js:return e<n;case Gs:return e<=n;case Us:return e===n;case Vs:return e!==n;default:return!1}})(c,t,n)}}}function l(e){const{logic:t,conditions:n}=e;return function(e,t){return{evaluate:(n,r)=>Ys===e?function(e,t,n){let r=!0;for(let o=0;o<t.length;o+=1)r=r&&t[o].evaluate(e,n);return r}(n,t,r):Ks===e&&function(e,t,n){let r=!1;for(let o=0;o<t.length;o+=1)if(r=r||t[o].evaluate(e,n),r)return!0;return!1}(n,t,r)}}(t,n.map(d))}function d(e){const{type:t,definition:n}=e;if(Ls===t){const e=function(e){const{key:t,matcher:n,values:r}=e;return s(t,n,r)}(n);return i(t,e)}if(js===t)return i(t,l(n));if(qs===t){const e=function(e){const{events:t,from:n,to:r,matcher:o,value:a,searchType:i}=e;return c(t,o,a,n,r,i)}(n);return i(t,e)}throw new Error("Can not parse condition")}function u(e){const{id:t,type:n,detail:r}=e;return function(e,t,n){return{id:e,type:t,detail:n}}(t,n,r)}function p(e){const{condition:t,consequences:n,key:r}=e;return function(e,t,n){return{key:n,execute:(n,r)=>e.evaluate(n,r)?t:[],toString:()=>"Rule{condition="+e+", consequences="+t+"}"}}(d(t),n.map(u),r)}function g(e){const{version:t,rules:n,metadata:r}=e,o=n.map(p),a=function(e){if(e)return{provider:e.provider,providerData:Object.assign({},e.providerData)}}(r);return function(e,t,n){return{version:e,rules:t,metadata:n}}(t,o,a)}function m(e,t,n){const{providerData:r}=n,{identityTemplate:o}=r;return o.replace("<key>",t).replace("<identity>",e)}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e[0];const n={};return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];const s=t(o);return a(n[s])&&(n[s]=e(...o)),n[s]}}function h(e,t){const n=65535&t;return((t-n)*e|0)+(n*e|0)|0}function y(e,t,n){return{allocation:cc(e,t),...n}}function v(e,t){return t.map((t=>t.execute(e))).filter((e=>e.length>0))}function b(e,t){!function(e){const{providerData:t}=e;if(!t)throw new Error("Provider data is missing in metadata");const{identityTemplate:n,buckets:r}=t;if(!n)throw new Error("Identity template is missing in provider data");if(!r)throw new Error("Buckets is missing in provider data")}(t);const n=e.filter((e=>!e.key)),r=function(e){const t={};for(let n=0;n<e.length;n+=1){const r=e[n];r.key&&(t[r.key]||(t[r.key]=[]),t[r.key].push(r))}return t}(e),{buckets:o}=t.providerData;return{provider:"TGT",execute:e=>{const a=function(e){const{xdm:t}=e;if(!t)throw new Error("XDM object is missing in the context");const{identityMap:n}=t;if(!n)throw new Error("Identity map is missing in the XDM object");const r=n.ECID;if(!r)throw new Error("ECID identity namespace is missing in the identity map");if(!Array.isArray(r)||0===r.length)throw new Error("ECID identities array is empty or not an array");const o=r[0].id;if(!o)throw new Error("ECID identity is missing in the identities array");return o}(e),i=v(e,n),s=Object.keys(r),c=[];for(let n=0;n<s.length;n+=1){const i=s[n],l=r[i],d=v(y(m(a,i,t),o,e),l);c.push(...d)}return[...i,...c]}}}function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{generateEventHash:()=>{throw new Error("No hash function provided")}};const{rules:n,metadata:r={}}=g(e);return function(e,t,n){const{provider:r}=t;return"TGT"===r?b(e,t):function(e,t){return{provider:"DEFAULT",execute:n=>e.map((e=>e.execute(n,t))).filter((e=>e.length>0))}}(e,n)}(n,r,t)}var E=e=>null==e,C=e=>!E(e)&&!Array.isArray(e)&&"object"==typeof e,k=function t(n,r){function o(t,o,a){if("undefined"!=typeof document){"number"==typeof(a=e({},r,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var s in a)a[s]&&(i+="; "+s,!0!==a[s]&&(i+="="+a[s].split(";")[0]));return document.cookie=t+"="+n.write(o,t)+i}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],r={},o=0;o<t.length;o++){var a=t[o].split("="),i=a.slice(1).join("=");try{var s=decodeURIComponent(a[0]);if(r[s]=n.read(i,s),e===s)break}catch(e){}}return e?r[e]:r}},remove:function(t,n){o(t,"",e({},n,{expires:-1}))},withAttributes:function(n){return t(this.converter,e({},this.attributes,n))},withConverter:function(n){return t(e({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(n)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),I={get:k.get.bind(k),set:k.set.bind(k),remove:k.remove.bind(k),withConverter:k.withConverter.bind(k)};const P=(e,t)=>{Object.keys(t).forEach((n=>{C(e[n])&&C(t[n])?P(e[n],t[n]):e[n]=t[n]}))};var S=function(e){if(E(e))throw new TypeError('deepAssign "target" cannot be null or undefined');const t=Object(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach((e=>P(t,Object(e)))),t},D=(e,t)=>n=>{const r=t.split(".").reduce(((e,t)=>(e[t]=e[t]||{},e[t])),e);S(r,n)},_=()=>{const e=[];return{add(t){e.push(t)},call(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Promise.all(e.map((e=>e(...n))))}}},O=e=>{let{logger:t,cookieJar:n}=e;return{
...n,set(e,r,o){t.info("Setting cookie",{name:e,value:r,...o}),n.set(e,r,o)}}},T=()=>{const e={};return e.promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n})),e};const R=(e,t)=>e===t;var x=(e,t)=>e.appendChild(t),A=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const o=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:document).createElement(e);return Object.keys(t).forEach((e=>{o.setAttribute(e,t[e])})),((e,t)=>{Object.keys(t).forEach((n=>{if("style"===n&&C(t[n])){const r=t[n];Object.keys(r).forEach((t=>{e.style[t]=r[t]}))}else e[n]=t[n]}))})(o,n),r.forEach((e=>x(o,e))),o};const N="IMG",M="STYLE",L="SCRIPT";var j=e=>{let{src:t,currentDocument:n=document}=e;return new Promise(((e,r)=>{A(N,{src:t},{onload:e,onerror:r,onabort:r},[],n)}))},q=e=>"function"==typeof e,U=e=>Array.isArray(e)&&e.length>0,V=e=>Array.isArray(e)?e:null==e?[]:[].slice.call(e);const B=/^\s*>/;var F=(e,t)=>B.test(t)?V(e.querySelectorAll(":scope "+t)):V(e.querySelectorAll(t)),H=":shadow";const z=(e,t)=>{const n=t;return n.startsWith(">")?(e instanceof Element||e instanceof Document?":scope":":host")+" "+n:n};var J=(e,t)=>{const n=(e=>e.split(H))(t);if(n.length<2)return F(e,t);let r=e;for(let e=0;e<n.length;e+=1){const t=n[e].trim();if(""===t&&r.shadowRoot){r=r.shadowRoot;continue}const o=z(r,t),a=F(r,o);if(0===a.length||!a[0]||!a[0].shadowRoot)return a;r=a[0].shadowRoot}},G=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return-1===e.indexOf(H)?F(t,e):J(t,e)};const Q="MutationObserver",W={childList:!0,subtree:!0},X=e=>new Error("Could not find: "+e),$=e=>new Promise(e);var Y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:document;const a=t(e);return U(a)?Promise.resolve(a):(e=>q(e[Q]))(r)?((e,t,n,r,o)=>$(((a,i)=>{let s;const c=new e[Q]((()=>{const e=o(n);U(e)&&(c.disconnect(),s&&clearTimeout(s),a(e))}));s=setTimeout((()=>{c.disconnect(),i(X(n))}),r),c.observe(t,W)})))(r,o,e,n,t):(e=>"visible"===e.visibilityState)(o)?((e,t,n,r)=>$(((o,a)=>{const i=()=>{const n=r(t);U(n)?o(n):e.requestAnimationFrame(i)};i(),setTimeout((()=>{a(X(t))}),n)})))(r,e,n,t):((e,t,n)=>$(((r,o)=>{const a=()=>{const t=n(e);U(t)?r(t):setTimeout(a,100)};a(),setTimeout((()=>{o(X(e))}),t)})))(e,n,t)},K=e=>{const t=e.parentNode;return t?t.removeChild(e):null};const Z={name:"Adobe Alloy"},ee={style:{display:"none",width:0,height:0}};var te=e=>C(e)&&0===Object.keys(e).length;const ne=(e,t)=>E(e)||!C(e)?e:Object.keys(e).reduce(((n,r)=>{const o=e[r];if(C(o)){const e=ne(o,t);return te(e)?n:{...n,[r]:e}}return t(o)?{...n,[r]:o}:n}),{}),re=e=>(e=>{let t=2166136261;const n=(new TextEncoder).encode(e);for(let e=0;e<n.length;e+=1)t^=n[e],t=Math.imul(t,16777619);return t>>>0})(e).toString(16).padStart(8,"0");var oe="com.adobe.alloy.";const ae=oe+"getTld";var ie="kndctr",se=e=>e.replace("@","_"),ce=(e,t)=>ie+"_"+se(e)+"_"+t,le=(e,t)=>{const n={};return e.forEach((e=>{const r=t(e);n[r]||(n[r]=[]),n[r].push(e)})),n};const de="Chrome",ue="Edge",pe="EdgeChromium",ge="Firefox",me="IE",fe="Safari",he="Unknown";var ye=e=>{let t,n=!1;return()=>(n||(n=!0,t=e()),t)};const ve=[de,ue,pe,"IE",he];var be=e=>{let{orgId:t}=e;const n=ce(t,"identity");return()=>Boolean(I.get(n))};const we=(e,t,n)=>({getItem(r){try{return e[t].getItem(n+r)}catch{return null}},setItem(r,o){try{return e[t].setItem(n+r,o),!0}catch{return!1}},clear(){try{return Object.keys(e[t]).forEach((r=>{r.startsWith(n)&&e[t].removeItem(r)})),!0}catch{return!1}}});var Ee=e=>t=>{const n=oe+t;return{session:we(e,"sessionStorage",n),persistent:we(e,"localStorage",n)}},Ce=e=>"boolean"==typeof e,ke=e=>"number"==typeof e&&!Number.isNaN(e),Ie=e=>{const t=parseInt(e,10);return ke(t)&&e===t},Pe=e=>"string"==typeof e,Se=e=>Pe(e)&&e.length>0,De=()=>{};const _e=e=>{const t={},n=e.split(".");switch(n.length){case 1:t.subdomain="",t.domain=e,t.topLevelDomain="";break;case 2:t.subdomain="",t.domain=e,t.topLevelDomain=n[1];break;case 3:t.subdomain="www"===n[0]?"":n[0],t.domain=e,t.topLevelDomain=n[2];break;case 4:t.subdomain="www"===n[0]?"":n[0],t.domain=e,t.topLevelDomain=n[2]+"."+n[3]}return t},Oe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_e;Pe(e)||(e="");const n=(e=>{try{const t=new URL(e);let n=t.pathname;return e.endsWith("/")||"/"!==n||(n=""),{host:t.hostname,path:n,query:t.search.replace(/^\?/,""),anchor:t.hash.replace(/^#/,"")}}catch{return{host:"",path:"",query:"",anchor:""}}})(e),{host:r,path:o,query:a,anchor:i}=n;return{path:o,query:a,fragment:i,...t(r)}};var Te,Re,xe=(Re||(Re=1,Te={parse:function(e){return function(e){var t={};if(!e||"string"!=typeof e)return t;var n=e.trim().replace(/^[?#&]/,""),r=new URLSearchParams(n),o=r.keys();do{var a=o.next(),i=a.value;if(i){var s=r.getAll(i);1===s.length?t[i]=s[0]:t[i]=s}}while(!1===a.done);return t}(e)},stringify:function(e){return function(e){var t="{{space}}",n=new URLSearchParams;return Object.keys(e).forEach((function(r){var o=e[r];"string"==typeof e[r]?o=o.replace(/ /g,t):["object","undefined"].includes(typeof o)&&!Array.isArray(o)&&(o=""),Array.isArray(o)?o.forEach((function(e){n.append(r,e)})):n.append(r,o)})),n.toString().replace(new RegExp(encodeURIComponent(t),"g"),"%20")}(e)}}),Te),Ae=t(xe);const Ne=e=>Array.isArray(e)?e.map((e=>Ne(e))):"object"==typeof e&&null!==e?Object.keys(e).sort().reduce(((t,n)=>(t[n]=Ne(e[n]),t)),{}):e;var Me=e=>e instanceof Error?e:new Error(e),Le=e=>{let{error:t,message:n}=e;try{t.message=n}catch{}},je=e=>{let{error:t,message:n}=e;const r=Me(t),o=n+"\nCaused by: "+r.message;return Le({error:r,message:o}),r},qe=(e,t)=>{if(ke(e)||Pe(e)){const t=Math.round(Number(e));if(!Number.isNaN(t))return t}return t};const Ue=(e,t,n)=>(""+e).padStart(t,n),Ve=[];for(let e=0;e<256;++e)Ve.push((e+256).toString(16).slice(1));let Be;const Fe=new Uint8Array(16);var He={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};const ze=e=>function(t,n){return null==t?t:e.call(this,t,n)},Je=(e,t)=>function(n,r){return t.call(this,e.call(this,n,r),r)},Ge=(e,t)=>function(n,r){const o=[],a=[e,t].reduce(((e,t)=>{try{return t.call(this,e,r)}catch(t){return o.push(t),e}}),n);if(o.length)throw new Error(o.join("\n"));return a},Qe=(e,t,n)=>Object.assign(Je(e,t),e,n),We=(e,t,n)=>Object.assign(Je(e,ze(t)),e,n),Xe=(e,t,n,r)=>{if(!e)throw new Error("'"+n+"': Expected "+r+", but got "+JSON.stringify(t)+".")};var $e=(e,t)=>(Xe(Ce(e),e,t,"true or false"),e),Ye=(e,t)=>(Xe(q(e),e,t,"a function"),e),Ke=(e,t)=>function(n,r){let o;const a=e.find((e=>{try{return o=e.call(this,n,r),!0}catch{return!1}}));return Xe(a,n,r,t),o},Ze=e=>function(t,n){Xe(Array.isArray(t),t,n,"an array");const r=[],o=t.map(((o,a)=>{try{return e.call(this,o,n+"["+a+"]",t)}catch(e){return void r.push(e.message)}}));if(r.length)throw new Error(r.join("\n"));return o},et=e=>function(t,n){Xe(C(t),t,n,"an object");const r=[],o={};if(Object.keys(t).forEach((a=>{const i=t[a],s=n?n+"."+a:a;try{const t=e.call(this,i,s);void 0!==t&&(o[a]=t)}catch(e){r.push(e.message)}})),r.length)throw new Error(r.join("\n"));return o},tt=(e,t)=>(n,r)=>(Xe(n>=t,n,r,e+" greater than or equal to "+t),n),nt=e=>(t,n)=>(C(t)?Xe(!te(t),t,n,e):Xe(t.length>0,t,n,e),t),rt=e=>function(t,n){Xe(C(t),t,n,"an object");const r=[],o={};if(Object.keys(e).forEach((a=>{const i=t[a],s=e[a],c=n?n+"."+a:a;try{const e=s.call(this,i,c);void 0!==e&&(o[a]=e)}catch(e){r.push(e.message)}})),Object.keys(t).forEach((e=>{Object.prototype.hasOwnProperty.call(o,e)||(o[e]=t[e])})),r.length)throw new Error(r.join("\n"));return o},ot=(e,t,n)=>function(r,o){Xe(C(r),r,o,"an object");const{[e]:a,[n]:i,...s}=r,c=t(a,o);if(void 0!==c){let t="The field '"+e+"' is deprecated. Use '"+n+"' instead.";if(o&&(t="'"+o+"': "+t),void 0!==i&&i!==c)throw new Error(t);this&&this.logger&&this.logger.warn(t)}return{[n]:i||c,...s}},at=()=>(e,t)=>(Xe((e=>{const t=Object.create(null);for(let n=0;n<e.length;n+=1){const r=e[n];if(r in t)return!1;t[r]=!0}return!0})(e),e,t,"array values to be unique"),e);const it=/^[a-z0-9.-]{1,}$/i;var st=(e,t)=>(Xe(it.test(e),e,t,"a valid domain"),e),ct=(e,t)=>(Xe(Ie(e),e,t,"an integer"),e),lt=(e,t)=>(Xe(ke(e),e,t,"a number"),e),dt=(e,t)=>(Xe((e=>{try{return null!==RegExp(e)}catch{return!1}})(e),e,t,"a regular expression"),e),ut=(e,t)=>{if(null==e)throw new Error("'"+t+"' is a required option");return e},pt=(e,t)=>(Xe(Pe(e),e,t,"a string"),e);const gt=e=>e;gt.default=function(e){return Qe(this,(e=>t=>null==t?e:t)(e))},gt.required=function(){return Qe(this,ut)},gt.deprecated=function(e){return Qe(this,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"This field has been deprecated";return function(t,n){let r=e;return void 0!==t&&(n&&(r="'"+n+"': "+r),this&&this.logger&&this.logger.warn(r)),t}}(e))};const mt=function(){return We(this,st)},ft=function(e){return We(this,tt("an integer",e))},ht=function(e){return We(this,tt("a number",e))},yt=function(e){return We(this,(t="a number",n=e,(e,r)=>(Xe(e<=n,e,r,t+" less than or equal to "+n),e)));var t,n},vt=function(){return We(this,ct,{minimum:ft})},bt=function(){return We(this,nt("a non-empty string"))},wt=function(){return We(this,nt("a non-empty array"))},Et=function(){return We(this,nt("a non-empty object"))},Ct=function(){return We(this,dt)},kt=function(e){return We(this,(e=>(t,n)=>(Xe(e.test(t),t,n,"does not match the "+e.toString()),t))(e))},It=function(){return We(this,(()=>{const e=[];return(t,n)=>(Xe(-1===e.indexOf(t),t,n,"a unique value across instances"),e.push(t),t)})())},Pt=function(){return We(this,at())},St=e=>({noUnknownFields:function(){return We(this,(e=>(t,n)=>{const r=[];if(Object.keys(t).forEach((t=>{if(!e[t]){const e=n?n+"."+t:t;r.push("'"+e+"': Unknown field.")}})),r.length)throw new Error(r.join("\n"));return t})(e))},nonEmpty:Et,concat:function(t){const n={...e,...t.schema};return We(this,t,St(n))},renamed:function(e,t,n){return r=this,o=ot(e,t,n),Object.assign(Ge(ze(o),r),r,a);var r,o,a},schema:e}),Dt=function(e,t){return Qe(this,Ke(e,t))}.bind(gt),_t=function(){return this}.bind(gt),Ot=function(e){return We(this,Ze(e),{nonEmpty:wt,uniqueItems:Pt})}.bind(gt),Tt=function(){return We(this,$e)}.bind(gt),Rt=function(){return We(this,Ye)}.bind(gt),xt=function(e){return We(this,(e=>(t,n)=>(Xe(t===e,t,n,""+e),t))(e))}.bind(gt),At=function(){return We(this,lt,{minimum:ht,maximum:yt,integer:vt,unique:It})}.bind(gt),Nt=function(e){return We(this,et(e),{nonEmpty:Et})}.bind(gt),Mt=function(e){return We(this,rt(e),St(e))}.bind(gt),Lt=function(){return We(this,pt,{regexp:Ct,domain:mt,nonEmpty:bt,unique:It,matches:kt})}.bind(gt),jt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Dt(t.map(xt),"one of these values: "+JSON.stringify(t))};var qt=Nt(Ot(Mt({authenticatedState:jt("ambiguous","authenticated","loggedOut"),id:Lt(),namespace:Mt({code:Lt()}).noUnknownFields(),primary:Tt(),xid:Lt()}).noUnknownFields()).required()),Ut=Mt({}),Vt="alloy_debug",Bt=e=>{let{console:t,locationSearch:n,createLogger:r,instanceName:o,createNamespacedStorage:a,getMonitors:i}=e;const s=Ae.parse(n),c=a("instance."+o+"."),l=c.session.getItem("debug");let d="true"===l,u=null===l;const p=()=>d,g=(e,t)=>{let{fromConfig:n}=t;n&&!u||(d=e),n||(c.session.setItem("debug",e.toString()),u=!1)};var m;return void 0!==s[Vt]&&g((m=s[Vt],Pe(m)&&"true"===m.toLowerCase()),{fromConfig:!1}),{setDebugEnabled:g,logger:r({getDebugEnabled:p,context:{instanceName:o},getMonitors:i,console:t}),createComponentLogger:e=>r({getDebugEnabled:p,context:{instanceName:o,componentName:e},getMonitors:i,console:t})}};const Ft=["onComponentsRegistered","onBeforeEvent","onBeforeRequest","onResponse","onRequestFailure","onClick","onDecision"];var Ht=e=>Ft.reduce(((t,n)=>{var r;return t[n]=(r=((e,t)=>function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Promise.all(e.getLifecycleCallbacks(t).map((e=>new Promise((t=>{t(e(...r))})))))})(e,n),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then((()=>r(...t)))}),t}),{});const zt=(e,t)=>function(){let n;try{n=e(...arguments)}catch(e){throw je({error:e,message:t})}return n instanceof Promise&&(n=n.catch((e=>{throw je({error:e,message:t})}))),n};var Jt=()=>{const e={},t={},n={};return{register(r,o){const{commands:a,lifecycle:i}=o;!function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(o=Object.keys(t),a=Object.keys(n),o.filter((e=>a.includes(e))));var o,a;if(r.length)throw new Error("[ComponentRegistry] Could not register "+e+" because it has existing command(s): "+r.join(","));Object.keys(n).forEach((r=>{const o=n[r];o.commandName=r,o.run=zt(o.run,"["+e+"] An error occurred while executing the "+r+" command."),t[r]=o}))}(r,a),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((r=>{n[r]=n[r]||[],n[r].push(zt(t[r],"["+e+"] An error occurred while executing the "+r+" lifecycle hook."))}))}(r,i),e[r]=o},getCommand:e=>t[e],getCommandNames:()=>Object.keys(t),getLifecycleCallbacks:e=>n[e]||[],getComponentNames:()=>Object.keys(e)}};const Gt="in",Qt="out",Wt="pending",Xt="general",$t="declinedConsent",Yt="default",Kt="initial",Zt="new",en=e=>{const t=new Error(e);return t.code=$t,t.message=e,t};var tn=e=>{let{logger:t}=e;const n=[],r=()=>Promise.resolve(),o=()=>Promise.resolve(),a=()=>Promise.reject(en("No consent preferences have been set.")),i=()=>Promise.reject(en("The user declined consent.")),s=e=>{if(e)return Promise.reject(new Error("Consent is pending."));const t=T();return n.push(t),t.promise};return{in(e){e===Yt?this.awaitConsent=r:(e===Kt?t.info("Loaded user consent preferences. The user previously consented."):e===Zt&&this.awaitConsent!==o&&t.info("User consented."),(()=>{for(;n.length;)n.shift().resolve()})(),this.awaitConsent=o)},out(e){e===Yt?(t.warn("User consent preferences not found. Default consent of out will be used."),this.awaitConsent=a):(e===Kt?t.warn("Loaded user consent preferences. The user previously declined consent."):e===Zt&&this.awaitConsent!==i&&t.warn("User declined consent."),(()=>{for(;n.length;)n.shift().reject(en("The user declined consent."))})(),this.awaitConsent=i)},pending(e){e===Yt&&t.info("User consent preferences not found. Default consent of pending will be used. Some commands may be delayed."),this.awaitConsent=s},awaitConsent:()=>Promise.resolve(),withConsent(){return this.awaitConsent(!0)},current(){switch(this.awaitConsent){case r:return{state:"in",wasSet:!1};case o:return{state:"in",wasSet:!0};case a:return{state:"out",wasSet:!1};case i:return{state:"out",wasSet:!0};case s:return{state:"pending",wasSet:!1};default:return{state:"in",wasSet:!1}}}}};const nn=e=>e&&e._experience&&e._experience.decisioning&&U(e._experience.decisioning.propositions)?e._experience.decisioning.propositions:[];var rn=()=>{const e={};let t,n,r=!1,o=!1,a=!0;const i=e=>{if(o)throw new Error(e+" cannot be called after event is finalized.")},s={hasQuery(){return Object.prototype.hasOwnProperty.call(this.getContent(),"query")},getContent(){const r=JSON.parse(JSON.stringify(e));return t&&S(r,{xdm:t}),n&&S(r,{data:n}),r},setUserXdm(e){i("setUserXdm"),t=e},setUserData(e){i("setUserData"),n=e},mergeXdm(t){i("mergeXdm"),t&&S(e,{xdm:t})},mergeData(t){i("mergeData"),t&&S(e,{data:t})},mergeMeta(t){i("mergeMeta"),t&&S(e,{meta:t})},mergeQuery(t){i("mergeQuery"),t&&S(e,{query:t})},documentMayUnload(){r=!0},finalize(r){if(o)return;const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R;return e.filter(((n,r)=>((e,t,n)=>{for(let r=0;r<e.length;r+=1)if(n(e[r],t))return r;return-1})(e,n,t)===r))}([...nn(t),...nn(e.xdm)],((e,t)=>e===t||e.id&&t.id&&e.id===t.id&&e.scope&&t.scope&&e.scope===t.scope));if(t&&this.mergeXdm(t),i.length>0&&(e.xdm._experience.decisioning.propositions=i),n&&s.mergeData(n),o=!0,r){a=!1;const t={xdm:e.xdm||{},data:e.data||{}},n=r(t);a=!1!==n,e.xdm=t.xdm||{},e.data=t.data||{},te(e.xdm)&&delete e.xdm,te(e.data)&&delete e.data}},getDocumentMayUnload:()=>r,isEmpty:()=>te(e)&&(!t||te(t))&&(!n||te(n)),shouldSend:()=>a,getViewName(){if(t&&t.web&&t.web.webPageDetails)return t.web.webPageDetails.viewName},toJSON(){if(!o)throw new Error("toJSON called before finalize");return e}};return s};const on="configure",an="setDebug";var sn=e=>{let t,{logger:n,configureCommand:r,setDebugCommand:o,handleError:a,validateCommandOptions:i}=e;return function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((a=>{const c=((e,a)=>{let s;if(e===on){if(t)throw new Error("The library has already been configured and may only be configured once.");s=()=>(t=r(a),t.then((()=>{})))}else{if(!t)throw new Error("The library must be configured first. Please do so by executing the configure command.");s=e===an?()=>{const e=Mt({enabled:Tt().required()}).noUnknownFields(),t=i({command:{commandName:an,optionsValidator:e},options:a});o(t)}:()=>t.then((t=>{const n=t.getCommand(e);if(!n||!q(n.run)){const n=[on,an].concat(t.getCommandNames()).join(", ");throw new Error("The "+e+" command does not exist. List of available commands: "+n+".")}const r=i({command:n,options:a});return n.run(r)}),(()=>(n.warn("An error during configuration is preventing the "+e+" command from executing."),new Promise((()=>{})))))}return s})(e,s);n.logOnBeforeCommand({commandName:e,options:s}),a(c())})).catch((t=>a(t,e+" command"))).catch((t=>{throw n.logOnCommandRejected({commandName:e,options:s,error:t}),t})).then((t=>{const r=C(t)?t:{};return n.logOnCommandResolved({commandName:e,options:s,result:r}),r}))}};const cn="https://adobe.ly/3sHgQHb";var ln=e=>{let{command:t,options:n}=e;const{commandName:r,documentationUri:o=cn,optionsValidator:a}=t;let i=n;if(a)try{i=a(n)}catch(e){throw new Error("Invalid "+r+" command options:\n\t - "+e+" For command documentation see: "+o)}return i},dn=e=>{let{options:t,componentCreators:n,coreConfigValidators:r,createConfig:o,logger:a,setDebugEnabled:i}=e;const s=(e=>{const t=[],n={get enabled(){return e.enabled},flush(){t.forEach((t=>{let{method:n,args:r}=t;return e[n](...r)}))}};return Object.keys(e).filter((t=>"function"==typeof e[t])).forEach((e=>{n[e]=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];t.push({method:e,args:r})}})),n})(a),c=n.map((e=>{let{configValidators:t}=e;return t})).filter((e=>e)).reduce(((e,t)=>e.concat(t)),r),l=o((e=>{let{combinedConfigValidator:t,options:n,logger:r}=e;try{return t.noUnknownFields().required().call({logger:r},n)}catch(e){throw new Error("Resolve these configuration problems:\n\t - "+e.message.split("\n").join("\n\t - ")+"\nFor configuration documentation see: https://adobe.ly/3sHh553")}})({combinedConfigValidator:c,options:t,logger:s}));i(l.debugEnabled,{fromConfig:!0}),s.flush();const d=((e,t,n)=>n.reduce(((n,r)=>{let{buildOnInstanceConfiguredExtraParams:o}=r;return o&&(n={...n,...o({config:e,logger:t})}),n}),{}))(l,a,n);return a.logOnInstanceConfigured({...d,config:l}),l};const un=e=>({...e});var pn=e=>{let{errorPrefix:t,logger:n}=e;return(e,r)=>{const o=Me(e);if(o.code===$t)return n.warn("The "+r+" could not fully complete. "+o.message),{};throw Le({error:o,message:t+" "+o.message}),o}},gn=e=>{let{getDebugEnabled:t,console:n,getMonitors:r,context:o}=e,a="["+o.instanceName+"]";o.componentName&&(a+=" ["+o.componentName+"]");const i=(e,t)=>{const n=r();if(n.length>0){const r={...o,...t};n.forEach((t=>{t[e]&&t[e](r)}))}},s=function(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];i("onBeforeLog",{level:e,arguments:o}),t()&&n[e](a,...o)};return{get enabled(){return r().length>0||t()},logOnInstanceCreated(e){i("onInstanceCreated",e),s("info","Instance initialized.")},logOnInstanceConfigured(e){i("onInstanceConfigured",e),s("info","Instance configured. Computed configuration:",e.config)},logOnBeforeCommand(e){i("onBeforeCommand",e),s("info","Executing "+e.commandName+" command. Options:",e.options)},logOnCommandResolved(e){i("onCommandResolved",e),s("info",e.commandName+" command resolved. Result:",e.result)},logOnCommandRejected(e){i("onCommandRejected",e),s("error",e.commandName+" command was rejected. Error:",e.error)},logOnBeforeNetworkRequest(e){i("onBeforeNetworkRequest",e),s("info","Request "+e.requestId+": Sending request.",e.payload)},logOnNetworkResponse(e){i("onNetworkResponse",e);const t=e.parsedBody||e.body?"response body:":"no response body.";s("info","Request "+e.requestId+": Received response with status code "+e.statusCode+" and "+t,e.parsedBody||e.body)},logOnNetworkError(e){i("onNetworkError",e),s("error","Request "+e.requestId+": Network request failed.",e.error)},logOnContentHiding(e){i("onContentHiding",{status:e.status}),s(e.logLevel,e.message)},logOnContentRendering(e){i("onContentRendering",{status:e.status,payload:e.detail}),s(e.logLevel,e.message)},info:s.bind(null,"info"),warn:s.bind(null,"warn"),error:s.bind(null,"error")}},mn="__view__",fn=e=>(t,n)=>{e.xdm=e.xdm||{},e.xdm.identityMap=e.xdm.identityMap||{},e.xdm.identityMap[t]=e.xdm.identityMap[t]||[],e.xdm.identityMap[t].push(n)},hn=e=>{const{payload:t,getAction:r,getUseSendBeacon:o,datastreamIdOverride:a,edgeSubPath:i}=e,s=n();let c=!1,l=!1;return{getId:()=>s,getPayload:()=>t,getAction:()=>r({isIdentityEstablished:l}),getDatastreamIdOverride:()=>a,getUseSendBeacon:()=>o({isIdentityEstablished:l}),getEdgeSubPath:()=>i||"",getUseIdThirdPartyDomain:()=>c,setUseIdThirdPartyDomain(){c=!0},setIsIdentityEstablished(){l=!0}}},yn=e=>{let{payload:t,datastreamIdOverride:n}=e;const r=e=>{let{isIdentityEstablished:n}=e;return t.getDocumentMayUnload()&&n};return hn({payload:t,getAction(e){let{isIdentityEstablished:t}=e;return r({isIdentityEstablished:t})?"collect":"interact"},getUseSendBeacon:r,datastreamIdOverride:n})},vn=e=>{const{content:t,addIdentity:n,hasIdentity:r}=e,o=D(t,"meta.configOverrides");return{mergeMeta:D(t,"meta"),mergeState:D(t,"meta.state"),mergeQuery:D(t,"query"),mergeConfigOverride:e=>o((e=>{if(E(e)||"object"!=typeof e)return null;const t=ne(e,(e=>!(E(e)||!Ce(e)&&!ke(e)&&!Se(e)&&!U(e))));return te(t)?null:t})(e)),addIdentity:n,hasIdentity:r,toJSON:()=>t}},bn=e=>t=>void 0!==(e.xdm&&e.xdm.identityMap&&e.xdm.identityMap[t]),wn=()=>{const e={},t=vn({content:e,addIdentity:fn(e),hasIdentity:bn(e)});return t.addEvent=t=>{e.events=e.events||[],e.events.push(t)},t.getDocumentMayUnload=()=>(e.events||[]).some((e=>e.getDocumentMayUnload())),t},En=e=>{let{localConfigOverrides:t,globalConfigOverrides:n,payload:r}=e;const o={payload:r},{datastreamId:a,...i}=t||{};return a&&(o.datastreamIdOverride=a),n&&!te(n)&&r.mergeConfigOverride(n),i&&!te(i)&&r.mergeConfigOverride(i),o};const Cn="clientId",kn="Event was canceled because the onBeforeEventSend callback returned false.";var In=e=>{let{orgId:t,targetMigrationEnabled:n}=e;return e=>((e,t)=>0===t.indexOf(ie+"_"+se(e)+"_"))(t,e)||"at_qa_mode"===e||n&&"mbox"===e},Pn=e=>function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length<2?Object.assign(...t):t.reduce(((e,t)=>(C(t)&&Object.keys(t).forEach((n=>{Array.isArray(t[n])?Array.isArray(e[n])?e[n].push(...t[n]):e[n]=[...t[n]]:e[n]=t[n]})),e)))}({},...e.shift()||[],...e.shift()||[],...e),Sn=e=>t=>{const n=()=>{throw t};return e.call({error:t}).then(n,n)};const Dn="The server responded with a";var _n=e=>{let{orgId:t,cookieJar:n}=e;const r=ce(t,"cluster");return()=>n.get(r)||(()=>{const e=n.get("mboxEdgeCluster");if(e)return"t"+e})()};const On=[429,503,502,504];var Tn=e=>{let{response:t,retriesAttempted:n}=e;return n<3&&On.includes(t.statusCode)},Rn=e=>{let{response:t,retriesAttempted:n}=e,r=(e=>{const t=e.getHeader("Retry-After");let n;if(t){const e=parseInt(t,10);n=Ie(e)?1e3*e:Math.max(0,new Date(t).getTime()-(new Date).getTime())}return n})(t);return void 0===r&&(r=(e=>{const t=1e3+1e3*e,n=.3*t,r=t-n,o=t+n;return Math.round(r+Math.random()*(o-r))})(n)),r},xn=e=>{let t=window.__alloyMonitors||[];return e&&(t=t.concat(e)),t},An=e=>t=>{const n=e().toISOString();S(t,{timestamp:n})},Nn="2.27.0",Mn=[["architecture","string"],["bitness","string"],["model","string"],["platformVersion","string"],["wow64","boolean"]];const Ln=(e=>t=>{const n={webPageDetails:{URL:e.location.href||e.location},webReferrer:{URL:e.document.referrer}};S(t,{web:n})})(window),jn=(e=>t=>{const{screen:{width:n,height:r}}=e,o={},a=qe(r);a>=0&&(o.screenHeight=a);const i=qe(n);i>=0&&(o.screenWidth=i);const s=(e=>{const{screen:{orientation:t}}=e;if(null==t||null==t.type)return null;const n=t.type.split("-");return 0===n.length||"portrait"!==n[0]&&"landscape"!==n[0]?null:n[0]})(e)||(e=>{if(q(e.matchMedia)){if(e.matchMedia("(orientation: portrait)").matches)return"portrait";if(e.matchMedia("(orientation: landscape)").matches)return"landscape"}return null})(e);s&&(o.screenOrientation=s),Object.keys(o).length>0&&S(t,{device:o})})(window),qn=(e=>t=>{const{document:{documentElement:{clientWidth:n,clientHeight:r}={}}}=e,o={type:"browser"},a=qe(n);a>=0&&(o.browserDetails={viewportWidth:a});const i=qe(r);i>=0&&(o.browserDetails=o.browserDetails||{},o.browserDetails.viewportHeight=i),S(t,{environment:o})})(window),Un=(Vn=()=>new Date,e=>{const t=Vn(),n={},r=qe(t.getTimezoneOffset());void 0!==r&&(n.localTimezoneOffset=r),(void 0===r||Math.abs(r)<6e3)&&(n.localTime=(e=>{const t=e.getFullYear(),n=Ue(e.getMonth()+1,2,"0"),r=Ue(e.getDate(),2,"0"),o=Ue(e.getHours(),2,"0"),a=Ue(e.getMinutes(),2,"0"),i=Ue(e.getSeconds(),2,"0"),s=Ue(e.getMilliseconds(),3,"0"),c=qe(e.getTimezoneOffset(),0);return t+"-"+n+"-"+r+"T"+o+":"+a+":"+i+"."+s+(c>0?"-":"+")+Ue(Math.floor(Math.abs(c)/60),2,"0")+":"+Ue(Math.abs(c)%60,2,"0")})(t)),S(e,{placeContext:n})});var Vn;const Bn=An((()=>new Date)),Fn={web:Ln,device:jn,environment:qn,placeContext:Un},Hn={highEntropyUserAgentHints:(e=>(e=>"userAgentData"in e)(e)?(t,n)=>{try{return e.userAgentData.getHighEntropyValues(Mn.map((e=>e[0]))).then((e=>{const n={};Mn.forEach((t=>{let[r,o]=t;Object.prototype.hasOwnProperty.call(e,r)&&typeof e[r]===o&&(n[r]=e[r])})),S(t,{environment:{browserDetails:{userAgentClientHints:n}}})}))}catch(e){return n.warn("Unable to collect user-agent client hints. "+e.message),De}}:De)(navigator)},zn={...Fn,...Hn},Jn=[Bn,e=>{S(e,{implementationDetails:{name:"https://ns.adobe.com/experience/alloy",version:Nn,environment:"browser"}})}],Gn=e=>{let{config:t,logger:n}=e;return((e,t,n,r)=>{const o=e.context.flatMap(((e,r)=>n[e]?[n[e]]:(t.warn("Invalid context["+r+"]: '"+e+"' is not available."),[]))).concat(r);return{namespace:"Context",lifecycle:{onBeforeEvent(e){let{event:n}=e;const r={};return Promise.all(o.map((e=>Promise.resolve(e(r,t))))).then((()=>n.mergeXdm(r)))}}}})(t,n,zn,Jn)};Gn.namespace="Context",Gn.configValidators=Mt({context:Ot(Lt()).default(Object.keys(Fn))});const Qn=e=>{let{eventManager:t,logger:n}=e;return{commands:{sendEvent:{documentationUri:"https://adobe.ly/3GQ3Q7t",optionsValidator:e=>(e=>{let{options:t}=e;return Mt({type:Lt(),xdm:Mt({eventType:Lt(),identityMap:qt}),data:Mt({}),documentUnloading:Tt(),renderDecisions:Tt(),decisionScopes:Ot(Lt()).uniqueItems(),personalization:Mt({decisionScopes:Ot(Lt()).uniqueItems(),surfaces:Ot(Lt()).uniqueItems(),sendDisplayEvent:Tt().default(!0),includeRenderedPropositions:Tt().default(!1),defaultPersonalizationEnabled:Tt(),decisionContext:Mt({})}).default({sendDisplayEvent:!0}),datasetId:Lt(),mergeId:Lt(),edgeConfigOverrides:Ut}).required().noUnknownFields()(t)})({options:e}),run:e=>{const{xdm:r,data:o,documentUnloading:a,type:i,mergeId:s,datasetId:c,edgeConfigOverrides:l,...d}=e,u=t.createEvent();return a&&u.documentMayUnload(),u.setUserXdm(r),u.setUserData(o),i&&u.mergeXdm({eventType:i}),s&&u.mergeXdm({eventMergeId:s}),l&&(d.edgeConfigOverrides=l),c&&(n.warn("The 'datasetId' option has been deprecated. Please use 'edgeConfigOverrides.com_adobe_experience_platform.datasets.event.datasetId' instead."),d.edgeConfigOverrides=l||{},S(d.edgeConfigOverrides,{com_adobe_experience_platform:{datasets:{event:{datasetId:c}}}})),t.sendEvent(u,d)}},applyResponse:{documentationUri:"",optionsValidator:e=>(e=>{let{options:t}=e;return Mt({renderDecisions:Tt(),responseHeaders:Nt(Lt().required()),responseBody:Mt({handle:Ot(Mt({type:Lt().required(),payload:_t().required()})).required()}).required(),personalization:Mt({sendDisplayEvent:Tt().default(!0),decisionContext:Mt({})}).default({sendDisplayEvent:!0})}).noUnknownFields()(t)})({options:e}),run:e=>{const{renderDecisions:n=!1,decisionContext:r={},responseHeaders:o={},responseBody:a={handle:[]},personalization:i}=e,s=t.createEvent();return t.applyResponse(s,{renderDecisions:n,decisionContext:r,responseHeaders:o,responseBody:a,personalization:i})}}}}};Qn.namespace="DataCollector";const Wn=(e,t)=>"ID sync "+(t?"succeeded":"failed")+": "+e.spec.url,Xn=Mt({thirdPartyCookiesEnabled:Tt().default(!0),idMigrationEnabled:Tt().default(!0)});var $n=Mt({url:Lt().required().nonEmpty(),edgeConfigOverrides:Ut}).required().noUnknownFields(),Yn="ECID",Kn=e=>{let{logger:t}=e;return new Promise(((e,n)=>{if(C(window.adobe)&&C(window.adobe.optIn)){const r=window.adobe.optIn;t.info("Delaying request while waiting for legacy opt-in to let Visitor retrieve ECID from server."),r.fetchPermissions((()=>{r.isApproved([r.Categories.ECID])?(t.info("Received legacy opt-in approval to let Visitor retrieve ECID from server."),e()):n(new Error("Legacy opt-in was declined."))}),!0)}else e()}))},Zn=e=>{let{logger:t,orgId:n,awaitVisitorOptIn:r}=e;return()=>{const e=(()=>{const e=window.Visitor;return q(e)&&q(e.getInstance)&&e})();return e?r({logger:t}).then((()=>(t.info("Delaying request while using Visitor to retrieve ECID from server."),new Promise((r=>{e.getInstance(n,{}).getMarketingCloudVisitorID((e=>{t.info("Resuming previously delayed request that was waiting for ECID from Visitor."),r(e)}),!0)}))))).catch((e=>{e?t.info(e.message+", retrieving ECID from experience edge"):t.info("An error occurred while obtaining the ECID from Visitor.")})):Promise.resolve()}},er="CORE",tr=e=>{try{return decodeURIComponent(e)}catch{return""}},nr=(e,t)=>{e.addIdentity(Yn,{id:t})},rr=e=>e.getPayloadsByType("identity:result").reduce(((e,t)=>(t.namespace&&t.namespace.code&&(e[t.namespace.code]=t.id),e)),{}),or=e=>{let{payload:t,datastreamIdOverride:n}=e;return hn({payload:t,datastreamIdOverride:n,getAction:()=>"identity/acquire",getUseSendBeacon:()=>!1})},ar=e=>{const t={query:{identity:{fetch:e}}};return vn({content:t,addIdentity:fn(t),hasIdentity:bn(t)})};const ir=/^([^?#]*)(\??[^#]*)(#?.*)$/,sr=Mt({namespaces:Ot(jt(Yn,er)).nonEmpty().uniqueItems().default([Yn]),edgeConfigOverrides:Ut}).noUnknownFields().default({namespaces:[Yn]}),cr=(e,t)=>{let n,r=0,o=0;do{if(t<0||t+o>=e.length)throw new Error("Invalid varint: buffer ended unexpectedly");if(n=e[t+o],r|=(127&n)<<7*o,o+=1,o>10)throw new Error("Invalid varint: too long")}while(128&n);return{value:r,length:o}},lr=Object.freeze({VARINT:0,I64:1,LEN:2,SGROUP:3,EGROUP:4,I32:5});var dr=e=>{let{orgId:t,cookieJar:n,logger:r}=e;const o=ce(t,"identity");return()=>{const e=n.get(o);if(!e)return null;try{return(e=>{let t=0,n=null;for(;t<e.length&&!n;){const{value:r,length:o}=cr(e,t);t+=o;const a=7&r;if(1==r>>3){if(a===lr.LEN){const r=cr(e,t);return t+=r.length,n=(new TextDecoder).decode(e.slice(t,t+r.value)),t+=r.value,n}}else switch(a){case lr.VARINT:t+=cr(e,t).length;break;case lr.I64:t+=8;break;case lr.LEN:{const n=cr(e,t);t+=n.length+n.value;break}case lr.SGROUP:case lr.EGROUP:break;case lr.I32:t+=4;break;default:throw new Error("Malformed kndctr cookie. Unknown wire type: "+a)}}throw new Error("No ECID found in cookie.")})((e=>{const t=atob(e);return Uint8Array.from(t,(e=>e.codePointAt(0)))})(decodeURIComponent(e).replace(/_/g,"/").replace(/-/g,"+")))}catch(e){return r.warn("Unable to decode ECID from "+o+" cookie",e),null}}};const ur=e=>{let{config:t,logger:n,consent:r,fireReferrerHideableImage:o,sendEdgeNetworkRequest:a,apexDomain:i,getBrowser:s}=e;const{orgId:c,thirdPartyCookiesEnabled:l,edgeConfigOverrides:d}=t,u=Zn({logger:n,orgId:c,awaitVisitorOptIn:Kn}),p=O({logger:n,cookieJar:I}),g=(e=>{let{config:t,getEcidFromVisitor:n,apexDomain:r,isPageSsl:o,cookieJar:a}=e;const{idMigrationEnabled:i,orgId:s}=t,c="AMCV_"+s,l=()=>{let e=null;const t=a.get("s_ecid")||a.get(c);if(t){const n=/(^|\|)MCMID\|(\d+)($|\|)/,r=t.match(n);r&&(e=r[2])}return e};return{getEcid(){if(i){const e=l();return e?Promise.resolve(e):n()}return Promise.resolve()},setEcid(e){if(i&&l()!==e){const t=o?{
sameSite:"none",secure:!0}:{};a.set(c,"MCMID|"+e,{domain:r,expires:390,...t})}}}})({config:t,getEcidFromVisitor:u,apexDomain:i,cookieJar:p,isPageSsl:"https:"===window.location.protocol}),m=be({orgId:c}),f=(e=>{let{sendEdgeNetworkRequest:t,createIdentityRequestPayload:n,createIdentityRequest:r,globalConfigOverrides:o}=e;return function(){let{namespaces:e,edgeConfigOverrides:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=En({payload:n(e),globalConfigOverrides:o,localConfigOverrides:a}),s=r(i);return t({request:s})}})({sendEdgeNetworkRequest:a,createIdentityRequestPayload:ar,createIdentityRequest:or,globalConfigOverrides:d}),h=(e=>{let{getBrowser:t}=e;return ye((()=>ve.includes(t())))})({getBrowser:s}),y=(e=>{let{thirdPartyCookiesEnabled:t,areThirdPartyCookiesSupportedByDefault:n}=e;return e=>{t&&n()&&e.setUseIdThirdPartyDomain()}})({thirdPartyCookiesEnabled:l,areThirdPartyCookiesSupportedByDefault:h}),v=(e=>{let{getLegacyEcid:t,addEcidToPayload:n}=e;return e=>e.hasIdentity(Yn)?Promise.resolve():t().then((t=>{t&&n(e,t)}))})({getLegacyEcid:g.getEcid,addEcidToPayload:nr}),b=(e=>{let{locationSearch:t,dateProvider:n,orgId:r,logger:o}=e;return e=>{if(e.hasIdentity(Yn))return;let a=Ae.parse(t).adobe_mc;if(void 0===a)return;Array.isArray(a)&&(o.warn("Found multiple adobe_mc query string paramters, only using the last one."),a=a[a.length-1]);const i=a.split("|").reduce(((e,t)=>{const[n,r]=t.split("=");return e[n]=tr(r),e[n]=e[n].replace(/[^a-zA-Z0-9@.]/g,""),e}),{}),s=parseInt(i.TS,10),c=i.MCMID,l=tr(i.MCORGID);n().getTime()/1e3<=s+300&&l===r&&c?(o.info("Found valid ECID identity "+c+" from the adobe_mc query string parameter."),e.addIdentity(Yn,{id:c})):o.info("Detected invalid or expired adobe_mc query string parameter.")}})({locationSearch:window.document.location.search,dateProvider:()=>new Date,orgId:c,logger:n}),w=(e=>{let{doesIdentityCookieExist:t,orgId:n,logger:r}=e;return e=>{let{onResponse:o,onRequestFailure:a}=e;return new Promise(((e,i)=>{o((()=>{t()?e():(r.warn("Identity cookie not found. This could be caused by any of the following issues:\n\t* The org ID "+n+" configured in Alloy doesn't match the org ID specified in the edge configuration.\n\t* Experience edge was not able to set the identity cookie due to domain or cookie restrictions.\n\t* The request was canceled by the browser and not fully processed."),i(new Error("Identity cookie not found.")))})),a((()=>{t()?e():i(new Error("Identity cookie not found."))}))}))}})({doesIdentityCookieExist:m,orgId:c,logger:n}),E=(e=>{let t,{doesIdentityCookieExist:n,setDomainForInitialIdentityPayload:r,addLegacyEcidToPayload:o,awaitIdentityCookie:a,logger:i}=e;const s=e=>(r(e),o(e.getPayload()));return e=>{let{request:r,onResponse:o,onRequestFailure:c}=e;if(n())return r.setIsIdentityEstablished(),Promise.resolve();if(t){i.info("Delaying request while retrieving ECID from server.");const e=t;return t=e.catch((()=>a({onResponse:o,onRequestFailure:c}))),e.then((()=>{i.info("Resuming previously delayed request."),r.setIsIdentityEstablished()})).catch((()=>s(r)))}return t=a({onResponse:o,onRequestFailure:c}),t.catch((()=>{})),s(r)}})({doesIdentityCookieExist:m,setDomainForInitialIdentityPayload:y,addLegacyEcidToPayload:v,awaitIdentityCookie:w,logger:n}),C=(e=>{let{fireReferrerHideableImage:t,logger:n}=e;return e=>{const r=e.filter((e=>"url"===e.type));return r.length?Promise.all(r.map((e=>t(e.spec).then((()=>{n.info(Wn(e,!0))})).catch((()=>{n.error(Wn(e,!1))}))))).then(De):Promise.resolve()}})({fireReferrerHideableImage:o,logger:n}),k=(e=>{let{processIdSyncs:t}=e;return e=>t(e.getPayloadsByType("identity:exchange"))})({processIdSyncs:C}),P=(e=>{let{dateProvider:t,orgId:n}=e;return(e,r)=>{const o=Math.round(t().getTime()/1e3),a=encodeURIComponent("TS="+o+"|MCMID="+e+"|MCORGID="+encodeURIComponent(n)),[,i,s,c]=r.match(ir),l=(e=>""===e?"?":"?"===e?"":"&")(s);return""+i+s+l+"adobe_mc="+a+c}})({dateProvider:()=>new Date,orgId:c}),S=(e=>{let{thirdPartyCookiesEnabled:t}=e;return e=>{const n=sr(e);if(!t&&n.namespaces.includes(er))throw new Error("namespaces: The CORE namespace cannot be requested when third-party cookies are disabled.");return n}})({thirdPartyCookiesEnabled:l}),D=(e=>{let{thirdPartyCookiesEnabled:t,areThirdPartyCookiesSupportedByDefault:n}=e;const r={identity:{fetch:[Yn]}};return t&&n()&&r.identity.fetch.push(er),e=>{e.mergeQuery(r)}})({thirdPartyCookiesEnabled:l,areThirdPartyCookiesSupportedByDefault:h}),_=dr({orgId:c,cookieJar:p,logger:n});return(e=>{let t,{addEcidQueryToPayload:n,addQueryStringIdentityToPayload:r,ensureSingleIdentity:o,setLegacyEcid:a,handleResponseForIdSyncs:i,getNamespacesFromResponse:s,getIdentity:c,consent:l,appendIdentityToUrl:d,logger:u,getIdentityOptionsValidator:p,decodeKndctrCookie:g}=e,m={};return{lifecycle:{onBeforeRequest(e){let{request:t,onResponse:a,onRequestFailure:i}=e;return n(t.getPayload()),r(t.getPayload()),o({request:t,onResponse:a,onRequestFailure:i})},onResponse(e){let{response:n}=e;const r=s(n);return t&&t[Yn]||!r||!r[Yn]||a(r[Yn]),r&&Object.keys(r).length>0&&(t={...t,...r}),m={...m,...n.getEdge()},i(n)}},commands:{getIdentity:{optionsValidator:p,run:e=>{const{namespaces:n}=e;return l.awaitConsent().then((()=>{if(t)return;const r=g();return r&&n.includes(Yn)&&(t||(t={}),t[Yn]=r,1===n.length)?void 0:c(e)})).then((()=>({identity:n.reduce(((e,n)=>(e[n]=t[n]||null,e)),{}),edge:m})))}},appendIdentityToUrl:{optionsValidator:$n,run:e=>l.withConsent().then((()=>{if(t)return;const n=g();return n?(t||(t={}),void(t[Yn]=n)):c(e)})).then((()=>({url:d(t[Yn],e.url)}))).catch((t=>(u.warn("Unable to append identity to url. "+t.message),e)))}}}})({addEcidQueryToPayload:D,addQueryStringIdentityToPayload:b,ensureSingleIdentity:E,setLegacyEcid:g.setEcid,handleResponseForIdSyncs:k,getNamespacesFromResponse:rr,getIdentity:f,consent:r,appendIdentityToUrl:P,logger:n,getIdentityOptionsValidator:S,decodeKndctrCookie:_})};ur.namespace="Identity",ur.configValidators=Xn;const pr=e=>{let{config:t,componentRegistry:n}=e;const r=[...n.getCommandNames(),on,an].sort(),o={...t};Object.keys(t).forEach((e=>{const n=t[e];"function"==typeof n&&(o[e]=n.toString())}));const a=n.getComponentNames();return{version:Nn,configs:o,commands:r,components:a}},gr=e=>{let{config:t,componentRegistry:n}=e;return{commands:{getLibraryInfo:{run:()=>({libraryInfo:pr({config:t,componentRegistry:n})})}}}};gr.namespace="LibraryInfo";var mr=Object.freeze({__proto__:null,context:Gn,dataCollector:Qn,identity:ur,libraryInfo:gr});const fr=Ee(window),{console:hr,fetch:yr,navigator:vr}=window,br=Mt({debugEnabled:Tt().default(!1),datastreamId:Lt().unique().required(),edgeDomain:Lt().domain().default("edge.adobedc.net"),edgeBasePath:Lt().nonEmpty().default("ee"),orgId:Lt().unique().required(),onBeforeEventSend:Rt().default(De),edgeConfigOverrides:Ut}).renamed("edgeConfigId",Lt().unique(),"datastreamId"),wr=((e,t)=>{let n="";const r=e.location.hostname.toLowerCase().split(".");let o=1;for(;o<r.length&&!t.get(ae);)o+=1,n=(a=r,i=o,a.slice(-i)).join("."),t.set(ae,ae,{domain:n});var a,i;return t.remove(ae,{domain:n}),n})(window,I),Er=(e=>{let{fetch:t}=e;return(e,n)=>t(e,{method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"text/plain; charset=UTF-8"},referrerPolicy:"no-referrer-when-downgrade",body:n}).then((e=>e.text().then((t=>({statusCode:e.status,getHeader:t=>e.headers.get(t),body:t})))))})({fetch:yr}),Cr=function(){let{appendNode:e=x,awaitSelector:t=Y,createNode:n=A,fireImage:r=j}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=r;let a;const i=o=>{let{src:i}=o;return t("BODY").then((t=>{let[r]=t;return a||(a=n("IFRAME",Z,ee),e(r,a))})).then((e=>{const t=e.contentWindow.document;return r({src:i,currentDocument:t})}))};return e=>{const{hideReferrer:t,url:n}=e;return t?i({src:n}):o({src:n})}}(),kr=(e=>{let{window:t,createNamespacedStorage:r}=e;const o=r("validation.");return()=>{const e=Ae.parse(t.location.search).adb_validation_sessionid;if(!e)return"";const r=(e=>{let t=e.persistent.getItem(Cn);return t||(t=n(),e.persistent.setItem(Cn,t)),t})(o),a=e+"|"+r;return"&"+Ae.stringify({adobeAepValidationToken:a})}})({window:window,createNamespacedStorage:fr}),Ir=(e=>{let{userAgent:t}=e;return ye((()=>((e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const o=n[r];if(e[o].test(t))return o}return he})({[ue]:/Edge\/([0-9\._]+)/,[pe]:/Edg\/([0-9\.]+)/,[de]:/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/,[ge]:/Firefox\/([0-9\.]+)(?:\s|$)/,[me]:/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/,[fe]:/Version\/([0-9\._]+).*Safari/},t)))})({userAgent:window.navigator.userAgent}),Pr=e=>{let{instanceName:t,logController:{setDebugEnabled:n,logger:r,createComponentLogger:o},components:a}=e;const i=Jt(),s=Ht(i),c=a.concat(Object.values(mr)),l=O({logger:r,cookieJar:I}),d=pn({errorPrefix:"["+t+"]",logger:r}),u=sn({logger:r,configureCommand:e=>{const a=dn({options:e,componentCreators:c,coreConfigValidators:br,createConfig:un,logger:r,setDebugEnabled:n}),{orgId:d,targetMigrationEnabled:u}=a,p=In({orgId:d,targetMigrationEnabled:u}),g=(e=>{let{cookieJar:t,shouldTransferCookie:n,apexDomain:r,dateProvider:o}=e;return{cookiesToPayload(e,o){const a=""!==r&&o.endsWith(r),i={domain:r,cookiesEnabled:!0};if(!a){const e=t.get(),r=Object.keys(e).filter(n).map((t=>({key:t,value:e[t]})));r.length&&(i.entries=r)}e.mergeState(i)},responseToCookies(e){e.getPayloadsByType("state:store").forEach((e=>{const n={domain:r},a=e.attrs&&e.attrs.SameSite&&e.attrs.SameSite.toLowerCase();void 0!==e.maxAge&&(n.expires=new Date(o().getTime()+1e3*e.maxAge)),void 0!==a&&(n.sameSite=a),"none"===a&&(n.secure=!0),t.set(e.key,e.value,n)}))}}})({cookieJar:l,shouldTransferCookie:p,apexDomain:wr,dateProvider:()=>new Date}),m=q(vr.sendBeacon)?(e=>{let{sendBeacon:t,sendFetchRequest:n,logger:r}=e;return(e,o)=>{const a=new Blob([o],{type:"text/plain; charset=UTF-8"});return t(e,a)?Promise.resolve({statusCode:204,getHeader:()=>null,body:""}):(r.info("Unable to use `sendBeacon`; falling back to `fetch`."),n(e,o))}})({sendBeacon:vr.sendBeacon.bind(vr),sendFetchRequest:Er,logger:r}):Er,f=(e=>{let{logger:t,sendFetchRequest:n,sendBeaconRequest:r,isRequestRetryable:o,getRequestRetryDelay:a}=e;return e=>{let{requestId:i,url:s,payload:c,useSendBeacon:l}=e;const d=JSON.stringify(c),u=JSON.parse(d);t.logOnBeforeNetworkRequest({url:s,requestId:i,payload:u});const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(l?r:n)(s,d).then((n=>{if(o({response:n,retriesAttempted:e})){const t=a({response:n,retriesAttempted:e});return new Promise((n=>{setTimeout((()=>{n(p(e+1))}),t)}))}let r;try{r=JSON.parse(n.body)}catch{}return t.logOnNetworkResponse({requestId:i,url:s,payload:u,...n,parsedBody:r,retriesAttempted:e}),{statusCode:n.statusCode,body:n.body,parsedBody:r,getHeader:n.getHeader}}))};return p().catch((e=>{throw t.logOnNetworkError({requestId:i,url:s,payload:u,error:e}),je({error:e,message:"Network request failed."})}))}})({logger:r,sendFetchRequest:Er,sendBeaconRequest:m,isRequestRetryable:Tn,getRequestRetryDelay:Rn}),h=(e=>{let{logger:t}=e;return e=>{const{statusCode:n,body:r,parsedBody:o}=e;if(n<200||n>=300||!o&&204!==n||o&&!Array.isArray(o.handle)){const e=o?JSON.stringify(o,null,2):r;throw new Error(Dn+" status code "+n+" and "+(e?"response body:\n"+e:"no response body."))}if(o){const{warnings:e=[],errors:n=[]}=o;e.forEach((e=>{t.warn(Dn+" warning:",e)})),n.forEach((e=>{t.error(Dn+" non-fatal error:",e)}))}}})({logger:r}),y=(e=>{let{logger:t}=e;return e=>{if(e){const n=e.split(";");if(n.length>=2&&n[1].length>0)try{const e=parseInt(n[1],10);if(!Number.isNaN(e))return{regionId:e}}catch{}t.warn('Invalid adobe edge: "'+e+'"')}return{}}})({logger:r}),v=(e=>{let{extractEdgeInfo:t}=e;return e=>{let{content:n={},getHeader:r}=e;const{handle:o=[],errors:a=[],warnings:i=[]}=n;return{getPayloadsByType:e=>o.filter((t=>t.type===e)).flatMap((e=>e.payload)),getErrors:()=>a,getWarnings:()=>i,getEdge:()=>t(r("x-adobe-edge")),toJSON:()=>n}}})({extractEdgeInfo:y}),b=_n({orgId:d,cookieJar:I}),w=(e=>{let{config:t,lifecycle:n,cookieTransfer:r,sendNetworkRequest:o,createResponse:a,processWarningsAndErrors:i,getLocationHint:s,getAssuranceValidationTokenParams:c}=e;const{edgeDomain:l,edgeBasePath:d,datastreamId:u}=t;let p=!1;const g=(e,t)=>{const n=s(),r=n?d+"/"+n+t.getEdgeSubPath():""+d+t.getEdgeSubPath(),o=t.getDatastreamIdOverride()||u;return o!==u&&t.getPayload().mergeMeta({sdkConfig:{datastream:{original:u}}}),"https://"+e+"/"+r+"/v1/"+t.getAction()+"?configId="+o+"&requestId="+t.getId()+c()};return e=>{let{request:t,runOnResponseCallbacks:s=De,runOnRequestFailureCallbacks:c=De}=e;const d=_();d.add(n.onResponse),d.add(s);const u=_();return u.add(n.onRequestFailure),u.add(c),n.onBeforeRequest({request:t,onResponse:d.add,onRequestFailure:u.add}).then((()=>{const e=p||!t.getUseIdThirdPartyDomain()?l:"adobedc.demdex.net",n=g(e,t),a=t.getPayload();return r.cookiesToPayload(a,e),o({requestId:t.getId(),url:n,payload:a,useSendBeacon:t.getUseSendBeacon()})})).then((e=>(i(e),e))).catch((e=>{if(((e,t)=>t.getUseIdThirdPartyDomain()&&(e=>"TypeError"===e.name||"NetworkError"===e.name||0===e.status)(e))(e,t)){p=!0,t.setUseIdThirdPartyDomain(!1);const e=g(l,t),n=t.getPayload();return r.cookiesToPayload(n,l),o({requestId:t.getId(),url:e,payload:n,useSendBeacon:t.getUseSendBeacon()})}return Sn(u)(e)})).then((e=>{let{parsedBody:t,getHeader:n}=e;const o=a({content:t,getHeader:n});return r.responseToCookies(o),d.call({response:o}).then(Pn)}))}})({config:a,lifecycle:s,cookieTransfer:g,sendNetworkRequest:f,createResponse:v,processWarningsAndErrors:h,getLocationHint:b,getAssuranceValidationTokenParams:kr}),E=(e=>{let{cookieTransfer:t,lifecycle:n,createResponse:r,processWarningsAndErrors:o}=e;return e=>{let{request:a,responseHeaders:i,responseBody:s,runOnResponseCallbacks:c=De,runOnRequestFailureCallbacks:l=De}=e;const d=_();d.add(n.onResponse),d.add(c);const u=_();u.add(n.onRequestFailure),u.add(l);const p=e=>i[e];return n.onBeforeRequest({request:a,onResponse:d.add,onRequestFailure:u.add}).then((()=>o({statusCode:200,getHeader:p,body:JSON.stringify(s),parsedBody:s}))).catch(Sn(u)).then((()=>{const e=r({content:s,getHeader:p});return t.responseToCookies(e),d.call({response:e}).then(Pn)}))}})({lifecycle:s,cookieTransfer:g,createResponse:v,processWarningsAndErrors:h}),C=(e=>{let{generalConsentState:t,logger:n}=e;const r=(e,r)=>{switch(e[Xt]){case Gt:t.in(r);break;case Qt:t.out(r);break;case Wt:t.pending(r);break;default:n.warn("Unknown consent value: "+e[Xt])}};return{initializeConsent(e,t){t[Xt]?r(t,Kt):r(e,Yt)},setConsent(e){r(e,Zt)},suspend(){t.pending()},awaitConsent:()=>t.awaitConsent(),withConsent:()=>t.withConsent(),current:()=>t.current()}})({generalConsentState:tn({logger:r}),logger:r}),k=(e=>{let{config:t,logger:n,lifecycle:r,consent:o,createEvent:a,createDataCollectionRequestPayload:i,createDataCollectionRequest:s,sendEdgeNetworkRequest:c,applyResponse:l}=e;const{onBeforeEventSend:d,edgeConfigOverrides:u}=t;return{createEvent:a,sendEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{edgeConfigOverrides:a,...l}=t,p=En({payload:i(),localConfigOverrides:a,globalConfigOverrides:u}),g=s(p),m=_(),f=_();return r.onBeforeEvent({...l,event:e,onResponse:m.add,onRequestFailure:f.add}).then((()=>(p.payload.addEvent(e),o.awaitConsent()))).then((()=>{try{e.finalize(d)}catch(e){const t=()=>{throw e};return f.add(r.onRequestFailure),f.call({error:e}).then(t,t)}if(!e.shouldSend()){f.add(r.onRequestFailure),n.info(kn);const e=new Error(kn);return f.call({error:e}).then((()=>{}))}return c({request:g,runOnResponseCallbacks:m.call,runOnRequestFailureCallbacks:f.call})}))},applyResponse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{renderDecisions:n=!1,decisionContext:o={},responseHeaders:a={},responseBody:c={handle:[]},personalization:d}=t,u=i(),p=s({payload:u}),g=_();return r.onBeforeEvent({event:e,renderDecisions:n,decisionContext:o,decisionScopes:[mn],personalization:d,onResponse:g.add,onRequestFailure:De}).then((()=>(u.addEvent(e),l({request:p,responseHeaders:a,responseBody:c,runOnResponseCallbacks:g.call}))))}}})({config:a,logger:r,lifecycle:s,consent:C,createEvent:rn,createDataCollectionRequestPayload:wn,createDataCollectionRequest:yn,sendEdgeNetworkRequest:w,applyResponse:E});return(e=>{let{componentCreators:t,lifecycle:n,componentRegistry:r,getImmediatelyAvailableTools:o}=e;return t.forEach((e=>{const{namespace:t}=e,n=o(t);let a;try{a=e(n)}catch(e){throw je({error:e,message:"["+t+"] An error occurred during component creation."})}r.register(t,a)})),n.onComponentsRegistered({lifecycle:n}).then((()=>r))})({componentCreators:c,lifecycle:s,componentRegistry:i,getImmediatelyAvailableTools(e){const n=o(e);return{config:a,componentRegistry:i,consent:C,eventManager:k,fireReferrerHideableImage:Cr,logger:n,lifecycle:s,sendEdgeNetworkRequest:w,handleError:pn({errorPrefix:"["+t+"] ["+e+"]",logger:n}),createNamespacedStorage:fr,apexDomain:wr,getBrowser:Ir}}})},setDebugCommand:e=>{n(e.enabled,{fromConfig:!1})},handleError:d,validateCommandOptions:ln});return u};var Sr=e=>{let{eventManager:t,lifecycle:n,handleError:r}=e;const o=(e=>{let{eventManager:t,lifecycle:n,handleError:r}=e;return e=>{if(e.s_fe)return Promise.resolve();const o="composedPath"in e&&e.composedPath().length>0?e.composedPath()[0]:e.target,a=t.createEvent();return a.documentMayUnload(),n.onClick({event:a,clickedElement:o}).then((()=>a.isEmpty()?Promise.resolve():t.sendEvent(a))).then(De).catch((e=>{r(e,"click collection")}))}})({eventManager:t,lifecycle:n,handleError:r});document.addEventListener("click",o,!0)};const Dr="\\.(exe|zip|wav|mp3|mov|mpg|avi|wmv|pdf|doc|docx|xls|xlsx|ppt|pptx)$",_r=Lt().regexp().default(Dr),Or=Mt({clickCollectionEnabled:Tt().default(!0),clickCollection:Mt({internalLinkEnabled:Tt().default(!0),externalLinkEnabled:Tt().default(!0),downloadLinkEnabled:Tt().default(!0),sessionStorageEnabled:Tt().default(!1),eventGroupingEnabled:Tt().default(!1),filterClickProperties:Rt()}).default({internalLinkEnabled:!0,externalLinkEnabled:!0,downloadLinkEnabled:!0,sessionStorageEnabled:!1,eventGroupingEnabled:!1}),downloadLinkQualifier:_r,onBeforeLinkClickSend:Rt().deprecated('The field "onBeforeLinkClickSend" has been deprecated. Use "clickCollection.filterClickDetails" instead.')});var Tr=function(){return null!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).getElementById("cppXYctnr")},Rr=e=>{let t=e;return/^https?:\/\//i.test(t)||(t=window.location.protocol+"//"+e),new URL(t).hostname},xr=e=>{let{config:t,logger:n,getClickedElementProperties:r,clickActivityStorage:o}=e;const{clickCollectionEnabled:a,clickCollection:i}=t;return a?e=>{let{event:a,clickedElement:s}=e;const c=r({clickActivityStorage:o,clickedElement:s,config:t,logger:n}),l=c.linkType;var d,u;Tr()||(c.isValidLink()&&((e,t)=>t&&("download"===t&&!e.downloadLinkEnabled||"exit"===t&&!e.externalLinkEnabled||"other"===t&&!e.internalLinkEnabled))(i,l)?n.info("Cancelling link click event due to clickCollection."+l+"LinkEnabled = false."):c.isInternalLink()&&i.eventGroupingEnabled&&(!t.onBeforeLinkClickSend||i.filterClickDetails)&&(d=window.location.hostname,u=c.linkUrl,Rr(d)===Rr(u))?o.save(c.properties):c.isValidLink()?(a.mergeXdm(c.xdm),a.mergeData(c.data),o.save({pageName:c.pageName,pageIDType:c.pageIDType})):c.isValidActivityMapData()&&o.save(c.properties))}:()=>{}},Ar=function(){let{properties:e,logger:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e||{};return{get pageName(){return n.pageName},set pageName(e){n.pageName=e},get linkName(){return n.linkName},set linkName(e){n.linkName=e},get linkRegion(){return n.linkRegion},set linkRegion(e){n.linkRegion=e},get linkType(){return n.linkType},set linkType(e){n.linkType=e},get linkUrl(){return n.linkUrl},set linkUrl(e){n.linkUrl=e},get pageIDType(){return n.pageIDType},set pageIDType(e){n.pageIDType=e},get clickedElement(){return n.clickedElement},set clickedElement(e){n.clickedElement=e},get properties(){return{pageName:n.pageName,linkName:n.linkName,linkRegion:n.linkRegion,linkType:n.linkType,linkUrl:n.linkUrl,pageIDType:n.pageIDType}},isValidLink:()=>!!(n.linkUrl&&n.linkType&&n.linkName&&n.linkRegion),isInternalLink(){return this.isValidLink()&&"other"===n.linkType},isValidActivityMapData:()=>!!n.pageName&&!!n.linkName&&!!n.linkRegion&&void 0!==n.pageIDType,get xdm(){return n.filteredXdm?n.filteredXdm:(e=>({eventType:"web.webinteraction.linkClicks",web:{webInteraction:{name:e.linkName,region:e.linkRegion,type:e.linkType,URL:e.linkUrl,linkClicks:{value:1}}}}))(this)},get data(){return n.filteredData?n.filteredData:(e=>({__adobe:{analytics:{contextData:{a:{activitymap:{page:e.pageName,link:e.linkName,region:e.linkRegion,pageIDType:e.pageIDType}}}}}}))(this)},applyPropertyFilter(e){e&&!1===e(n)&&(t&&t.info("Clicked element properties were rejected by filter function: "+JSON.stringify(this.properties,null,2)),n={})},applyOptionsFilter(e){const r=this.options;if(r&&r.clickedElement&&(r.xdm||r.data)){if(e&&!1===e(r))return t&&t.info("Clicked element properties were rejected by filter function: "+JSON.stringify(this.properties,null,2)),void(this.options=void 0);this.options=r,n.filteredXdm=r.xdm,n.filteredData=r.data}},get options(){const e={};if(this.isValidLink()&&(e.xdm=this.xdm),this.isValidActivityMapData()&&(e.data=this.data),this.clickedElement&&(e.clickedElement=this.clickedElement),e.xdm||e.data)return e},set options(e){n={},e&&((e,t)=>{const{xdm:n,data:r,clickedElement:o}=e;if(t.clickedElement=o,n&&n.web&&n.web.webInteraction){const{name:e,region:r,type:o,URL:a}=n.web.webInteraction;t.linkName=e,t.linkRegion=r,t.linkType=o,t.linkUrl=a}if(r&&r.__adobe&&r.__adobe.analytics){const{contextData:e}=r.__adobe.analytics;if(e&&e.a&&e.a.activitymap){const{page:n,link:r,region:o,pageIDType:a}=e.a.activitymap;t.pageName=n||t.pageName,t.linkName=r||t.linkName,t.linkRegion=o||t.linkRegion,void 0!==a&&(t.pageIDType=a)}}})(e,n)}}};const Nr="clickData";var Mr=e=>e&&e.replace(/\s+/g," ").trim();const Lr=/^(SCRIPT|STYLE|LINK|CANVAS|NOSCRIPT|#COMMENT)$/i,jr=e=>{let t=[],n=!1;return(e=>!(e&&e.nodeName&&e.nodeName.match(Lr)))(e)?(t.push(e),e.childNodes&&Array.prototype.slice.call(e.childNodes).forEach((e=>{const r=jr(e);t=t.concat(r.supportedNodes),n=n||r.includesUnsupportedNodes}))):n=!0,{supportedNodes:t,includesUnsupportedNodes:n}},qr=(e,t,n)=>{let r;return n&&n!==e.nodeName.toUpperCase()||(r=e.getAttribute(t)),r},Ur=/^(HEADER|MAIN|FOOTER|NAV)$/i,Vr=e=>{let t;return"region"===e.role&&Se(e["aria-label"])&&(t=e["aria-label"]),t},Br=e=>{let t;return e&&e.nodeName&&e.nodeName.match(Ur)&&(t=e.nodeName),t};var Fr=e=>!(!e.href||"A"!==e.tagName&&"AREA"!==e.tagName||e.onclick&&e.protocol&&!(e.protocol.toLowerCase().indexOf("javascript")<0)),Hr=e=>!!e&&!!e.onclick,zr=e=>{if("INPUT"===e.tagName){const t=e.getAttribute("type");if("submit"===t)return!0;if("image"===t&&e.src)return!0}return!1},Jr=e=>"BUTTON"===e.tagName&&"submit"===e.type,Gr=e=>{const t=e.indexOf("?"),n=e.indexOf("#");return t>=0&&(t<n||n<0)?e.substring(0,t):n>=0?e.substring(0,n):e};const Qr=(e=>{let{window:t,getLinkName:n,getLinkRegion:r,getAbsoluteUrlFromAnchorElement:o,findClickableElement:a,determineLinkType:i}=e;return e=>{let{clickedElement:s,config:c,logger:l,clickActivityStorage:d}=e;const{onBeforeLinkClickSend:u,clickCollection:p}=c,{filterClickDetails:g}=p,m=Ar({logger:l});if(s){const e=a(s);if(e){m.clickedElement=s,m.linkUrl=o(t,e),m.linkType=i(t,c,m.linkUrl,e),m.linkRegion=r(e),m.linkName=n(e),m.pageIDType=0,m.pageName=t.location.href;const a=d.load();a&&a.pageName&&(m.pageName=a.pageName,m.pageIDType=1),g?m.applyPropertyFilter(g):u&&m.applyOptionsFilter(u)}}return m}})({window:window,getLinkName:e=>{let t=Mr(e.innerText||e.textContent);const n=jr(e);if(!t||n.includesUnsupportedNodes){const e=(e=>{const t={texts:[]};return e.supportedNodes.forEach((e=>{e.getAttribute&&(t.alt||(t.alt=Mr(e.getAttribute("alt"))),t.title||(t.title=Mr(e.getAttribute("title"))),t.inputValue||(t.inputValue=Mr(qr(e,"value","INPUT"))),t.imgSrc||(t.imgSrc=Mr(qr(e,"src","IMG")))),e.nodeValue&&t.texts.push(e.nodeValue)})),t})(n);t=Mr(e.texts.join("")),t||(t=e.alt||e.title||e.inputValue||e.imgSrc)}return t||""},getLinkRegion:e=>{let t,n=e.parentNode;for(;n;){if(t=Mr(n.id||Vr(n)||Br(n)),t)return t;n=n.parentNode}return"BODY"},getAbsoluteUrlFromAnchorElement:(e,t)=>{const n=e.location;let r=t.href||"";"string"!=typeof r&&(r="");let{protocol:o,host:a}=t;if(r&&(!(i=r)||!/^[a-z0-9]+:\/\//i.test(i))){o||(o=n.protocol?n.protocol:""),o=o?o+"//":"",a||(a=n.host?n.host:"");let e="";if("/"!==r.substring(0,1)){let t=n.pathname.lastIndexOf("/");t=t<0?0:t,e=n.pathname.substring(0,t)}r=""+o+a+e+"/"+r}var i;return r},findClickableElement:e=>{let t=e;for(;t;){if(Fr(t)||Hr(t)||zr(t)||Jr(t))return t;t=t.parentNode}return null},determineLinkType:(e,t,n,r)=>{let o="other";return Se(n)&&(((e,t,n)=>{let r=!1;if(t)if(n&&n.download)r=!0;else if(e){const n=new RegExp(e),o=Gr(t).toLowerCase();r=n.test(o)}return r})(t.downloadLinkQualifier,n,r)?o="download":((e,t)=>{let n=!1;if(t&&e.location.hostname){const r=e.location.hostname.toLowerCase();n=Gr(t).toLowerCase().indexOf(r)<0}return n})(e,n)&&(o="exit")),o}});let Wr;const Xr=e=>{if(!Wr){const t=Ee(window)(e.orgId||""),n=(()=>{const e={};return{getItem:t=>e[t],setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}})(),r=e.clickCollection.sessionStorageEnabled?t.session:n;Wr=(e=>{let{storage:t}=e;return{save:e=>{const n=JSON.stringify(e);t.setItem(Nr,n)},load:()=>{let e=null;const n=t.getItem(Nr);return n&&(e=JSON.parse(n)),e},remove:()=>{t.removeItem(Nr)}}})({storage:r})}},$r=e=>{let{config:t,eventManager:n,handleError:r,logger:o}=e;((e,t)=>{const{clickCollectionEnabled:n,onBeforeLinkClickSend:r,downloadLinkQualifier:o}=e;!1===n&&(r&&t.warn("The 'onBeforeLinkClickSend' configuration was provided but will be ignored because clickCollectionEnabled is false."),o&&o!==Dr&&t.warn("The 'downloadLinkQualifier' configuration was provided but will be ignored because clickCollectionEnabled is false."))})(t,o);const a=t.clickCollection;Wr||Xr(t);const i=xr({config:t,logger:o,clickActivityStorage:Wr,getClickedElementProperties:Qr}),s=(e=>{let{clickActivityStorage:t}=e;return e=>{if(Tr())return;const n=t.load(),r=Ar({properties:n});if(r.isValidLink()||r.isValidActivityMapData()){if(r.isValidLink()){const t=r.xdm;delete t.eventType,e.mergeXdm(t)}r.isValidActivityMapData()&&e.mergeData(r.data),t.save({pageName:r.pageName,pageIDType:r.pageIDType})}}})({clickActivityStorage:Wr}),c=(e=>{let{clickActivityStorage:t}=e;return e=>{t.save({pageName:e.getContent().xdm.web.webPageDetails.name,pageIDType:1})}})({clickActivityStorage:Wr});return{lifecycle:{onComponentsRegistered(e){const{lifecycle:t}=e;Sr({eventManager:n,lifecycle:t,handleError:r})},onClick(e){let{event:t,clickedElement:n}=e;i({event:t,clickedElement:n})},onBeforeEvent(e){let{event:t}=e;(e=>{const t=e.getContent();return void 0!==t.xdm&&void 0!==t.xdm.web&&void 0!==t.xdm.web.webPageDetails&&void 0!==t.xdm.web.webPageDetails.name})(t)&&(a.eventGroupingEnabled&&s(t),c(t,o,Wr))}}}};$r.namespace="ActivityCollector",$r.configValidators=Or,$r.buildOnInstanceConfiguredExtraParams=e=>{let{config:t,logger:n}=e;return Wr||Xr(t),{getLinkDetails:e=>Qr({clickActivityStorage:Wr,clickedElement:e,config:t,logger:n}).properties}};var Yr=e=>{let{fireReferrerHideableImage:t,logger:n,cookieJar:r,isPageSsl:o}=e;const a=o?{sameSite:"none",secure:!0}:{};return e=>((e=>{e.filter((e=>"cookie"===e.type)).forEach((e=>{const{name:t,value:n,domain:o,ttlDays:i}=e.spec;r.set(t,n||"",{domain:o||"",expires:i||10,...a})}))})(e),(e=>{const r=e.filter((e=>"url"===e.type));return Promise.all(r.map((e=>t(e.spec).then((()=>{n.info((e=>"URL destination succeeded: "+e.spec.url)(e))})).catch((()=>{}))))).then(De)})(e))},Kr=e=>{let{processDestinations:t}=e;return e=>{let{response:n}=e;return(e=>{let{response:n}=e;const r=n.getPayloadsByType("activation:push");return t(r)})({response:n}).then((()=>(e=>{let{response:t}=e;return{destinations:t.getPayloadsByType("activation:pull")}})({response:n})))}};const Zr=e=>{let{logger:t,fireReferrerHideableImage:n}=e;const r=I.withConverter({write:e=>encodeURIComponent(e)}),o=O({logger:t,cookieJar:r}),a=Yr({fireReferrerHideableImage:n,logger:t,cookieJar:o,isPageSsl:"https:"===window.location.protocol});return{lifecycle:{onResponse:Kr({processDestinations:a})},commands:{}}};Zr.namespace="Audiences";var eo=e=>re(JSON.stringify(Ne(e)));const to=e=>{let{standard:t,version:n}=e;return t+"."+n};var no=()=>{const e={},t=vn({content:e,addIdentity:(t,n)=>{e.identityMap=e.identityMap||{},e.identityMap[t]=e.identityMap[t]||[],e.identityMap[t].push(n)},hasIdentity:t=>void 0!==(e.identityMap&&e.identityMap[t])});return t.setConsent=t=>{e.consent=t},t},ro=e=>{let{payload:t,datastreamIdOverride:n}=e;return hn({payload:t,datastreamIdOverride:n,getAction:()=>"privacy/set-consent",getUseSendBeacon:()=>!1})},oo=e=>e.split(";").reduce(((e,t)=>{const[n,r]=t.split("=");return e[n]=r,e}),{}),ao=Mt({consent:Ot(_t()).required().nonEmpty(),identityMap:qt,edgeConfigOverrides:Ut}).noUnknownFields().required(),io=Mt({defaultConsent:jt(Gt,Qt,Wt).default(Gt)});const so=e=>{let{config:t,consent:n,sendEdgeNetworkRequest:r,createNamespacedStorage:o}=e;const{orgId:a,defaultConsent:i}=t,s=(e=>{let{parseConsentCookie:t,orgId:n,cookieJar:r}=e;const o=ce(n,"consent");return{read(){const e=r.get(o);return e?t(e):{}},clear(){r.remove(o)}}})({parseConsentCookie:oo,orgId:a,cookieJar:I}),c=(()=>{let e=0,t=Promise.resolve();return{addTask(n){e+=1;const r=()=>n().finally((()=>{e-=1}));return t=t.then(r,r),t},get length(){return e}}})(),l=(e=>{let{createConsentRequestPayload:t,createConsentRequest:n,sendEdgeNetworkRequest:r,edgeConfigOverrides:o}=e;return e=>{let{consentOptions:a,identityMap:i,edgeConfigOverrides:s}=e;const c=En({payload:t(),globalConfigOverrides:o,localConfigOverrides:s});c.payload.setConsent(a),C(i)&&Object.keys(i).forEach((e=>{i[e].forEach((t=>{c.payload.addIdentity(e,t)}))}));const l=n(c);return r({request:l}).then((()=>{}))}})({createConsentRequestPayload:no,createConsentRequest:ro,sendEdgeNetworkRequest:r,edgeConfigOverrides:t.edgeConfigOverrides}),d=(e=>{let{storage:t}=e;return{clear(){t.clear()},lookup(e){const n={},r=e=>{const t=to(e),{standard:r,version:o,...a}=e;return n[t]||(n[t]=eo(a).toString()),n[t]};return{isNew:()=>e.some((e=>{const n=to(e),o=t.getItem(n);return null===o||o!==r(e)})),save(){e.forEach((e=>{const n=to(e);t.setItem(n,r(e))}))}}}}})({storage:o(se(a)+".consentHashes.").persistent}),u=be({orgId:a});return(e=>{let{storedConsent:t,taskQueue:n,defaultConsent:r,consent:o,sendSetConsentRequest:a,validateSetConsentOptions:i,consentHashStore:s,doesIdentityCookieExist:c}=e;const l={[Xt]:r};let d=t.read();const u=c(),p=void 0!==d[Xt];u&&p||s.clear(),u||(t.clear(),d={}),o.initializeConsent(l,d);const g=()=>{if(0===n.length){const e=t.read();void 0!==e[Xt]&&o.setConsent(e)}};return{commands:{setConsent:{optionsValidator:i,run:e=>{let{consent:t,identityMap:r,edgeConfigOverrides:i}=e;o.suspend();const c=s.lookup(t);return n.addTask((()=>c.isNew()?a({consentOptions:t,identityMap:r,edgeConfigOverrides:i}):Promise.resolve())).then((()=>c.save())).finally(g)}}},lifecycle:{onResponse:g,onRequestFailure:g}}})({storedConsent:s,taskQueue:c,defaultConsent:i,consent:n,sendSetConsentRequest:l,validateSetConsentOptions:ao,consentHashStore:d,doesIdentityCookieExist:u})};so.namespace="Consent",so.configValidators=io;var co=()=>({eventMergeId:n()});const lo=()=>(e=>{let{createEventMergeId:t}=e;return{commands:{createEventMergeId:{run:t}}}})({createEventMergeId:co});lo.namespace="EventMerge";var uo={PAUSE:"media.pauseStart",PLAY:"media.play",BUFFER_START:"media.bufferStart",AD_START:"media.adStart",Ad_BREAK_START:"media.adBreakStart",SESSION_END:"media.sessionEnd",SESSION_START:"media.sessionStart",SESSION_COMPLETE:"media.sessionComplete",PING:"media.ping",AD_BREAK_COMPLETE:"media.adBreakComplete",AD_COMPLETE:"media.adComplete",AD_SKIP:"media.adSkip",BITRATE_CHANGE:"media.bitrateChange",CHAPTER_COMPLETE:"media.chapterComplete",CHAPTER_SKIP:"media.chapterSkip",CHAPTER_START:"media.chapterStart",ERROR:"media.error",STATES_UPDATE:"media.statesUpdate"},po=e=>{let{config:t,eventManager:n,consent:r,sendEdgeNetworkRequest:o,setTimestamp:a}=e;return{createMediaEvent(e){let{options:r}=e;const o=n.createEvent(),{xdm:i}=r;if(a(i),o.setUserXdm(i),i.eventType===uo.AD_START){const{advertisingDetails:e}=r.xdm.mediaCollection;o.mergeXdm({mediaCollection:{advertisingDetails:{playerName:e.playerName||t.streamingMedia.playerName}}})}return o},createMediaSession(e){
const{playerName:r,channel:o,appVersion:a}=t.streamingMedia,i=n.createEvent(),{sessionDetails:s}=e.xdm.mediaCollection;return i.setUserXdm(e.xdm),i.mergeXdm({eventType:uo.SESSION_START,mediaCollection:{sessionDetails:{playerName:s.playerName||r,channel:s.channel||o,appVersion:s.appVersion||a}}}),i},augmentMediaEvent(e){let{event:t,playerId:n,getPlayerDetails:r,sessionID:o}=e;if(!n||!r)return t;const{playhead:a,qoeDataDetails:i}=r({playerId:n});return t.mergeXdm({mediaCollection:{playhead:qe(a),qoeDataDetails:i,sessionID:o}}),t},trackMediaSession(e){let{event:t,mediaOptions:r,edgeConfigOverrides:o}=e;const a={mediaOptions:r,edgeConfigOverrides:o};return n.sendEvent(t,a)},trackMediaEvent(e){let{event:t,action:n}=e;const a=wn(),i=(e=>{let{mediaRequestPayload:t,action:n}=e;return hn({payload:t,edgeSubPath:"/va",getAction:()=>n,getUseSendBeacon:()=>!1})})({mediaRequestPayload:a,action:n});return a.addEvent(t),t.finalize(),r.awaitConsent().then((()=>o({request:i}).then((()=>({})))))}}},go="main",mo="completed",fo=()=>{let e;return{getSession:t=>e[t]||{},storeSession:t=>{let{playerId:n,sessionDetails:r}=t;void 0===e&&(e={}),e[n]=r},stopPing:t=>{let{playerId:n}=t;const r=e[n];r&&(clearTimeout(r.pingId),r.pingId=null,r.playbackState=mo)},savePing:t=>{let{playerId:n,pingId:r,playbackState:o}=t;e[n]&&(e[n].pingId&&clearTimeout(e[n].pingId),e[n].pingId=r,e[n].playbackState=o)}}},ho=e=>{let{mediaEventManager:t,mediaSessionCacheManager:n,config:r}=e;const o=e=>{const a=t.createMediaEvent({options:e}),{playerId:i,xdm:s}=e,{eventType:c}=s,l=c.split(".")[1],{getPlayerDetails:d,sessionPromise:u,playbackState:p}=n.getSession(i);return u.then((e=>e.sessionId?(t.augmentMediaEvent({event:a,eventType:c,playerId:i,getPlayerDetails:d,sessionID:e.sessionId}),t.trackMediaEvent({event:a,action:l}).then((()=>{if(i)if(c===uo.SESSION_COMPLETE||c===uo.SESSION_END)n.stopPing({playerId:i});else{const e=((e,t)=>e===uo.AD_START||e===uo.Ad_BREAK_START||e===uo.AD_SKIP||e===uo.AD_COMPLETE?"ad":e===uo.AD_BREAK_COMPLETE||e===uo.CHAPTER_COMPLETE||e===uo.CHAPTER_START||e===uo.CHAPTER_SKIP||e===uo.SESSION_START?"main":e===uo.SESSION_END||e===uo.SESSION_COMPLETE?"completed":t)(c,p);if("completed"===e)return;const t="ad"===e?r.streamingMedia.adPingInterval:r.streamingMedia.mainPingInterval,a=setTimeout((()=>{o({playerId:i,xdm:{eventType:uo.PING}})}),1e3*t);n.savePing({playerId:i,pingId:a,playbackState:e})}}))):Promise.reject(new Error("Failed to trigger media event: "+c+". Session ID is not available for playerId: "+i+"."))))};return e=>o(e)},yo=e=>{let{config:t,mediaEventManager:n,mediaSessionCacheManager:r,legacy:o=!1}=e;return e=>{if(!t.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));const{playerId:a,getPlayerDetails:i,edgeConfigOverrides:s}=e,c=n.createMediaSession(e);n.augmentMediaEvent({event:c,playerId:a,getPlayerDetails:i});const l=n.trackMediaSession({event:c,mediaOptions:{playerId:a,getPlayerDetails:i,legacy:o},edgeConfigOverrides:s});return r.storeSession({playerId:a,sessionDetails:{sessionPromise:l,getPlayerDetails:i,playbackState:go}}),l}},vo=e=>!Pe(e)||!e.trim(),bo=e=>{let{mediaSessionCacheManager:t,config:n,trackMediaEvent:r}=e;return e=>{let{response:o,playerId:a,getPlayerDetails:i}=e;const s=o.getPayloadsByType("media-analytics:new-session");if(U(s)){const{sessionId:e}=s[0];if(vo(e))return{};if(!a||!i)return{sessionId:e};const o=setTimeout((()=>{r({playerId:a,xdm:{eventType:uo.PING}})}),1e3*n.streamingMedia.mainPingInterval);return t.savePing({playerId:a,pingId:o,playbackState:go}),{sessionId:e}}return{}}};const wo={Video:"video",Audio:"audio"},Eo={VOD:"vod",Live:"live",Linear:"linear",Podcast:"podcast",Audiobook:"audiobook",AOD:"aod"},Co={FullScreen:"fullScreen",ClosedCaption:"closedCaptioning",Mute:"mute",PictureInPicture:"pictureInPicture",InFocus:"inFocus"},ko={AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",StateStart:"stateStart",StateEnd:"stateEnd"},Io="sessionStart",Po="sessionEnd",So="sessionComplete",Do="play",_o="pauseStart",Oo="error",To="statesUpdate",Ro={MediaResumed:"media.resumed",GranularAdTracking:"media.granularadtracking"},xo={Show:"a.media.show",Season:"a.media.season",Episode:"a.media.episode",AssetId:"a.media.asset",Genre:"a.media.genre",FirstAirDate:"a.media.airDate",FirstDigitalDate:"a.media.digitalDate",Rating:"a.media.rating",Originator:"a.media.originator",Network:"a.media.network",ShowType:"a.media.type",AdLoad:"a.media.adLoad",MVPD:"a.media.pass.mvpd",Authorized:"a.media.pass.auth",DayPart:"a.media.dayPart",Feed:"a.media.feed",StreamFormat:"a.media.format"},Ao={Artist:"a.media.artist",Album:"a.media.album",Label:"a.media.label",Author:"a.media.author",Station:"a.media.station",Publisher:"a.media.publisher"},No={Advertiser:"a.media.ad.advertiser",CampaignId:"a.media.ad.campaign",CreativeId:"a.media.ad.creative",PlacementId:"a.media.ad.placement",SiteId:"a.media.ad.site",CreativeUrl:"a.media.ad.creativeURL"};var Mo=e=>{let{logger:t}=e;return{createMediaObject:(e,n,r,o,a)=>{const i={friendlyName:e,name:n,length:r,streamType:a,contentType:o},s=Mt({friendlyName:Lt().nonEmpty(),name:Lt().nonEmpty(),length:At().required(),streamType:Lt().nonEmpty(),contentType:Lt().nonEmpty()});try{const e=s(i);return{sessionDetails:{name:e.name,friendlyName:e.friendlyName,length:e.length,streamType:e.streamType,contentType:e.contentType}}}catch(e){return t.warn("An error occurred while creating the Media Object.",e),{}}},createAdBreakObject:(e,n,r)=>{const o={friendlyName:e,offset:n,index:r},a=Mt({friendlyName:Lt().nonEmpty(),offset:At(),index:At()});try{const e=a(o);return{advertisingPodDetails:{friendlyName:e.friendlyName,offset:e.offset,index:e.index}}}catch(e){return t.warn("An error occurred while creating the Ad Break Object.",e),{}}},createAdObject:(e,n,r,o)=>{const a={friendlyName:e,name:n,podPosition:r,length:o},i=Mt({friendlyName:Lt().nonEmpty(),name:Lt().nonEmpty(),podPosition:At(),length:At()});try{const e=i(a);return{advertisingDetails:{friendlyName:e.friendlyName,name:e.name,podPosition:e.podPosition,length:e.length}}}catch(e){return t.warn("An error occurred while creating the Advertising Object.",e),{}}},createChapterObject:(e,n,r,o)=>{const a={friendlyName:e,offset:n,length:r,index:o},i=Mt({friendlyName:Lt().nonEmpty(),offset:At(),length:At(),index:At()});try{const e=i(a);return{chapterDetails:{friendlyName:e.friendlyName,offset:e.offset,index:e.index,length:e.length}}}catch(e){return t.warn("An error occurred while creating the Chapter Object.",e),{}}},createStateObject:e=>{const n=Lt().matches(/^[a-zA-Z0-9_]{1,64}$/,"This is not a valid state name.");try{return{name:n(e)}}catch(e){return t.warn("An error occurred while creating the State Object.",e),{}}},createQoEObject:(e,n,r,o)=>{const a={bitrate:e,droppedFrames:n,fps:r,startupTime:o},i=Mt({bitrate:At(),droppedFrames:At(),fps:At(),startupTime:At()});try{const e=i(a);return{bitrate:e.bitrate,droppedFrames:e.droppedFrames,framesPerSecond:e.fps,timeToStart:e.startupTime}}catch(e){return t.warn("An error occurred while creating the QOE Object.",e),{}}}}};const Lo={"a.media.show":"show","a.media.season":"season","a.media.episode":"episode","a.media.asset":"assetID","a.media.genre":"genre","a.media.airDate":"firstAirDate","a.media.digitalDate":"firstDigitalDate","a.media.rating":"rating","a.media.originator":"originator","a.media.network":"network","a.media.type":"showType","a.media.adLoad":"adLoad","a.media.pass.mvpd":"mvpd","a.media.pass.auth":"authorized","a.media.dayPart":"dayPart","a.media.feed":"feed","a.media.format":"streamFormat","a.media.artist":"artist","a.media.album":"album","a.media.label":"label","a.media.author":"author","a.media.station":"station","a.media.publisher":"publisher","media.resumed":"hasResume"},jo={"a.media.ad.advertiser":"advertiser","a.media.ad.campaign":"campaignID","a.media.ad.creative":"creativeID","a.media.ad.placement":"placementID","a.media.ad.site":"siteID","a.media.ad.creativeURL":"creativeURL"};var qo=e=>{let{logger:t,trackMediaSession:n,trackMediaEvent:r,uuid:o}=e,a=null;const i=e=>{let{eventType:t,mediaDetails:n={},contextData:r=[]}=e;const o=(e=>{let{eventType:t}=e;return t===ko.BufferComplete||t===ko.SeekComplete?Do:t===ko.StateStart||t===ko.StateEnd?To:t===ko.SeekStart?_o:t})({eventType:t});if(t===ko.StateStart)return{eventType:"media."+o,mediaCollection:{statesStart:[n]}};if(t===ko.StateEnd)return{eventType:"media."+o,mediaCollection:{statesEnd:[n]}};const a={eventType:"media."+o,mediaCollection:{...n}},i=[];return Object.keys(r).forEach((e=>{Lo[e]?a.mediaCollection.sessionDetails[Lo[e]]=r[e]:jo[e]?a.mediaCollection.advertisingDetails[jo[e]]=r[e]:i.push({name:e,value:r[e]})})),U(i)&&(a.mediaCollection.customMetadata=i),a};return{trackSessionStart:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(E(e)||te(e))return t.warn("Invalid media object"),{};null===a&&(t.warn("The Media Session was completed. Restarting a new session."),a={qoe:null,lastPlayhead:0,playerId:o()});const s=i({eventType:Io,mediaDetails:e,contextData:r});return n({playerId:a.playerId,getPlayerDetails:()=>({playhead:a.lastPlayhead,qoeDataDetails:a.qoe}),xdm:s})},trackPlay:()=>{if(null===a)return t.warn("The Media Session was completed."),{};const e=i({eventType:Do});return r({playerId:a.playerId,xdm:e})},trackPause:()=>{if(null===a)return t.warn("The Media Session was completed."),{};const e=i({eventType:_o});return r({playerId:a.playerId,xdm:e})},trackSessionEnd:()=>{if(null===a)return t.warn("The Media Session was completed."),{};const e=i({eventType:Po});return r({playerId:a.playerId,xdm:e})},trackComplete:()=>{if(null===a)return t.warn("The Media Session was completed."),{};const e=i({eventType:So});return r({playerId:a.playerId,xdm:e})},trackError:e=>{if(t.warn("trackError("+e+")"),null===a)return t.warn("The Media Session was completed."),{};const n=i({eventType:Oo,mediaDetails:{errorDetails:{name:e,source:"player"}}});return r({playerId:a.playerId,xdm:n})},trackEvent:(e,n,o)=>{if(te(n))return t.warn("Invalid media object."),{};if(null===a)return t.warn("The Media Session was completed."),{};if(!Object.values(ko).includes(e))return t.warn("Invalid event type"),{};const s=i({eventType:e,mediaDetails:n,contextData:o});return r({playerId:a.playerId,xdm:s})},updatePlayhead:e=>{null!==a?ke(e)&&(a.lastPlayhead=parseInt(e,10)):t.warn("The Media Session was completed.")},updateQoEObject:e=>{null!==a?e&&(a.qoe=e):t.warn("The Media Session was completed.")},destroy:()=>{t.warn("Destroy called, destroying the tracker."),a=null}}};const Uo=e=>{let{eventManager:t,sendEdgeNetworkRequest:r,config:o,logger:a,consent:i}=e;const s=fo(),c=po({sendEdgeNetworkRequest:r,config:o,consent:i,eventManager:t,setTimestamp:An((()=>new Date))}),l=ho({mediaSessionCacheManager:s,mediaEventManager:c,config:o}),d=yo({config:o,mediaEventManager:c,mediaSessionCacheManager:s,legacy:!0});return(e=>{let{trackMediaEvent:t,trackMediaSession:r,mediaResponseHandler:o,logger:a,createMediaHelper:i,createGetInstance:s,config:c}=e;return{lifecycle:{onBeforeEvent(e){let{mediaOptions:t,onResponse:n=De}=e;if(!t)return;const{legacy:r,playerId:a,getPlayerDetails:i}=t;r&&n((e=>{let{response:t}=e;return o({playerId:a,getPlayerDetails:i,response:t})}))}},commands:{getMediaAnalyticsTracker:{run:()=>{if(!c.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));a.info("Streaming media is configured in legacy mode.");const e=i({logger:a});return Promise.resolve({getInstance:()=>s({logger:a,trackMediaEvent:t,trackMediaSession:r,uuid:n}),Event:ko,MediaType:wo,PlayerState:Co,StreamType:Eo,MediaObjectKey:Ro,VideoMetadataKeys:xo,AudioMetadataKeys:Ao,AdMetadataKeys:No,...e})}}}}})({mediaResponseHandler:bo({mediaSessionCacheManager:s,config:o,trackMediaEvent:l}),trackMediaSession:d,trackMediaEvent:l,createMediaHelper:Mo,createGetInstance:qo,logger:a,config:o})};Uo.namespace="Legacy Media Analytics";const Vo="web",Bo="webapp",Fo="://",Ho=/^(\w+):\/\/([^/#]+)(\/[^#]*)?(#.*)?$/,zo=/^(?:.*@)?(?:[a-z\d\u00a1-\uffff.-]+|\[[a-f\d:]+])(?::\d+)?$/,Jo=/^\/(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})*$/,Go=/^#(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})+$/,Qo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=e.length;for(;t>0&&-1!=="/".indexOf(e.charAt(t-1));)t-=1;return e.substring(0,t)||"/"},Wo=e=>""+e.surfaceType+Fo+e.authority+(e.path||"")+(e.fragment||""),Xo=e=>{const t=e(),n=t.host.toLowerCase(),r=t.pathname;return Vo+Fo+n+Qo(r)},$o=(e,t,n)=>{const r=e=>(n.warn(e),null);if(!Se(e))return r("Invalid surface: "+e);const o=((e,t)=>e.startsWith("#")?Xo(t)+e:e)(e,t),a=(e=>{const t=e.match(Ho);return t?{surfaceType:(o=t[1],Se(o)?o.toLowerCase():""),authority:(r=t[2],Se(r)?r.toLowerCase():""),path:(n=t[3],Se(n)?Qo(n):"/"),fragment:t[4]}:null;var n,r,o})(o);return null===a?r("Invalid surface: "+e):[Vo,Bo].includes(a.surfaceType)?a.authority&&zo.test(a.authority)?a.path&&!Jo.test(a.path)?r("Invalid path "+a.path+" in surface: "+e):a.fragment&&!Go.test(a.fragment)?r("Invalid fragment "+a.fragment+" in surface: "+e):a:r("Invalid authority "+a.authority+" in surface: "+e):r("Unsupported surface type "+a.surfaceType+" in surface: "+e)},Yo=e=>!!e&&0===e.indexOf(Vo+Fo)&&-1===e.indexOf("#"),Ko="https://ns.adobe.com/personalization/default-content-item",Zo="https://ns.adobe.com/personalization/dom-action",ea="https://ns.adobe.com/personalization/html-content-item",ta="https://ns.adobe.com/personalization/json-content-item",na="https://ns.adobe.com/personalization/ruleset-item",ra="https://ns.adobe.com/personalization/redirect-item",oa="https://ns.adobe.com/personalization/message/in-app",aa=e=>e.filter(((t,n)=>e.indexOf(t)===n));var ia=e=>{let{getPageLocation:t,renderDecisions:n,decisionScopes:r,personalization:o,event:a,isCacheInitialized:i,logger:s}=e;const c=a.getViewName();return{isRenderDecisions:()=>n,isSendDisplayEvent:()=>!!o.sendDisplayEvent,shouldIncludeRenderedPropositions:()=>!!o.includeRenderedPropositions,getViewName:()=>c,hasScopes:()=>r.length>0||U(o.decisionScopes),hasSurfaces:()=>U(o.surfaces),hasViewName:()=>Se(c),createQueryDetails(){const e=[...r];U(o.decisionScopes)&&e.push(...o.decisionScopes);const n=function(){let e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((n=>$o(n,e,t))).filter((e=>!E(e))).map(Wo)}(o.surfaces,t,s);this.shouldRequestDefaultPersonalization()&&((e=>{e.includes(mn)||e.push(mn)})(e),((e,t)=>{const n=Xo(t);e.includes(n)||e.push(n)})(n,t));const a=[Ko,ea,ta,ra,na,oa,"https://ns.adobe.com/personalization/message/content-card"];return e.includes(mn)&&a.push(Zo),{schemas:a,decisionScopes:aa(e),surfaces:aa(n)}},isCacheInitialized:()=>i,shouldFetchData(){return this.hasScopes()||this.hasSurfaces()||this.shouldRequestDefaultPersonalization()},shouldUseCachedData(){return this.hasViewName()&&!this.shouldFetchData()},shouldRequestDefaultPersonalization(){return o.defaultPersonalizationEnabled||!this.isCacheInitialized()&&!1!==o.defaultPersonalizationEnabled}}};const sa="decisioning.propositionDisplay",ca="decisioning.propositionInteract",la="decisioning.propositionTrigger",da="decisioning.propositionDismiss",ua="decisioning.propositionSuppressDisplay",pa={DISPLAY:"display",INTERACT:"interact",TRIGGER:"trigger",DISMISS:"dismiss",SUPPRESS:"suppressDisplay"},ga={[sa]:pa.DISPLAY,[ca]:pa.INTERACT,[la]:pa.TRIGGER,[da]:pa.DISMISS,[ua]:pa.SUPPRESS},ma={[pa.DISPLAY]:sa,[pa.INTERACT]:ca,[pa.TRIGGER]:la,[pa.DISMISS]:da,[pa.SUPPRESS]:ua},fa=e=>ga[e],ha=e=>ma[e],ya={propositions:[]};var va=e=>{let{getPageLocation:t,logger:n,fetchDataHandler:r,viewChangeHandler:o,onClickHandler:a,isAuthoringModeEnabled:i,mergeQuery:s,viewCache:c,showContainers:l,applyPropositions:d,setTargetMigration:u,mergeDecisionsMeta:p,renderedPropositions:g,onDecisionHandler:m,handleConsentFlicker:f}=e;return{lifecycle:{onComponentsRegistered(){f()},onDecision:m,onBeforeRequest(e){let{request:t}=e;return u(t),Promise.resolve()},onBeforeEvent(e){let{event:a,renderDecisions:d,decisionScopes:u=[],personalization:m={},onResponse:f=De,onRequestFailure:h=De}=e;if(f((()=>({propositions:[]}))),h((()=>l())),i())return n.warn("Rendering is disabled for authoring mode."),s(a,{enabled:!1}),Promise.resolve();const y=ia({getPageLocation:t,renderDecisions:d,decisionScopes:u,personalization:m,event:a,isCacheInitialized:c.isInitialized(),logger:n}),v=[];if(y.shouldIncludeRenderedPropositions()&&v.push(g.clear()),y.shouldFetchData()){const e=c.createCacheUpdate(y.getViewName());h((()=>e.cancel())),r({cacheUpdate:e,personalizationDetails:y,event:a,onResponse:f})}else y.shouldUseCachedData()&&v.push(o({personalizationDetails:y,event:a,onResponse:f,onRequestFailure:h}));return Promise.all(v).then((e=>{const t=e.flatMap((e=>e));U(t)&&p(a,t,[pa.DISPLAY])}))},onClick(e){let{event:t,clickedElement:n}=e;a({event:t,clickedElement:n})}},commands:{applyPropositions:{optionsValidator:e=>(e=>{let{logger:t,options:n}=e;const r=Mt({propositions:Ot(Mt({id:Lt().required(),scope:Lt().required(),scopeDetails:Mt({decisionProvider:Lt().required()}).required(),items:Ot(Mt({id:Lt().required(),schema:Lt().required(),data:Mt(_t())})).nonEmpty().required()}).required()).nonEmpty().required(),metadata:Mt(_t()),viewName:Lt()}).required();try{return r(n)}catch(e){return t.warn("Invalid options for applyPropositions. No propositions will be applied.",e),ya}})({logger:n,options:e}),run:d}}}},ba=function(){return A("DIV",{},{innerHTML:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"})};const wa=/:eq\((\d+)\)/g,Ea=e=>-1===e.indexOf(":eq("),Ca=/(#|\.)(-?\w+)/g,ka=(e,t,n)=>""+t+CSS.escape(n),Ia=e=>{const t=[],n=(e=>e.split(wa).filter(Se))((e=>e.replace(Ca,ka))(e.trim())),{length:r}=n;let o=0;for(;o<r;){const e=n[o],r=n[o+1];r?t.push({sel:e,eq:Number(r)}):t.push({sel:e}),o+=2}return t},Pa=e=>{const t=document;if(Ea(e))return G(e,t);const n=Ia(e),{length:r}=n;let o=[],a=t,i=0;for(;i<r;){const{sel:e,eq:t}=n[i],s=G(e,a),{length:c}=s;if(0===c)break;if(null!=t&&t>c-1)break;i<r-1&&(null==t?[a]=s:a=s[t]),i===r-1&&(o=null==t?s:[s[t]]),i+=1}return o};var Sa=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementById(e)},Da=(e,t,n)=>{e.setAttribute(t,n)},_a=(e,t)=>e.getAttribute(t),Oa=(e,t,n,r)=>{let o;o=r?t+":"+n+" !"+r+";":t+":"+n+";",e.style.cssText+=";"+o},Ta=e=>e.parentNode,Ra=(e,t)=>{if(!e)return;const n=Ta(e);n&&n.insertBefore(t,(e=>e.nextElementSibling)(e))},xa=(e,t)=>{if(!e)return;const n=Ta(e);n&&n.insertBefore(t,e)},Aa=e=>{const{childNodes:t}=e;return t?V(t):[]},Na=e=>e.firstElementChild;let Ma;var La=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(void 0===Ma){const t=e.querySelector("[nonce]");Ma=t&&(t.nonce||t.getAttribute("nonce"))}return Ma};const ja="src",qa=e=>A(N,{src:e}),Ua=e=>{G(N,e).forEach((e=>{const t=_a(e,ja);t&&qa(t)}))},Va=e=>((e,t)=>e.tagName===t)(e,M)&&!_a(e,ja);var Ba=e=>{const t=G(M,e),{length:n}=t,r=La();if(r)for(let e=0;e<n;e+=1){const n=t[e];Va(n)&&(n.nonce=r)}};const Fa=e=>{const t=document.createElement("script");t.src=e,t.async=!0;const n=((e,t)=>new Promise(((n,r)=>{t.onload=()=>{n(t)},t.onerror=()=>{r(new Error("Failed to load script: "+e))}})))(e,t);return document.head.appendChild(t),n},Ha=(e,t)=>!!e&&e.tagName===t,za=e=>Ha(e,L)&&!_a(e,ja),Ja=e=>Ha(e,L)&&_a(e,ja),Ga=e=>{const t=G(L,e),n=[],{length:r}=t,o=La(),a={...o&&{nonce:o}};for(let e=0;e<r;e+=1){const r=t[e];if(!za(r))continue;const{textContent:o}=r;o&&n.push(A(L,a,{textContent:o}))}return n},Qa=e=>{const t=G(L,e),n=[],{length:r}=t;for(let e=0;e<r;e+=1){const r=t[e];if(!Ja(r))continue;const o=_a(r,ja);o&&n.push(o)}return n},Wa=(e,t)=>{t.forEach((t=>{e.appendChild(t),e.removeChild(t)}))},Xa=e=>Promise.all(e.map(Fa));var $a=(e,t,n)=>{const r=ba(t);Ba(r);const o=Aa(r),a=Ga(r),i=Qa(r);return Ua(r),o.forEach((t=>{x(e,t)})),n(e),Wa(e,a),Xa(i)},Ya=(e,t,n)=>((e=>{Aa(e).forEach(K)})(e),$a(e,t,n)),Ka=(e,t,n)=>{const r=ba(t);Ba(r);const o=Aa(r),a=Ga(r),i=Qa(r),{length:s}=o;let c=s-1;for(Ua(r);c>=0;){const t=o[c];n(t);const r=Na(e);r?xa(r,t):x(e,t),c-=1}return Wa(e,a),Xa(i)};const Za="alloy-prehiding",ei={},ti=e=>{if(ei[e])return;const t=La(),n={...t&&{nonce:t}},r=A(M,n,{textContent:e+" { visibility: hidden }"});x(document.head,r),ei[e]=r},ni=e=>{const t=ei[e];t&&(K(t),delete ei[e])};var ri=(e,t,n)=>{n(e),e.textContent=t},oi=(e,t,n)=>{const r=ba(t);Ba(r);const o=Aa(r),a=Ga(r),i=Qa(r);return Ua(r),o.forEach((t=>{n(t),xa(e,t)})),Wa(e,a),Xa(i)},ai=(e,t,n)=>oi(e,t,n).then((()=>{K(e)})),ii=(e,t,n)=>{const r=ba(t);Ba(r);const o=Aa(r),a=Ga(r),i=Qa(r);Ua(r);let s=e;return o.forEach((e=>{n(e),Ra(s,e),s=e})),Wa(e,a),Xa(i)},si=(e,t,n)=>{const{priority:r,...o}=t;Object.keys(o).forEach((t=>{Oa(e,t,o[t],r)})),n(e)},ci=(e,t,n)=>{Object.keys(t).forEach((n=>{Da(e,n,t[n])})),n(e)},li=(e,t,n)=>{e.tagName===N&&(qa(t),n(e),((e,t)=>{e.removeAttribute(t)})(e,ja),Da(e,ja,t))},di=(e,t,n)=>{let{from:r,to:o}=t;const a=(e=>{const{children:t}=e;return t?V(t):[]})(e),i=a[r],s=a[o];i&&s&&(r<o?Ra(s,i):xa(s,i),n(s),n(i))};const ui=e=>async(t,n,r)=>{const{selector:o,prehidingSelector:a,content:i}=t;ti(a);try{(e=>{let{containers:t,content:n,decorateProposition:r,renderFunc:o,renderStatusHandler:a}=e;const i=t.filter(a.shouldRender).map((async e=>{await o(e,n,r),a.markAsRendered(e)}));Promise.all(i)})({containers:await Y(o,Pa),content:i,decorateProposition:n,renderFunc:e,renderStatusHandler:r})}finally{ni(a)}},pi=e=>(""+e).endsWith("px")?e:e+"px";var gi=(e,t,n)=>{const{priority:r,...o}=t;Object.keys(o).forEach((t=>{let n=o[t];"left"!==t&&"top"!==t||(n=pi(n)),Oa(e,t,n,r)})),n(e)},mi=(e,t,n)=>{n(e)},fi=(e,t,n)=>{const{priority:r,...o}=t;Object.keys(o).forEach((t=>{let n=o[t];"width"!==t&&"height"!==t||(n=pi(n)),Oa(e,t,n,r)})),n(e)};const hi="setHtml",yi="customCode",vi="setText",bi="setAttribute",wi="setImageSource",Ei="setStyle",Ci="move",ki="resize",Ii="rearrange",Pi="remove",Si="insertAfter",Di="insertBefore",_i="replaceHtml",Oi="prependHtml",Ti="appendHtml",Ri="click",xi="collectInteractions";var Ai=e=>{let{eventManager:t,mergeDecisionsMeta:n}=e;return e=>{let{decisionsMeta:r=[],propositionAction:o,documentMayUnload:a=!1,eventType:i=sa,propositionEventTypes:s=[fa(i)],viewName:c}=e;const l=t.createEvent(),d={eventType:i};return c&&(d.web={webPageDetails:{viewName:c}}),U(r)&&n(l,r,s,o),l.mergeXdm(d),a&&l.documentMayUnload(),t.sendEvent(l)}},Ni=(e,t)=>{if(Ea(e))return((e,t)=>t.matches?t.matches(e):t.msMatchesSelector(e))(e,t);const n=Pa(e);let r=!1;for(let e=0;e<n.length;e+=1)if(n[e]===t){r=!0;break}return r};const Mi="view",Li=e=>e.map((e=>{const{trackingLabel:t,scopeType:n,...r}=e;return r})),ji=(e,t,n)=>{const{documentElement:r}=document;let o=e,a=0;for(;o&&o!==r;){if(Ni(t,o)){const e=n(t),r={metas:e},o=e.find((e=>e.trackingLabel));o&&(r.label=o.trackingLabel,r.weight=a);const i=e.find((e=>e.scopeType===Mi));return i&&(r.viewName=i.scope,r.weight=a),r}o=o.parentNode,a+=1}return{metas:null}};var qi=(e,t,n)=>{const r=[];let o,a="",i=Number.MAX_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER;for(let c=0;c<t.length;c+=1){const{metas:l,label:d,weight:u,viewName:p}=ji(e,t[c],n);l&&(d&&u<=i&&(a=d,i=u),p&&u<=s&&(o=p,s=u),r.push(...Li(l)))}return{decisionsMeta:(c=r,c.filter(((e,t)=>{const n=JSON.stringify(e);return t===c.findIndex((e=>JSON.stringify(e)===n))}))),propositionActionLabel:a,propositionActionToken:void 0,viewName:o};var c},Ui=function(){return-1!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).location.href.indexOf("adobe_authoring_enabled")};const Vi=(e,t,n,r)=>{if(0===t.length)return;const o={};n.forEach((e=>{o[e]=1}));const a={_experience:{decisioning:{propositions:t,propositionEventType:o}}};r&&(a._experience.decisioning.propositionAction=r),e.mergeXdm(a)},Bi=(e,t)=>{e.mergeQuery({personalization:{...t}})};var Fi=()=>{const e={};return{storeClickMeta:t=>{let{selector:n,meta:{id:r,scope:o,scopeDetails:a,trackingLabel:i,scopeType:s}}=t;e[n]||(e[n]={}),e[n][r]={scope:o,scopeDetails:a,trackingLabel:i,scopeType:s}},getClickSelectors:()=>Object.keys(e),getClickMetas:t=>e[t]?(e=>Object.keys(e).map((t=>({id:t,...e[t]}))))(e[t]):{}}};const Hi=(e,t)=>e===ta&&t===xi,zi={[Zo]:()=>!0,[ea]:()=>!0,[ta]:Hi,[oa]:()=>!0,[Ko]:()=>!0};var Ji=e=>{let{processPropositions:t,createProposition:n,renderedPropositions:r,viewCache:o}=e;const a=e=>{let{items:t,metadataForScope:n={}}=e;const{actionType:r,selector:o}=n;return t.filter((e=>((e,t)=>"function"==typeof zi[e]&&zi[e](e,t))(e.schema,r))).map((e=>{const{schema:t}=e;return t===ea||Hi(t,r)?te(n)?void 0:{...e,schema:Hi(t,r)?Zo:t,data:{...e.data,selector:o,type:r}}:{...e}})).filter((e=>e))},i=e=>!(e.scope===mn&&e.renderAttempted);return e=>{let{propositions:s=[],metadata:c={},viewName:l}=e;const d=T();r.concat(d.promise);const u=(e=>{let{propositions:t,metadata:n}=e;return t.filter(i).map((e=>{if(U(e.items)){const{id:t,scope:r,scopeDetails:o}=e;return{id:t,scope:r,scopeDetails:o,items:a({items:e.items,metadataForScope:n[e.scope]})}}return e})).filter((e=>U(e.items)))})({propositions:s,metadata:c}).map((e=>n(e)));return Promise.resolve().then((()=>l?o.getView(l):[])).then((e=>{const{render:n,returnedPropositions:r}=t([...u,...e]);return n().then(d.resolve),{propositions:r}}))}},Gi=e=>{const{selector:t,type:n}=e;return n!==yi||"BODY > *:eq(0)"!==t?e:{...e,selector:"BODY"}},Qi=e=>{const t={...e},{content:n,selector:r}=t;if(vo(n))return t;if(null==r)return t;const o=Pa(r);return Ha(o[0],"HEAD")?(t.type=Ti,t.content=(e=>{const t=ba(e);return G("SCRIPT,LINK,STYLE",t).map((e=>e.outerHTML)).join("")})(n),t):t},Wi=e=>{let{preprocess:t,isPageWideSurface:n}=e;return function(e){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{id:a,scope:i,scopeDetails:s,items:c=[]}=e,{characteristics:{scopeType:l}={}}=s||{};return{getScope:()=>i,getScopeType:()=>i===mn||n(i)?"page":l===Mi?Mi:"proposition",getItems(){return c.map((e=>((e,n)=>{const{id:r,schema:o,data:a,characteristics:{trackingLabel:i}={}}=e,s=a?a.type:void 0,c=t(a);return{getId:()=>r,getSchema:()=>o,getSchemaType:()=>s,getData:()=>c,getProposition:()=>n,getTrackingLabel:()=>i,getOriginalItem:()=>e,toString:()=>JSON.stringify(e),toJSON:()=>e}})(e,this)))},getNotification:()=>({id:a,scope:i,scopeDetails:s}),getId:()=>a,toJSON:()=>e,shouldSuppressDisplay:()=>o,addToReturnValues(t,n,o,a){r&&(t.push({...e,items:o.map((e=>e.getOriginalItem())),renderAttempted:a}),a||n.push({...e,items:o.map((e=>e.getOriginalItem()))}))}}}},Xi=()=>({render:De,setRenderAttempted:!0,includeInNotification:!0});const $i="always",Yi="never",Ki="decoratedElementsOnly",Zi=[$i,Yi,Ki],es="data-aep-interact-id",ts="data-aep-click-label";let ns=0;const rs=(e,t,n,r,o,a,i,s)=>{const{scopeDetails:c={}}=i,{decisionProvider:l}=c;return((e,t)=>!!e&&!!e[t]&&[$i,Ki].includes(e[t]))(e,l)||t===Ri?e=>{if(!e.tagName)return;const t=(c=_a(e,es))?parseInt(c,10):++ns;var c;s(n,r,a,i,t),Da(e,es,t),o&&!_a(e,ts)&&Da(e,ts,o)}:De};var os=e=>{let{modules:t,logger:n,storeInteractionMeta:r,storeClickMeta:o,autoCollectPropositionInteractions:a}=e;return e=>{const{type:i,selector:s}=e.getData()||{};if(!i)return n.warn("Invalid DOM action data: missing type.",e.getData()),{setRenderAttempted:!1,includeInNotification:!1};if(i===Ri)return s?(o({selector:s,meta:{...e.getProposition().getNotification(),trackingLabel:e.getTrackingLabel(),scopeType:e.getProposition().getScopeType()}}),{setRenderAttempted:!0,includeInNotification:!1}):(n.warn("Invalid DOM action data: missing selector.",e.getData()),{setRenderAttempted:!1,includeInNotification:!1});if(!t[i])return n.warn("Invalid DOM action data: unknown type.",e.getData()),{setRenderAttempted:!1,includeInNotification:!1};const c=(l=e.getProposition().getScopeType(),d=e.getId(),l!==Mi?{shouldRender:()=>!0,markAsRendered:()=>{}}:{shouldRender:e=>!e||!(e.dataset.adobePropositionIds??"").split(",").includes(d),markAsRendered:e=>{const t=(e.dataset.adobePropositionIds??"").split(",");t.includes(d)||t.push(d),e.dataset.adobePropositionIds=t.sort().join(",")}});var l,d;const u=rs(a,i,e.getProposition().getId(),e.getId(),e.getTrackingLabel(),e.getProposition().getScopeType(),e.getProposition().getNotification(),r);return{render:()=>t[i](e.getData(),u,c),setRenderAttempted:!0,includeInNotification:!0}}},as=e=>{let{modules:t,logger:n,storeInteractionMeta:r,autoCollectPropositionInteractions:o}=e;return e=>{const{type:a,selector:i}=e.getData()||{};if(!i||!a)return{setRenderAttempted:!1,includeInNotification:!1};if(!t[a])return n.warn("Invalid HTML content data",e.getData()),{setRenderAttempted:!1,includeInNotification:!1};const s=rs(o,a,e.getProposition().getId(),e.getId(),e.getTrackingLabel(),e.getProposition().getScopeType(),e.getProposition().getNotification(),r);return{render:()=>t[a](e.getData(),s),setRenderAttempted:!0,includeInNotification:!0}}};const is="BODY";var ss=e=>{let{logger:t,executeRedirect:n,collect:r}=e;return e=>{const{content:o}=e.getData()||{};return o?{render:()=>(ti(is),r({decisionsMeta:[e.getProposition().getNotification()],documentMayUnload:!0}).then((()=>(t.logOnContentRendering({status:"rendering-redirect",detail:{propositionDetails:e.getProposition().getNotification(),redirect:o},message:"Redirect action "+e.toString()+" executed.",logLevel:"info"}),n(o)))).catch((e=>{throw ni(is),e}))),setRenderAttempted:!0,onlyRenderThis:!0}:(t.warn("Invalid Redirect data",e.getData()),{})}},cs=e=>{let{schemaProcessors:t,logger:n}=e;const r=(e,t)=>()=>Promise.resolve().then(e).then((()=>(n.enabled&&n.info("Action "+t.toString()+" executed."),t.toJSON()))).catch((e=>{const{message:r,stack:o}=e,a="Failed to execute action "+t.toString()+". "+r+" "+o;n.logOnContentRendering({status:"rendering-failed",detail:{propositionDetails:t.getProposition().getNotification(),item:t.toJSON()},error:e,message:a,logLevel:"warn"})})),o=e=>{const n=t[e.getSchema()];return n?n(e):{}},a=e=>{let t,n,a,i,{renderers:s,returnedPropositions:c,returnedDecisions:l,items:d,proposition:u}=e,p=[...s],g=[...c],m=[...l],f=[],h=[],y=[],v=!1,b=!1,w=0;for(;d.length>w;){if(i=d[w],({render:t,setRenderAttempted:n,includeInNotification:a,onlyRenderThis:b}=o(i)),b){g=[],m=[],n?(f=[i],h=[]):(f=[],h=[i]),p=[],y=[t],v=a;break}t&&y.push(r(t,i)),a&&(v=!0),n?f.push(i):h.push(i),w+=1}if(y.length>0){const e=v?u.getNotification():void 0;p.push((()=>(async(e,t)=>{const n=(await Promise.allSettled(e.map((e=>e())))).filter((e=>"fulfilled"===e.status)).map((e=>e.value));if(t&&U(n))return{...t,items:n}})(y,e)))}else v&&p.push((()=>Promise.resolve(u.getNotification())));return f.length>0&&u.addToReturnValues(g,m,f,!0),h.length>0&&u.addToReturnValues(g,m,h,!1),{renderers:p,returnedPropositions:g,returnedDecisions:m,onlyRenderThis:b}};return function(e){let t,r,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=[],c=[],l=[],d=0;for(;e.length>d&&(r=e[d],o=r.getItems(),({renderers:s,returnedPropositions:c,returnedDecisions:l,onlyRenderThis:t}=a({renderers:s,returnedPropositions:c,returnedDecisions:l,items:o,proposition:r})),!t);)d+=1;return t&&e.forEach(((e,t)=>{t!==d&&e.addToReturnValues(c,l,e.getItems(),!1)})),i.forEach((e=>{e.addToReturnValues(c,l,e.getItems(),!1)})),{returnedPropositions:c,returnedDecisions:l,render:()=>Promise.all(s.map((e=>e()))).then((e=>{const t=e.filter((e=>e)),r=t.map((e=>{const{id:t,scope:n,scopeDetails:r}=e;return{id:t,scope:n,scopeDetails:r}}));if(U(t)){const e=le(t,(e=>e.scope));n.logOnContentRendering({status:"rendering-succeeded",detail:{...e},message:"Scopes: "+JSON.stringify(e)+" successfully executed.",logLevel:"info"})}return r}))}}},ls=e=>{let{processPropositions:t,createProposition:n,notificationHandler:r}=e;return e=>{let{renderDecisions:o,propositions:a,event:i,personalization:s={}}=e;if(!o)return Promise.resolve();const{sendDisplayEvent:c=!0}=s,l=i?i.getViewName():void 0,d=(()=>{let e=0;return t=>{const{items:n=[]}=t;return!!n.some((e=>e.schema===oa))&&(e+=1,e>1)}})(),u=a.map((e=>n(e,!0,d(e)))),{render:p,returnedPropositions:g}=t(u),m=r(o,c,l),f=u.reduce(((e,t)=>(e[t.getId()]=t,e)),{});return p().then((e=>{const t=e.filter((e=>!f[e.id].shouldSuppressDisplay())),n=e.filter((e=>f[e.id].shouldSuppressDisplay()));m(t,n)})),Promise.resolve({propositions:g})}};const ds="text/html",us="defaultContent",ps=["content","contentType"],gs=["mobileParameters","webParameters","html"];var ms=e=>{let{modules:t,logger:n}=e;return e=>{
const r=e.getData(),o=e.getProposition(),a={...o.getNotification()},i=o.shouldSuppressDisplay();if(!r)return n.warn("Invalid in-app message data: undefined.",r),{};const{type:s=us}=r;return t[s]?((e,t)=>{for(let n=0;n<ps.length;n+=1){const r=ps[n];if(!Object.prototype.hasOwnProperty.call(e,r))return t.warn("Invalid in-app message data: missing property '"+r+"'.",e),!1}const{content:n,contentType:r}=e;if("application/json"===r)for(let r=0;r<gs.length;r+=1){const o=gs[r];if(!Object.prototype.hasOwnProperty.call(n,o))return t.warn("Invalid in-app message data.content: missing property '"+o+"'.",e),!1}return!0})(r,n)?a?{render:()=>i?null:t[s]({...r,meta:a}),setRenderAttempted:!0,includeInNotification:!0}:(n.warn("Invalid in-app message meta: undefined.",a),{}):{}:(n.warn("Invalid in-app message data: unknown type.",r),{})}};const fs=e=>{const t=G("#"+e,document);t&&t.length>0&&K(t[0])};var hs=e=>function(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e.location.href=t:e.location.replace(t),new Promise((()=>{}))};const ys="alloy-messaging-container",vs="alloy-overlay-container",bs="alloy-content-iframe",ws=()=>[ys,vs].forEach(fs),Es=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hs(window);return n=>{n.preventDefault(),n.stopImmediatePropagation();const{target:r}=n,o="a"===r.tagName.toLowerCase()?r:r.closest("a");if(!o)return;const{action:a,interaction:i,link:s,label:c,uuid:l}=(e=>{const t={};if(!e||"a"!==e.tagName.toLowerCase())return t;const{href:n}=e;if(!n||!n.startsWith("adbinapp://"))return t;const r=n.split("?"),o=r[0].split("://")[1],a=e.innerText,i=e.getAttribute("data-uuid")||"";let s,c;if(U(r)){const e=Ae.parse(r[1]);s=e.interaction||"",c=tr(e.link||"")}return{action:o,interaction:s,link:c,label:a,uuid:i}})(o);e(a,{label:c,id:i,uuid:l,link:s}),"dismiss"===a&&ws(),Se(s)&&s.length>0&&t(s,!0)}},Cs=e=>{const{verticalAlign:t,width:n,horizontalAlign:r,backdropColor:o,height:a,cornerRadius:i,horizontalInset:s,verticalInset:c,uiTakeover:l=!1}=e,d={width:n?n+"%":"100%",backgroundColor:o||"rgba(0, 0, 0, 0.5)",borderRadius:i?i+"px":"0px",border:"none",position:l?"fixed":"relative",overflow:"hidden"};return"left"===r?d.left=s?s+"%":"0":"right"===r?d.right=s?s+"%":"0":"center"===r&&(d.left="50%",d.transform="translateX(-50%)"),"top"===t?d.top=c?c+"%":"0":"bottom"===t?(d.position="fixed",d.bottom=c?c+"%":"0"):"center"===t&&(d.top="50%",d.transform=("center"===r?d.transform+" ":"")+"translateY(-50%)",d.display="flex",d.alignItems="center",d.justifyContent="center"),d.height=a?a+"vh":"100%",d},ks=e=>{const{backdropOpacity:t,backdropColor:n}=e;return{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"transparent",opacity:t||.5,backgroundColor:n||"#FFFFFF"}},Is=["enabled","parentElement","insertionMethod"],Ps=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;ws();const{content:n,contentType:r,mobileParameters:o}=e;let{webParameters:a}=e;if(r!==ds)return;const i=A("div",{id:ys}),s=((e,t)=>{const n=(new DOMParser).parseFromString(e,ds),r=n.querySelector("script");r&&r.setAttribute("nonce",La());const o=A("iframe",{src:URL.createObjectURL(new Blob([n.documentElement.outerHTML],{type:"text/html"})),id:bs});return o.addEventListener("load",(()=>{const{addEventListener:e}=o.contentDocument||o.contentWindow.document;e("click",t)})),o})(n,Es(t)),c=A("div",{id:vs});(e=>{if(!e)return!1;const t=Object.keys(e);if(!t.includes(ys))return!1;if(!t.includes(vs))return!1;const n=Object.values(e);for(let e=0;e<n.length;e+=1){if(!Mt(n[e],"style"))return!1;if(!Mt(n[e],"params"))return!1;for(let t=0;t<Is.length;t+=1)if(!Mt(n[e].params,Is[t]))return!1}return!0})(a)||(a=(e=>{if(!e)return;const{uiTakeover:t=!1}=e;return{[bs]:{style:{border:"none",width:"100%",height:"100%"},params:{enabled:!0,parentElement:"#alloy-messaging-container",insertionMethod:"appendChild"}},[ys]:{style:Cs(e),params:{enabled:!0,parentElement:"body",insertionMethod:"appendChild"}},[vs]:{style:ks(e),params:{enabled:!0===t,parentElement:"body",insertionMethod:"appendChild"}}}})(o)),a&&((e,t,n,r)=>{[{id:vs,element:r},{id:ys,element:n},{id:bs,element:e}].forEach((e=>{let{id:n,element:r}=e;const{style:o={},params:a={}}=t[n];Object.assign(r.style,o);const{parentElement:i="body",insertionMethod:s="appendChild",enabled:c=!0}=a,l=document.querySelector(i);c&&l&&"function"==typeof l[s]&&l[s](r)}))})(s,a,i,c)};var Ss=e=>({defaultContent:t=>((e,t)=>new Promise((n=>{const{meta:r}=e;Ps(e,((e,n)=>{const o={};o[pa.INTERACT]=1,-1!==Object.values(pa).indexOf(e)&&(o[e]=1),t({decisionsMeta:[r],propositionAction:n,eventType:ca,propositionEventTypes:Object.keys(o)})})),n({meta:r})})))(t,e)});const Ds=e=>{const t=e.find((e=>e.scopeType===Mi));return t?t.scope:void 0};var _s=(e,t,n)=>{const{interactIds:r,clickLabel:o="",clickToken:a}=(e=>{const{documentElement:t}=document;let n=e;const r=new Set;let o,a;for(;n&&n!==t&&!(n instanceof ShadowRoot);){const e=_a(n,es);e&&r.add(e),o=o||_a(n,ts),a=a||_a(n,"data-aep-click-token"),n=n.parentNode}return{interactIds:[...r],clickLabel:o,clickToken:a}})(e),i=((e,t,n)=>r=>{const{scopeDetails:o={}}=r,{decisionProvider:a}=o;return e[a]===$i||e[a]===Ki&&(t||n)})(n,o,a);if(0===r.length)return{};const s=t(r).filter(i);return{decisionsMeta:Li(s),propositionActionLabel:o,propositionActionToken:a,viewName:Ds(s)}};const Os="AJO",Ts="TGT",Rs=e=>{let{config:t,logger:n,eventManager:r,consent:o}=e;const{targetMigrationEnabled:a,prehidingStyle:i,autoCollectPropositionInteractions:s}=t,c=Ai({eventManager:r,mergeDecisionsMeta:Vi}),l=(e=>()=>{const t=Sa(Za);t&&(e.logOnContentHiding({status:"show-containers",message:"Prehiding style removed to show containers.",logLevel:"info"}),K(t))})(n),d=(e=>t=>{if(!t)return;if(Sa(Za))return;const n=La(),r={id:Za,...n&&{nonce:n}},o=A(M,r,{textContent:t});e.logOnContentHiding({status:"hide-containers",message:"Prehiding style applied to hide containers.",logLevel:"info"}),x(document.head,o)})(n),{storeInteractionMeta:u,getInteractionMetas:p}=(()=>{const e={},t={};return{storeInteractionMeta:(n,r,o,a,i)=>{i=parseInt(i,10),e[i]||(e[i]={},t[i]={}),t[i][n]||(t[i][n]=new Set),t[i][n].add(r),e[i][n]={...a,scopeType:o}},getInteractionMetas:n=>Array.isArray(n)&&0!==n.length?Object.values(n.map((e=>parseInt(e,10))).reduce(((n,r)=>(Object.keys(e[r]||{}).forEach((o=>{n[o]||(n[o]={proposition:e[r][o],items:new Set}),n[o].items=new Set([...n[o].items,...t[r][o]])})),n)),{})).map((e=>{let{proposition:t,items:n}=e;return{...t,items:Array.from(n).map((e=>({id:e})))}})):[]}})(),{storeClickMeta:g,getClickSelectors:m,getClickMetas:f}=Fi(),h=(e=>{let{window:t}=e;return()=>t.location})({window:window}),y={[hi]:ui(Ya),[yi]:ui(Ka),[vi]:ui(ri),[bi]:ui(ci),[wi]:ui(li),[Ei]:ui(si),[Ci]:ui(gi),[ki]:ui(fi),[Ii]:ui(di),[Pi]:ui(K),[Si]:ui(ii),[Di]:ui(oi),[_i]:ui(ai),[Oi]:ui(Ka),[Ti]:ui($a),[xi]:ui(mi)},v=(b=[Qi,Gi],e=>e?b.reduce(((e,t)=>({...e,...t(e)})),e):e);var b;const w=Wi({preprocess:v,isPageWideSurface:Yo}),E=(e=>{let{createProposition:t}=e,n=!1,r=Promise.resolve({});const o=(e,n)=>{const r=e[n.toLowerCase()];return r&&r.length>0?r:[t({scope:n,scopeDetails:{characteristics:{scopeType:Mi}},items:[{schema:Ko}]},!1)]};return{createCacheUpdate:e=>{const t=T();return n=!0,r=r.then((e=>t.promise.then((t=>({...e,...t}))).catch((()=>e)))),{update(n){const r=n.filter((e=>e.getScope())),a=le(r,(e=>e.getScope().toLowerCase()));return t.resolve(a),e?o(a,e):[]},cancel(){t.reject()}}},getView:e=>r.then((t=>o(t,e))),isInitialized:()=>n}})({createProposition:w}),C=hs(window),k={[Ko]:Xi,[Zo]:os({modules:y,logger:n,storeInteractionMeta:u,storeClickMeta:g,autoCollectPropositionInteractions:s}),[ea]:as({modules:y,logger:n,storeInteractionMeta:u,autoCollectPropositionInteractions:s}),[ra]:ss({logger:n,executeRedirect:C,collect:c}),[oa]:ms({modules:Ss(c),logger:n})},I=cs({schemaProcessors:k,logger:n}),P=(()=>{let e=Promise.resolve([]);return{concat(t){e=e.then((e=>t.then((t=>e.concat(t))).catch((()=>e))))},clear(){const t=e;return e=Promise.resolve([]),t}}})(),S=((e,t)=>(n,r,o)=>{if(!n)return()=>{};if(!r){const e=T();return t.concat(e.promise),e.resolve}return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];U(t)&&e({decisionsMeta:t,viewName:o}),U(n)&&e({decisionsMeta:n,eventType:ua,propositionAction:{reason:"Conflict"},viewName:o})}})(c,P),D=(e=>{let{logger:t,prehidingStyle:n,showContainers:r,hideContainers:o,mergeQuery:a,processPropositions:i,createProposition:s,notificationHandler:c,consent:l}=e;return e=>{let{cacheUpdate:d,personalizationDetails:u,event:p,onResponse:g}=e;const{state:m,wasSet:f}=l.current();"out"===m&&f||(u.isRenderDecisions()?o(n):r()),a(p,u.createQueryDetails());const h=c(u.isRenderDecisions(),u.isSendDisplayEvent(),u.getViewName());g((e=>{let{response:n}=e;const o=n.getPayloadsByType("personalization:decisions");U(o)||t.logOnContentRendering({status:"no-offers",message:"No offers were returned.",logLevel:"info",detail:{query:u.createQueryDetails()}});const a=o.map((e=>s(e))),{page:c=[],view:l=[],proposition:p=[]}=le(a,(e=>e.getScopeType())),g=d.update(l);let m,f,y;return u.isRenderDecisions()?(({render:m,returnedPropositions:f,returnedDecisions:y}=i([...c,...g],p)),U(c)&&t.logOnContentRendering({status:"rendering-started",message:"Started rendering propositions for page-wide scope.",logLevel:"info",detail:{scope:mn,propositions:c.map((e=>e.toJSON()))}}),U(g)&&t.logOnContentRendering({status:"rendering-started",message:"Rendering propositions started for view scope - "+u.getViewName()+".",logLevel:"info",detail:{scope:u.getViewName(),propositions:g.map((e=>e.toJSON()))}}),m().then(h),r()):({returnedPropositions:f,returnedDecisions:y}=i([],[...c,...g,...p])),{propositions:f,decisions:y}}))}})({prehidingStyle:i,showContainers:l,hideContainers:d,mergeQuery:Bi,processPropositions:I,createProposition:w,notificationHandler:S,consent:o,logger:n}),_=(e=>{let{mergeDecisionsMeta:t,collectInteractions:n,collectClicks:r,getInteractionMetas:o,getClickMetas:a,getClickSelectors:i,autoCollectPropositionInteractions:s}=e;return e=>{let{event:c,clickedElement:l}=e;const d=[];let u,p,g;if([n(l,o,s),r(l,i(),a)].forEach((e=>{let{decisionsMeta:t,propositionActionLabel:n,propositionActionToken:r,viewName:o}=e;Array.prototype.push.apply(d,t),!u&&n&&(u=n),!p&&r&&(p=r),!g&&o&&(g=o)})),U(d)){const e={eventType:ca};g&&(e.web={webPageDetails:{viewName:g}}),c.mergeXdm(e),t(c,d,[pa.INTERACT],((e,t)=>{if(!t&&!e)return;const n={};return e&&(n.label=e),t&&(n.tokens=[t]),n})(u,p))}}})({mergeDecisionsMeta:Vi,collectInteractions:_s,collectClicks:qi,getInteractionMetas:p,getClickMetas:f,getClickSelectors:m,autoCollectPropositionInteractions:s}),O=(e=>{let{processPropositions:t,viewCache:n,logger:r}=e;return e=>{let o,a,{personalizationDetails:i,onResponse:s}=e;const c=i.getViewName();return s((()=>({propositions:o,decisions:a}))),n.getView(c).then((e=>{let n;return i.isRenderDecisions()?(({render:n,returnedPropositions:o,returnedDecisions:a}=t(e)),r.logOnContentRendering({status:"rendering-started",message:"Started rendering propositions for view scope - "+c+".",logLevel:"info",detail:{scope:c,propositions:e.map((e=>e.toJSON()))}}),n()):(({returnedPropositions:o,returnedDecisions:a}=t([],e)),[])}))}})({processPropositions:I,viewCache:E,logger:n}),R=Ji({processPropositions:I,createProposition:w,renderedPropositions:P,viewCache:E}),N=(e=>{let{targetMigrationEnabled:t}=e;return t?e=>{e.getPayload().mergeMeta({target:{migration:!0}})}:De})({targetMigrationEnabled:a}),L=ls({processPropositions:I,createProposition:w,notificationHandler:S}),j=(e=>{let{showContainers:t,consent:n}=e;return()=>{const{state:e,wasSet:r}=n.current();e===Qt&&r?t():n.awaitConsent().catch(t)}})({showContainers:l,consent:o});return va({getPageLocation:h,logger:n,fetchDataHandler:D,viewChangeHandler:O,onClickHandler:_,isAuthoringModeEnabled:Ui,mergeQuery:Bi,viewCache:E,showContainers:l,applyPropositions:R,setTargetMigration:N,mergeDecisionsMeta:Vi,renderedPropositions:P,onDecisionHandler:L,handleConsentFlicker:j})};Rs.namespace="Personalization";const xs=Zi.map((e=>xt(e)));Rs.configValidators=Mt({prehidingStyle:Lt().nonEmpty(),targetMigrationEnabled:Tt().default(!1),autoCollectPropositionInteractions:Mt({[Os]:Dt(xs).default($i),[Ts]:Dt(xs).default(Yi)}).default({[Os]:$i,[Ts]:Yi}).noUnknownFields()});const As=e=>null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype,Ns=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Object.keys(e).forEach((r=>{As(e[r])||Array.isArray(e[r])?Ns(e[r],t,[...n,r]):t[[...n,r].join(".")]=e[r]})),t};var Ms=e=>As(e)?Ns(e):e;const Ls="matcher",js="group",qs="historical",Us="eq",Vs="ne",Bs="ex",Fs="nx",Hs="gt",zs="ge",Js="lt",Gs="le",Qs="co",Ws="nc",Xs="sw",$s="ew",Ys="and",Ks="or",Zs="ordered",ec={[Us]:{matches:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(r(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!r(n[e])&&o===String(n[e]).toLowerCase())return!0;return!1}},[Vs]:{matches:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(r(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!r(n[e])&&o===String(n[e]).toLowerCase())return!1;return!0}},[Bs]:{matches:(e,t)=>void 0!==e[t]&&null!==e[t]},[Fs]:{matches:(e,t)=>void 0===e[t]||null===e[t]},[Hs]:{matches:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=e[t];if(!o(r))return!1;for(let e=0;e<n.length;e+=1)if(o(n[e])&&r>n[e])return!0;return!1}},[zs]:{matches:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=e[t];if(!o(r))return!1;for(let e=0;e<n.length;e+=1)if(o(n[e])&&r>=n[e])return!0;return!1}},[Js]:{matches:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=e[t];if(!o(r))return!1;for(let e=0;e<n.length;e+=1)if(o(n[e])&&r<n[e])return!0;return!1}},[Gs]:{matches:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=e[t];if(!o(r))return!1;for(let e=0;e<n.length;e+=1)if(o(n[e])&&r<=n[e])return!0;return!1}},[Qs]:{matches:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(r(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!r(n[e])&&-1!==o.indexOf(String(n[e]).toLowerCase()))return!0;return!1}},[Ws]:{matches:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(r(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!r(n[e])&&-1!==o.indexOf(String(n[e]).toLowerCase()))return!1;return!0}},[Xs]:{matches:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(r(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!r(n[e])&&o.startsWith(String(n[e]).toLowerCase()))return!0;return!1}},[$s]:{matches:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(r(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!r(n[e])&&o.endsWith(n[e].toLowerCase()))return!0;return!1}}},tc="eventId",nc="eventType",rc=["iam.eventType",nc,"type"],oc=["iam.id","id"],ac=(e,t)=>{for(let n=0;n<t.length;n+=1)if(!a(e[t[n]]))return t[n];throw new Error("The event does not match the expected schema.")},ic=e=>{const t=structuredClone(e);return[[ac(t,rc),nc],[ac(t,oc),tc]].forEach((e=>{let[n,r]=e;n!==r&&(t[r]=t[n],delete t[n])})),t},sc=f((function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=e.length,o=3432918353,a=461845907;let i=n;const s=-2&r;for(let n=0;n<s;n+=2)t=e.charCodeAt(n)|e.charCodeAt(n+1)<<16,t=h(t,o),t=(131071&t)<<15|t>>>17,t=h(t,a),i^=t,i=(524287&i)<<13|i>>>19,i=5*i+3864292196|0;return r%2==1&&(t=e.charCodeAt(s),t=h(t,o),t=(131071&t)<<15|t>>>17,t=h(t,a),i^=t),i^=r<<1,i^=i>>>16,i=h(i,2246822507),i^=i>>>13,i=h(i,3266489909),i^=i>>>16,i}),(e=>e.join("-"))),cc=f((function(e,t){const n=sc(e),r=Math.abs(n)%t/t*100;return Math.round(100*r)/100}));var lc=e=>{const t=structuredClone(e),n=Object.keys(t).sort().reduce(((e,n)=>{const r=t[n];return null==r||""===r?e:e+=n+":"+r}),"");return re(n)};const dc="events";var uc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return n=>{let r=Object.entries(n).reduce(((e,t)=>{let[n,{timestamps:r=[]}]=t;return r.forEach((t=>{e.push({key:n,timestamp:t})})),e}),[]);const o=(e=>{const t=new Date;return t.setDate(t.getDate()-e),t})(e);return r=r.filter((e=>{let{timestamp:t}=e;return t>=o})),r.sort(((e,t)=>e.timestamp-t.timestamp)),r=r.slice(-t),r.reduce(((e,t)=>{let{key:n,timestamp:r}=t;return e[n]||(e[n]={timestamps:[]}),e[n].timestamps.push(r),e}),{})}};const pc=e=>e?.scopeDetails?.activity?.id,gc=()=>{const e={};return{getItem:t=>t in e?e[t]:null,setItem:(t,n)=>{e[t]=n}}},mc=e=>{e.clear()},fc="cjmiam",hc="schema",yc={[fc]:(e,t,n)=>{const{html:r,mobileParameters:o}=n;return{schema:oa,data:{mobileParameters:o,webParameters:{},content:r,contentType:ds},id:e}},[hc]:(e,t,n)=>{const{schema:r,data:o,id:a}=n;return{schema:r,data:o,id:a||e}}},vc=e=>{const{schema:t,data:n}=e;if(t===na)return!0;if(t!==ta)return!1;try{const e="string"==typeof n.content?JSON.parse(n.content):n.content;return e&&Object.prototype.hasOwnProperty.call(e,"version")&&Object.prototype.hasOwnProperty.call(e,"rules")}catch{return!1}};var bc=(e,t)=>{const n=e=>{const{id:t,type:n,detail:r}=e;return"function"==typeof yc[n]?yc[n](t,n,r):r},r=pc(e),o=[],a=e=>{const{data:t={},schema:n}=e,r=n===na?t:t.content;r&&o.push(w("string"==typeof r?JSON.parse(r):r,{generateEventHash:lc}))};return Array.isArray(e.items)&&e.items.filter(vc).forEach(a),{rank:e?.scopeDetails?.rank||1/0,evaluate:a=>{const i=t.getEvent(sa,r),s=i?.timestamps[0],c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(e)?e.flat(1/0):e}(o.map((e=>e.execute(a)))).map(n).map((e=>{const n=t.addEvent({eventType:pa.TRIGGER,eventId:r}).timestamps[0];return{...e,data:{...e.data,qualifiedDate:n,displayedDate:s}}}));return{...e,items:c}},isEvaluable:o.length>0}},wc=e=>{let t,n,r,o,{storage:a,logger:i}=e,s=a;const c=e=>{if(s=e,t=((e,t)=>n=>{try{const n=e.getItem(t);return[JSON.parse(n),n.length]}catch{}return[n,0]})(s,dc),n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return n=>{e.setItem(t,JSON.stringify(n))}}(s,dc),[r,o]=t({}),o>2097152){const e=uc();r=e(r),n(r)}};c(a);const l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{eventType:t,eventId:o}=e;if(!t||!o)return;const a=(new Date).getTime(),s=lc(e);return r[s]&&Array.isArray(r[s].timestamps)||(r[s]={timestamps:[]}),r[s].timestamps.push(a),r[s].timestamps.sort(),i.info("[Event History] Added event for",e,"with hash",s,"and timestamp",a),n(r),r[s]};return{addExperienceEdgeEvent:e=>{const{xdm:t}=e.getContent();if(!(e=>{const{_experience:t}=e||{};return!!t&&"object"==typeof t})(t))return;const{_experience:{decisioning:{propositionEventType:n={},propositionAction:{id:r}={},propositions:o=[]}={}}}=t;Object.keys(n).filter((e=>1===n[e])).forEach((e=>{o.forEach((t=>{(e=>e?.scopeDetails?.decisionProvider)(t)===Os&&l({eventId:pc(t),eventType:e,action:r})}))}))},addEvent:l,getEvent:(e,t)=>{const n=lc({eventType:e,eventId:t});if(r[n])return r[n]},toJSON:()=>r,setStorage:c}};const Ec=function(){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return t},Cc=function(){return!0};var kc=e=>{let{collect:t}=e,n=()=>{};const r=new Set,o=(e,t,n)=>{const o=[e,t].join("-"),a=!n.has(o)&&((e=>[pa.INTERACT,pa.DISMISS].includes(e))(e)||!r.has(o));return n.add(o),r.add(o),a},a=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!(n instanceof Array))return Promise.resolve();if(!Object.values(pa).includes(e))return Promise.resolve();const r=[],a=new Set;return n.forEach((t=>{const n=(e=>{const{id:t,scope:n,scopeDetails:r}=e;return{id:t,scope:n,scopeDetails:r}})(t);o(e,n.id,a)&&r.push(n)})),r.length>0?t({decisionsMeta:r,eventType:ha(e),documentMayUnload:!0}):Promise.resolve()},i=(()=>{let e=Ec,t=Cc,n=0;const r={};return{add:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return"function"!=typeof e?()=>{}:(n+=1,r[n]={callback:e,params:t},{id:n,unsubscribe:(o=n,()=>{delete r[o]})});var o},emit:function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];Object.values(r).forEach((n=>{let{callback:r,params:a}=n;const i=e(a,...o);t(a,...i)&&r(...i)}))},emitOne:function(n){if(!n||!r[n])return;const{callback:o,params:a}=r[n];for(var i=arguments.length,s=new Array(i>1?i-1:0),c=1;c<i;c++)s[c-1]=arguments[c];const l=e(a,...s);t(a,...l)&&o(...l)},hasSubscriptions:()=>Object.keys(r).length>0,setEmissionPreprocessor:t=>{"function"==typeof t&&(e=t)},setEmissionCondition:e=>{"function"==typeof e&&(t=e)}}})();return i.setEmissionPreprocessor(((e,t)=>{const{surfacesFilter:n,schemasFilter:r}=e;return[{propositions:t.filter((e=>!n||n.includes(e.scope))).map((e=>{const{items:t=[]}=e;return{...e,items:t.filter((e=>!r||r.includes(e.schema)))}})).filter((e=>e.items.length>0))},a]})),{refresh:e=>{n=t=>{t?i.emitOne(t,e):i.emit(e)},n()},command:{optionsValidator:e=>(e=>{let{options:t}=e;return Mt({surfaces:Ot(Lt()).uniqueItems(),schemas:Ot(Lt()).uniqueItems(),callback:Rt().required()}).noUnknownFields()(t)})({options:e}),run:e=>{let{surfaces:t,schemas:r,callback:o}=e;const{id:a,unsubscribe:s}=i.add(o,{surfacesFilter:t instanceof Array?t:void 0,schemasFilter:r instanceof Array?r:void 0});return n(a),Promise.resolve({unsubscribe:s})}}}};const Ic="~type",Pc="~source",Sc="com.adobe.eventType.edge",Dc="com.adobe.eventType.rulesEngine",_c="com.adobe.eventSource.requestContent";var Oc=e=>{let{contextProvider:t,decisionProvider:n}=e;return{optionsValidator:e=>(e=>{let{options:t}=e;return Mt({renderDecisions:Tt(),personalization:Mt({decisionContext:Mt({})})}).noUnknownFields()(t)})({options:e}),run:e=>{let{renderDecisions:r,decisionContext:o,applyResponse:a}=e;return a({renderDecisions:r,propositions:n.evaluate(t.getContext(o))})}}};const Tc=e=>{let{config:t,eventManager:n,createNamespacedStorage:r,consent:o,getBrowser:a,logger:i}=e;const{orgId:s,personalizationStorageEnabled:c}=t,l=Ai({eventManager:n,mergeDecisionsMeta:Vi}),d=r(se(s)+".decisioning.");c||mc(d.persistent);const u=wc({storage:gc(),logger:i}),p=(e=>{let{eventRegistry:t}=e;const n={},r=e=>{const r=pc(e);if(!r)return;const o=bc(e,t);o.isEvaluable&&(n[r]=o)};return{addPayload:r,addPayloads:e=>{e.forEach(r)},evaluate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.values(n).sort(((e,t)=>{let{rank:n}=e,{rank:r}=t;return n-r})).map((t=>t.evaluate(e))).filter((e=>e.items.length>0))}}})({eventRegistry:u}),g=(e=>{let{eventRegistry:t,window:n,getBrowser:r}=e;const o=(new Date).getTime(),a=()=>{const e=new Date,t=e.getTime();return{pageLoadTimestamp:o,currentTimestamp:t,currentDate:e.getDate(),"~state.com.adobe.module.lifecycle/lifecyclecontextdata.dayofweek":e.getDay()+1,"~state.com.adobe.module.lifecycle/lifecyclecontextdata.hourofday":e.getHours(),currentMinute:e.getMinutes(),currentMonth:e.getMonth(),currentYear:e.getFullYear(),pageVisitDuration:t-o,"~timestampu":t/1e3,"~timestampz":e.toISOString()}},i={browser:{name:r()},page:{title:n.title,url:n.url,...Oe(n.url)},referringPage:{url:n.referrer,...Oe(n.referrer)}};return{getContext:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r={...{...i,...a(),window:{height:n.height,width:n.width,scrollY:n.scrollY,scrollX:n.scrollX},"~sdkver":Nn},...e};return{...Ms(r),events:t.toJSON()}}}})({eventRegistry:u,window:window,getBrowser:a}),m=Oc({contextProvider:g,decisionProvider:p}),f=kc({collect:l});let h;return{lifecycle:{onDecision(e){let{propositions:t}=e;f.refresh(t)},onComponentsRegistered(e){var t;t=e.lifecycle,h=e=>{let{renderDecisions:n=!1,propositions:r=[],event:o,personalization:a}=e;return t&&t.onDecision({renderDecisions:n,propositions:r,event:o,personalization:a}),{propositions:r}},c&&o.awaitConsent().then((()=>{u.setStorage(d.persistent)})).catch((()=>{d&&mc(d.persistent)}))},onBeforeEvent(e){let{event:t,renderDecisions:n,personalization:r={},onResponse:o=De}=e;const{decisionContext:a={}}=r;o((e=>{let{renderDecisions:t,decisionProvider:n,applyResponse:r,event:o,personalization:a,decisionContext:i}=e;const s={...Ms(o.getContent()),...i};return e=>{let{response:i}=e;if(n.addPayloads(i.getPayloadsByType("personalization:decisions")),!o.hasQuery())return{propositions:[]};const c=n.evaluate(s);return r({renderDecisions:t,propositions:c,event:o,personalization:a})}})({renderDecisions:n,decisionProvider:p,applyResponse:h,event:t,personalization:r,decisionContext:g.getContext({[Ic]:Sc,[Pc]:_c,...a})}))},onBeforeRequest(e){let{request:t}=e;const n=t.getPayload().toJSON(),{events:r=[]}=n;0!==r.length&&r.forEach((e=>u.addExperienceEdgeEvent(e)))}},commands:{evaluateRulesets:{run:e=>{let{renderDecisions:t,personalization:n={}}=e;const{decisionContext:r={}}=n;return m.run({renderDecisions:t,decisionContext:{[Ic]:Dc,[Pc]:_c,...r},applyResponse:h})},optionsValidator:m.optionsValidator},subscribeRulesetItems:f.command}}};Tc.namespace="RulesEngine",Tc.configValidators=Mt({personalizationStorageEnabled:Tt().default(!1)});var Rc=Mt({streamingMedia:Mt({channel:Lt().nonEmpty().required(),playerName:Lt().nonEmpty().required(),appVersion:Lt(),mainPingInterval:At().minimum(10).maximum(50).default(10),adPingInterval:At().minimum(1).maximum(10).default(10)}).noUnknownFields()}),xc=e=>{let{config:t,trackMediaEvent:n,trackMediaSession:r,mediaResponseHandler:o}=e;return{lifecycle:{onBeforeEvent(e){let{mediaOptions:t,onResponse:n=De}=e;if(!t)return;const{legacy:r,playerId:a,getPlayerDetails:i}=t;r||n((e=>{let{response:t}=e;return o({playerId:a,getPlayerDetails:i,response:t})}))}},commands:{createMediaSession:{optionsValidator:e=>(e=>{let{options:t}=e;return Dt([Mt({playerId:Lt().required(),getPlayerDetails:Rt().required(),xdm:Mt({mediaCollection:Mt({sessionDetails:Mt(_t()).required()})}),edgeConfigOverrides:Mt({})}).required(),Mt({xdm:Mt({mediaCollection:Mt({playhead:At().required(),sessionDetails:Mt(_t()).required()})}),edgeConfigOverrides:Mt({})}).required()],"Error validating the createMediaSession command options.")(t)})({options:e}),run:r},sendMediaEvent:{optionsValidator:e=>(e=>{let{options:t}=e;return Dt([Mt({playerId:Lt().required(),xdm:Mt({eventType:jt(...Object.values(uo)).required(),mediaCollection:Mt(_t())}).required()}).required(),Mt({xdm:Mt({eventType:jt(...Object.values(uo)).required(),mediaCollection:Mt({playhead:At().integer().required(),sessionID:Lt().required()}).required()}).required()}).required()],"Error validating the sendMediaEvent command options.")(t)})({options:e}),run:e=>t.streamingMedia?n(e):Promise.reject(new Error("Streaming media is not configured."))}}}};const Ac=e=>{let{config:t,logger:n,eventManager:r,sendEdgeNetworkRequest:o,consent:a}=e;const i=fo(),s=po({config:t,eventManager:r,consent:a,sendEdgeNetworkRequest:o,setTimestamp:An((()=>new Date))}),c=ho({mediaSessionCacheManager:i,mediaEventManager:s,config:t}),l=yo({config:t,mediaEventManager:s,mediaSessionCacheManager:i}),d=bo({mediaSessionCacheManager:i,config:t,trackMediaEvent:c});return xc({config:t,trackMediaEvent:c,mediaResponseHandler:d,trackMediaSession:l})};Ac.namespace="Streaming media",Ac.configValidators=Rc;var Nc=Object.freeze({__proto__:null,activityCollector:$r,audiences:Zr,consent:so,eventMerge:lo,mediaAnalyticsBridge:Uo,personalization:Rs,rulesEngine:Tc,streamingMedia:Ac});(e=>{let{components:t}=e;const n=window.__alloyNS;n&&n.forEach((e=>{const n=Bt({console:hr,locationSearch:window.location.search,createLogger:gn,instanceName:e,createNamespacedStorage:fr,getMonitors:xn}),r=(e=>t=>{let[n,r,[o,a]]=t;e(o,a).then(n,r)})(Pr({instanceName:e,logController:n,components:t})),o=window[e].q;o.push=r,n.logger.logOnInstanceCreated({instance:r}),o.forEach(r)}))})({components:Object.values(Nc)})}(),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=window,t=e._satellite,n=(document,t.environment),r=n&&n.stage,o=n&&n.id,a=t.cookie;return t.alloyConfigurePromise=Promise.resolve().then((function(){return new Promise((function(e){setTimeout(e,0)}))})).then((function(){let n="C0002",i="C0003",s="C0004",c=a.get("kndctr_9E1005A551ED61CA0A490D45_AdobeOrg_consent");c=c?c.split(";").reduce((function(e,t){return e[(t=t.split("="))[0]]=t[1],e}),{}):{};let l=a.get("OptanonConsent");t._cmpState=t.getVar("cmp.state"),t._C0002=l&&l.includes(n+":1"),t._C0003=l&&l.includes(i+":1"),t._C0004=l&&l.includes(s+":1");let d=t=>new Promise((n=>{e.alloy("setConsent",{consent:[{standard:"Adobe",version:"2.0",value:{collect:{val:t?"y":"n"},metadata:{time:(new Date).toISOString()}}}]}).then(n).catch(n)})),u=(t,n,a,i)=>new Promise((s=>{let c,l,d,u="application/vnd.adobe.xed-full+json;version=1.0",p=crypto.randomUUID(),g="9E1005A551ED61CA0A490D45@AdobeOrg",m="Adobe Tags - ENB | Global | AEP",f="/_adobe_corpnew/otherConsents/configuration";"production"===r?(c="https://dcs.adobedc.net/collection/e891d3631145f2a3263cc9791b49ce1aa98295228a85170b4d9a0e9b7ac07d25",l="https://ns.adobe.com/adobe_corpnew/schemas/677fbfda18384db0633d015f2760f5717899103119feae9d",d="689d24aea30f692b9395a0c4"):"staging"===r||"EN42751a09a105426fb57753d5bf45aa51"===o?(c="https://dcs.adobedc.net/collection/b59a9918701c588f941bf30f344351b6e0031a233a8cf94aee223273e6760f57",l="https://ns.adobe.com/adobe_corpnew/schemas/677fbfda18384db0633d015f2760f5717899103119feae9d",d="689bbf588f992a2b93c8cf9c"):(c="https://dcs.adobedc.net/collection/e61f09db471e6039b2f04f00dbbf835fb1f592e6f2f336b67c29959e85cf8e02",l="https://ns.adobe.com/adobe_corpnew/schemas/677fbfda18384db0633d015f2760f5717899103119feae9d",d="689a6c4977dfa92b92cb0171");let h,y=(e,t)=>({op:"add",path:e,value:t});e.alloy_getIdentity.then((function(e){h=e&&e.identity&&e.identity.ECID})).then((()=>fetch(c,{method:"POST",body:JSON.stringify({header:{schemaRef:{id:l,contentType:u},imsOrgId:g,datasetId:d,msgType:"xdmEntityUpdate",msgVersion:"1.0",msgId:p,source:{name:m}},body:{xdmMeta:{schemaRef:{id:l,contentType:u}},xdmEntityUpdates:{identity:{id:h,namespace:{code:"ECID"}},operations:[y(f+"/advertising",!!a),y(f+"/functional",!!n),y(f+"/performance",!!t),y("/_adobe_corpnew/cmp/state",i)]}}})}))).then(s).catch(s)})),p=()=>{if(!e.adobePrivacy)return;let r=e.adobePrivacy.activeCookieGroups(),o=r.includes(n),a=r.includes(i),l=r.includes(s);"post"===t._cmpState&&o===t._C0002&&a===t._C0003&&l===t._C0004||(c.general=o?"in":"out",t._cmpState="post",t._C0002=o,t._C0003=a,t._C0004=l,d(o),u(o,a,l,"post"))},g="adobePrivacy:Privacy";return e.addEventListener(g+"Consent",p),e.addEventListener(g+"Reject",p),e.addEventListener(g+"Custom",p),"out"===c.general?"out":"in"})).then((function(n){var r=e.alloy,o=function(n){var r,o,a,i,s,c=t.getVar("adobe_domains"),l=t.getVar("_deepMerge"),d=t.getVar("_trimEmptyObjects"),u=e.alloy_all,p={},g={};if(l(g,u.xdm),l(g,n.xdm),l(p,g),l(p,u.data),l(p,n.data),l(g.web,p.web),delete p.device,delete p.environment,delete p.implementationDetails,delete p.placeContext,delete p.timestamp,delete p.productListItems,n.data=d(p),n.xdm=d(g),(r=n.data)&&(o=r.web)&&(a=o.webInteraction)&&(i=a.type)&&"exit"===i&&(i=a.URL)&&(i=new URL(i))&&(s=i.hostname)&&c.some((function(e){return-1!==s.indexOf(e)})))return!1;(r=n.data)&&(o=r.web)&&(a=o.webInteraction)&&(i=a.type)&&("exit"===i||"download"===i)&&(i=a.URL)&&(a.name=i),"_i"in p&&(r=alloy_events[p._i])&&(r.data=n.data,r.xdm=n.xdm)},a=function(e){var t,n,r,o;if((t=e.xdm)&&(n=t.web)&&(r=n.webInteraction)&&(o=r.type)&&"exit"!=o&&"download"!=o)return!1};return["localhost","stage","staging","dev","development","qa","test","testing","author"].some((function(e){return-1!==location.hostname.indexOf(e)}))&&(launchEnv="stage"),r("configure",{edgeConfigId:t.getVar("alloy_dataStreamId"),orgId:"9E1005A551ED61CA0A490D45@AdobeOrg",edgeDomain:"sstats.adobe.com",edgeBasePath:"ee",idMigrationEnabled:!0,thirdPartyCookiesEnabled:!1,context:["web","device","environment","placeContext","highEntropyUserAgentHints"],defaultConsent:n,clickCollectionEnabled:!0,clickCollection:{internalLinkEnabled:!0,downloadLinkEnabled:!0,externalLinkEnabled:!0},onBeforeEventSend:o,onBeforeLinkClickSend:a,targetMigrationEnabled:!0})})).catch((function(){})),!0}},timeout:2e3}],actions:[]},{id:"RL56f68350fcf34072a5ba833db945a034",name:"LL-10-Interaction",events:[{
modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:10}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/9893a31a89dc/44bd9b592945/RCa6fc756c1f614fa7a5f9606cb65f6a63-file.min.js"},timeout:2e3,delayNext:!0}]},{id:"RL92f5aee42f394a36a075449db41d34ca",name:"DC-04-pageView",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageload"},ruleOrder:4},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"state"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageview"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=window,n=(t.location.hostname,e),r=n&&n.identifier,o=n&&n.detail||{},a=t.alloy_last_event,i=t.alloy,s=t._satellite,c=o&&o.edgeConfigOverrides&&o.edgeConfigOverrides.com_adobe_analytics&&o.edgeConfigOverrides.com_adobe_analytics.reportSuites||s.getVar("alloy_rs_overrides"),l=s.getVar("_beforeUnload"),d=t.alloy_last_event||{};return s.getVar("alloy_dataStreamId"),a||(a=t.alloy_last_event={},s.track("unload")),d.sent=d.sent||Promise.resolve(),!("pageload"!=r&&"pageView"!=r||!s.pageload)||(s.pageload=1,o.sent=new Promise((function(e){var n=!1,a=function(){o.i||(o.i=1,i("sendEvent",{documentUnloading:n,xdm:o.xdm,data:o.data,edgeConfigOverrides:{com_adobe_analytics:{reportSuites:c}}}).then((function(n){if(o.result=n,o.done)try{o.done(n)}catch(e){}t.dispatchEvent(new CustomEvent("alloy_sendEvent",{detail:{type:"pageView",result:n,event:o}})),e(n)}),(function(n){if(o.error=n,o.done)try{o.done(void 0,n)}catch(e){}t.dispatchEvent(new CustomEvent("alloy_sendEvent_error",{detail:{type:"pageView",error:n,event:o}})),e(n)})))};Promise.resolve().then((function(){return new Promise((function(e){setTimeout(e,0)}))})).then((function(){return s.alloyConfigurePromise})).then((function(){s.getVar("alloy_all")(),o=s.getVar("alloy_pageView",{value:o,type:"pageView",identifier:r})})).then((function(){return Promise.all([].concat(d.sent))})).then(a,a),setTimeout(a,1e4),l((function(){n=!0,a()}),-99)})),t.alloy_events=t.alloy_events||[],o.data=o.data||{},o.data._i=t.alloy_events.length,t.alloy_events[o.data._i]=o,t.alloy_last_event=t.alloy_pageView=o,!0)}},timeout:2e3}],actions:[]},{id:"RL95d6db48f47742f588e0d14272592d75",name:"DC-55-unload",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"unload"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=window,t=e.alloy,n=e.alloy_unload,r=e._satellite,o=r.getVar("_beforeUnload");r.getVar("percentPageViewed");var a=function(){n.i||(n.i=1,r.getVar("alloy_unload"),t("sendEvent",{documentUnloading:!0,xdm:n.xdm,data:n.data}))};return o((function(){a()}),99),!0}},timeout:2e3}],actions:[]},{id:"RLbcd8f7aac8de47b28b4bcd41388f11be",name:"DC-55-event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"event"},ruleOrder:51}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=window,n=e&&e.detail||{},r=t.alloy,o=t.alloy_pageView,a=t._satellite,i=n&&n.edgeConfigOverrides&&n.edgeConfigOverrides.com_adobe_analytics&&n.edgeConfigOverrides.com_adobe_analytics.reportSuites||a.getVar("alloy_rs_overrides");return a.getVar("alloy_dataStreamId"),Promise.resolve().then((function(){return new Promise((function(e){o&&a.pageload?e():t.addEventListener("alloy_sendEvent",(function(t){"pageView"==t.detail.type&&o&&e()}))}))})).then((function(){return new Promise((function(e){var n=t.alloy_last_event&&t.alloy_last_event.data&&t.alloy_last_event.data.eventType&&"web.webpagedetails.pageViews"==t.alloy_last_event.data.eventType?20:1;setTimeout(e,n)}))})).then((function(){var e=t.alloy_last_event||{},o=t.alloy_pageView||{};n.sent=new Promise((function(s){var c=function(){n.i||(n.i=1,n=a.getVar("alloy_event",{value:n,type:"event"}),r("sendEvent",{documentUnloading:!0,xdm:n.xdm,data:n.data,edgeConfigOverrides:{com_adobe_analytics:{reportSuites:i}}}).then((function(e){if(n.result=e,n.done)try{n.done(e)}catch(e){}t.dispatchEvent(new CustomEvent("alloy_sendEvent",{detail:{type:"event",result:e,event:n}})),s(e)}),(function(e){if(n.error=e,n.done)try{n.done(void 0,e)}catch(e){}t.dispatchEvent(new CustomEvent("alloy_sendEvent_error",{detail:{type:"event",error:e,event:n}})),s(e)})))};Promise.all([].concat(o.sent,e.sent)).then(c,c)})),t.alloy_events=t.alloy_events||[],n.data=n.data||{},n.data._i=t.alloy_events.length,t.alloy_events[n.data._i]=n,t.alloy_last_event=n})),!0}},timeout:2e3}],actions:[]}]};var _satellite=function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(e){return"[object Object]"===Object.prototype.toString.call(e)}function n(e){var n,r;return!1!==t(e)&&(void 0===(n=e.constructor)||!1!==t(r=n.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}function r(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function o(e){return e.substr(0,e.indexOf("["))}function a(e,t,n){if(e.length&&ut(t)){var i=e[0];if(1!==e.length){var s=e.slice(1);if(!r(i))return a(s,t[i],n);var c=t[i=o(i)];Array.isArray(c)&&c.forEach((function(e){return a(s,e,n)}))}else t.hasOwnProperty(i)&&"string"==typeof t[i]&&(t[i]=n(t[i]))}}if(window.atob){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=document,c=Object.assign,l=window,d=l,u=function(e,t,n,r){var o,a=Boolean(t&&Array.isArray(n)),i=Boolean(a&&e),s=document.createElement("a");if(a){var c=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(e&&(/^((https?:)?\/\/).+/.test(e)||c(),/^\/\/.+/.test(e)?s.href=d.location.protocol+e:s.href=e),s.hostname||c(),-1===n.indexOf(s.hostname)){var l=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw l.code="dynamic_host_not_allowed",l}}var u=function(){if(null!=o)return o;if(i){var e=s.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),o=s.protocol+"//"+e}else o="";return o},p=function(e){return i&&"string"==typeof e?[u(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},g={getTurbineHost:u,decorateWithDynamicHost:p,get isDynamicEnforced(){return a}};return d&&r.onDebugChanged((function(e){e?d.dynamicHostResolver=g:delete d.dynamicHostResolver})),g},p=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(n){t.push({rule:e,event:n})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},g="debug",m=function(e,t){var n=function(){return"true"===e.getItem(g)},r=function(t){e.setItem(g,t)},o=[],a=function(e){o.push(e)};return t.outputEnabled=n(),{onDebugChanged:a,getDebugEnabled:n,setDebugEnabled:function(e){n()!==e&&(r(e),t.outputEnabled=e,o.forEach((function(t){t(e)})))}}},f="Module did not export a function.",h=function(e,t,n){return function(r,o,a){a=a||[];var i=e.getModuleExports(r.modulePath);if("function"!=typeof i)throw new Error(f);var s=e.getModuleDefinition(r.modulePath),c=r.settings||{};!r.hasTransformedFilePaths&&s.filePaths&&(n(c,s.filePaths,r.modulePath),r.hasTransformedFilePaths=!0);var l=t(c,o);return i.bind(null,l).apply(null,a)}},y=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},v={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},b="\ud83d\ude80",w=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":b,E=!1,C=function(e){if(E&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(w),e!==v.DEBUG||window.console[e]||(e=v.INFO),window.console[e].apply(window.console,t)}},k=C.bind(null,v.LOG),I=C.bind(null,v.INFO),P=C.bind(null,v.DEBUG),S=C.bind(null,v.WARN),D=C.bind(null,v.ERROR),_=function(){var e=E;E=!0,C.apply(null,Array.prototype.concat(v.WARN,Array.prototype.slice.call(arguments))),e||(E=!1)},O={log:k,info:I,debug:P,warn:S,error:D,deprecation:_,get outputEnabled(){return E},set outputEnabled(e){E=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:k.bind(null,t),info:I.bind(null,t),debug:P.bind(null,t),warn:S.bind(null,t),error:D.bind(null,t)}}},T=l,R="com.adobe.reactor.",x=function(e,t){var n=R+(t||"");return{getItem:function(t){try{return T[e].getItem(n+t)}catch(e){return null}},setItem:function(t,r){try{return T[e].setItem(n+t,r),!0}catch(e){return!1}}}},A=x,N="dataElements.",M=A("sessionStorage",N),L=A("localStorage",N),j={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},q={},U=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},V=y,B=O,F={setValue:function(e,t,n){var r;switch(t){case j.PAGEVIEW:return void(q[e]=n);case j.SESSION:return void((r=U(n))&&M.setItem(e,r));case j.VISITOR:return void((r=U(n))&&L.setItem(e,r))}},getValue:function(e,t){var n;switch(t){case j.PAGEVIEW:return q.hasOwnProperty(e)?q[e]:null;case j.SESSION:return null===(n=M.getItem(e))?n:JSON.parse(n);case j.VISITOR:return null===(n=L.getItem(e))?n:JSON.parse(n)}}},H=function(e,t,n,r){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+n+(r?"\n"+r:"")},z=function(e,t,n,r,o){return function(a,i){var s=t(a);if(!s)return r?"":void 0;var c,l,d=s.storageDuration;try{c=e.getModuleExports(s.modulePath),l=e.getModuleDefinition(s.modulePath)}catch(e){return void B.error(H(s,a,e.message,e.stack))}if("function"==typeof c){var u,p=s.settings||{};!s.hasTransformedFilePaths&&l.filePaths&&(o(p,l.filePaths,s.modulePath),s.hasTransformedFilePaths=!0);try{u=c(n(p,i),i)}catch(e){return void B.error(H(s,a,e.message,e.stack))}return d&&(null!=u?F.setValue(a,d,u):u=F.getValue(a,d)),null==u&&null!=s.defaultValue&&(u=s.defaultValue),"string"==typeof u&&(s.cleanText&&(u=V(u)),s.forceLowerCase&&(u=u.toLowerCase())),u}B.error(H(s,a,"Module did not export a function."))}},J=y,G={text:function(e){return e.textContent},cleanText:function(e){return J(e.textContent)}},Q=function(e,t,n){for(var r,o=e,a=0,i=t.length;a<i;a++){if(null==o)return;var s=t[a];if(n&&"@"===s.charAt(0)){var c=s.slice(1);o=G[c](o)}else if(o.getAttribute&&(r=s.match(/^getAttribute\((.+)\)$/))){var l=r[1];o=o.getAttribute(l)}else o=o[s]}return o},W=function(e,t,n){return function(r,o){var a;if(t(r))a=n(r,o);else{var i=r.split("."),s=i.shift();"this"===s?o&&(a=Q(o.element,i,!0)):"event"===s?o&&(a=Q(o,i)):"target"===s?o&&(a=Q(o.target,i)):a=Q(e[s],i)}return a}},X=function(e,t){return function(n){var r=n.split(".")[0];return Boolean(t(n)||"this"===r||"event"===r||"target"===r||e.hasOwnProperty(r))}},$=function(e,t,n){var r={exports:{}};return e.call(r.exports,r,r.exports,t,n),r.exports},Y=$,K=O,Z=function(){var e={},t=function(t){var n=e[t];if(!n)throw new Error("Module "+t+" not found.");return n},n=function(){Object.keys(e).forEach((function(e){try{r(e)}catch(n){var t="Error initializing module "+e+". "+n.message+(n.stack?"\n"+n.stack:"");K.error(t)}}))},r=function(e){var n=t(e);return n.hasOwnProperty("exports")||(n.exports=Y(n.definition.script,n.require,n.turbine)),n.exports};return{registerModule:function(t,n,r,o,a){var i={definition:n,extensionName:r,require:o,turbine:a};i.require=o,e[t]=i},hydrateCache:n,getModuleExports:r,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},ee=O,te=!1,ne=function(e){return function(t,n){var r=e._monitors;r&&(te||(ee.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),te=!0),r.forEach((function(e){e[t]&&e[t](n)})))}},re=O,oe=function(e,t,n){var r,o,a,i,s=[],c=function(r,o,a){if(!e(o))return r;s.push(o);var i=t(o,a);return s.pop(),null==i&&n?"":i};return r=function(e,t){var n=/^%([^%]+)%$/.exec(e);return n?c(e,n[1],t):e.replace(/%(.+?)%/g,(function(e,n){return c(e,n,t)}))},o=function(e,t){for(var n={},r=Object.keys(e),o=0;o<r.length;o++){var a=r[o],s=e[a];n[a]=i(s,t)}return n},a=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++)n.push(i(e[r],t));return n},i=function(e,t){return"string"==typeof e?r(e,t):Array.isArray(e)?a(e,t):"object"==typeof e&&null!==e?o(e,t):e},function(e,t){return s.length>10?(re.error("Data element circular reference detected: "+s.join(" -> ")),e):i(e,t)}},ae=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var n in t)e[n]=t[n]}}},ie="undefined"!=typeof window&&window.Promise||void 0!==i&&i.Promise,se=ie,ce=function(e,t,n){return function(r,o,a,i){return i.then((function(){var i,s=r.delayNext;return new se((function(t,n){var o=e(r,a,[a]);if(!s)return t();var c=r.timeout,l=new se((function(e,t){i=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+c/1e3+" seconds to complete. "))}),c)}));se.race([o,l]).then(t,n)})).catch((function(e){return clearTimeout(i),e=t(e),n(r,o,e),se.reject(e)})).then((function(){clearTimeout(i)}))}))}},le=ie,de=function(e,t,n,r,o){return function(a,i,s,c){return c.then((function(){var c;return new le((function(t,n){var r=e(a,s,[s]),o=a.timeout,i=new le((function(e,t){c=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+o/1e3+" seconds to complete. "))}),o)}));le.race([r,i]).then(t,n)})).catch((function(e){return clearTimeout(c),e=t(e),r(a,i,e),le.reject(e)})).then((function(e){if(clearTimeout(c),!n(a,e))return o(a,i),le.reject()}))}))}},ue=ie.resolve(),pe=function(e,t,n){return function(r,o){return r.conditions&&r.conditions.forEach((function(t){ue=e(t,r,o,ue)})),r.actions&&r.actions.forEach((function(e){ue=t(e,r,o,ue)})),ue=(ue=ue.then((function(){n(r)}))).catch((function(){}))}},ge=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},me=function(e,t,n,r){return function(o,a){var i;if(o.conditions)for(var s=0;s<o.conditions.length;s++){i=o.conditions[s];try{var c=e(i,a,[a]);if(ge(c))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(i,c))return n(i,o),!1}catch(e){return r(i,o,e),!1}}return!0}},fe=function(e,t){return function(n,r){e(n,r)&&t(n,r)}},he=function(e){return function(t){var n=e.getModuleDefinition(t.modulePath);return n&&n.displayName||t.modulePath}},ye=function(e){return function(t){var n=t.rule,r=t.event,o=e.getModuleDefinition(r.modulePath).name;return{$type:e.getModuleExtensionName(r.modulePath)+"."+o,$rule:{id:n.id,name:n.name}}}},ve=function(e,t,n,r,o,a){return function(i,s){var c=s.rule,l=s.event;l.settings=l.settings||{};try{var d=o(s);t(l,null,[function(t){var r=n(d,t);i((function(){e(r,c)}))}])}catch(e){a.error(r(l,c,e))}}},be=function(e,t,n,r){return function(o,a,i){var s=t(o);n.error(e(s,a.name,i)),r("ruleActionFailed",{rule:a,action:o})}},we=function(e,t,n,r){return function(o,a,i){var s=t(o);n.error(e(s,a.name,i)),r("ruleConditionFailed",{rule:a,condition:o})}},Ee=function(e,t,n){return function(r,o){var a=e(r);t.log('Condition "'+a+'" for rule "'+o.name+'" was not met.'),n("ruleConditionFailed",{rule:o,condition:r})}},Ce=function(e,t){return function(n){e.log('Rule "'+n.name+'" fired.'),t("ruleCompleted",{rule:n})}},ke=function(e,t,n){return function(r,o){var a;if(r.actions)for(var i=0;i<r.actions.length;i++){a=r.actions[i];try{e(a,o,[o])}catch(e){return void t(a,r,e)}}n(r)}},Ie=function(e,t,n,r){return function(o,a){r("ruleTriggered",{rule:a}),e?n(a,o):t(a,o)}},Pe=function(e,t,n){return'Failed to execute "'+e+'" for "'+t+'" rule. '+n.message+(n.stack?"\n"+n.stack:"")},Se=function(e,t){return t&&!e.negate||!t&&e.negate},De=[],_e=!1,Oe=function(e){_e?e():De.push(e)},Te=function(e,t,n){e(t).forEach((function(e){n(Oe,e)})),_e=!0,De.forEach((function(e){e()})),De=[]},Re=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},xe={};Object.defineProperty(xe,"__esModule",{value:!0}),xe.isPlainObject=n;var Ae,Ne=O,Me=c,{isPlainObject:Le}=xe,je=function(e,t){return Le(t=t||{})?t=Me({},t,e):Me(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return Ne.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},qe=function(e,t){return function(n,r){var o=e[n];if(o){var a=o.modules;if(a)for(var i=Object.keys(a),s=0;s<i.length;s++){var c=i[s],l=a[c];if(l.shared&&l.name===r)return t.getModuleExports(c)}}}},Ue=function(e,t){return function(){return t?e(t):{}}},Ve=function(e,t,n){return function(r){if(n){var o=r.split(".");o.splice(o.length-1||1,0,"min"),r=o.join(".")}return e(t)+r}},Be=".js",Fe=function(e){return e.substr(0,e.lastIndexOf("/"))},He=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},ze=function(e,t){He(t,Be)||(t+=Be);var n=t.split("/"),r=Fe(e).split("/");return n.forEach((function(e){e&&"."!==e&&(".."===e?r.length&&r.pop():r.push(e))})),r.join("/")},Je={exports:{}};Ae=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(r){function o(){}function a(t,n,a){if("undefined"!=typeof document){"number"==typeof(a=e({path:"/"},o.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var i=JSON.stringify(n);/^[\{\[]/.test(i)&&(n=i)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in a)a[c]&&(s+="; "+c,!0!==a[c]&&(s+="="+a[c].split(";")[0]));return document.cookie=t+"="+n+s}}function i(e,n){if("undefined"!=typeof document){for(var o={},a=document.cookie?document.cookie.split("; "):[],i=0;i<a.length;i++){var s=a[i].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(r.read||r)(c,l)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(o[l]=c,e===l)break}catch(e){}}return e?o[e]:o}}return o.set=a,o.get=function(e){return i(e,!1)},o.getJSON=function(e){return i(e,!0)},o.remove=function(t,n){a(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}return n((function(){}))},Je.exports=Ae();var Ge=Je.exports,Qe={get:Ge.get,set:Ge.set,remove:Ge.remove},We=ie,Xe=function(e,t){return new We((function(n,r){t.onload=function(){n(t)},t.onerror=function(){r(new Error("Failed to load script "+e))}}))},$e=function(e){var t={};if(!e||"string"!=typeof e)return t;var n=e.trim().replace(/^[?#&]/,""),r=new URLSearchParams(n),o=r.keys();do{var a=o.next(),i=a.value;if(i){var s=r.getAll(i);1===s.length?t[i]=s[0]:t[i]=s}}while(!1===a.done);return t},Ye=function(e){var t="{{space}}",n=new URLSearchParams;return Object.keys(e).forEach((function(r){var o=e[r];"string"==typeof e[r]?o=o.replace(/ /g,t):["object","undefined"].includes(typeof o)&&!Array.isArray(o)&&(o=""),Array.isArray(o)?o.forEach((function(e){n.append(r,e)})):n.append(r,o)})),n.toString().replace(new RegExp(encodeURIComponent(t),"g"),"%20")},Ke="@adobe/reactor-",Ze={cookie:Qe,document:s,"load-script":function(e){var t=document.createElement("script");t.src=e,t.async=!0;var n=Xe(e,t);return document.getElementsByTagName("head")[0].appendChild(t),n},"object-assign":c,promise:ie,"query-string":{parse:function(e){return $e(e)},stringify:function(e){return Ye(e)}},window:l},et=function(e){return function(t){if(0===t.indexOf(Ke)){var n=t.substr(Ke.length),r=Ze[n];if(r)return r}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},tt=qe,nt=Ue,rt=Ve,ot=O,at=ze,it=et,st=function(e,t,n,r,o,a,i){var s=e.extensions,c=e.buildInfo,l=e.environment,d=e.property.settings;if(s){var u=tt(s,t);Object.keys(s).forEach((function(p){var g=s[p],m=g.settings;Array.isArray(g.filePaths)&&(m=a(m,g.filePaths));var f=nt(r,m);if(g.modules){var h=ot.createPrefixedLogger(g.displayName),y=rt(i,g.hostedLibFilesBaseUrl,c.minified),v={buildInfo:c,environment:l,property:{name:e.property.name,id:e.property.id},getDataElementValue:o,getExtensionSettings:f,getHostedLibFileUrl:y,getSharedModule:u,logger:h,propertySettings:d,replaceTokens:r,onDebugChanged:n.onDebugChanged,get debugEnabled(){return n.getDebugEnabled()}};Object.keys(g.modules).forEach((function(e){var n=g.modules[e],r=it((function(n){var r=at(e,n);return t.getModuleExports(r)}));t.registerModule(e,n,p,r,v)}))}})),t.hydrateCache()}return t},ct=Qe,lt=O,dt=function(e,t,n,r,o){var a=lt.createPrefixedLogger("Custom Script");e.track=function(e){lt.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=a,e.notify=function(e,t){switch(lt.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:a.info(e);break;case 4:a.warn(e);break;case 5:a.error(e);break;default:a.log(e)}},e.getVar=r,e.setVar=o,e.setCookie=function(e,t,n){var r="",o={};n&&(r=", { expires: "+n+" }",o.expires=n);var a='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+r+").";lt.deprecation(a),ct.set(e,t,o)},e.readCookie=function(e){return lt.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),ct.get(e)},e.removeCookie=function(e){lt.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),ct.remove(e)},e.cookie=ct,e.pageBottom=function(){},e.setDebug=n;var i=!1;Object.defineProperty(e,"_container",{get:function(){return i||(lt.warn("_satellite._container may change at any time and should only be used for debugging."),i=!0),t}})},{isPlainObject:ut}=xe,pt=s,gt=c,mt=u,ft=p,ht=m,yt=h,vt=z,bt=W,wt=X,Et=Z,Ct=ne,kt=oe,It=ae,Pt=ce,St=de,Dt=pe,_t=me,Ot=fe,Tt=he,Rt=ye,xt=ve,At=be,Nt=we,Mt=Ee,Lt=Ce,jt=ke,qt=Ie,Ut=Pe,Vt=Se,Bt=Te,Ft=Re,Ht=je,zt=x,Jt=st,Gt=dt,Qt=function(e,t){return function(n,r,o){return e&&ut(n)&&Object.keys(n).length&&Array.isArray(r)&&r.length?(r.forEach((function(e){Boolean(null!=o&&/^core\/.*actions.*\/customCode\.js$/.test(o))&&"source"===e&&!n.isExternal||a(e.split("."),n,t)})),n):n}},Wt=O,Xt=window._satellite;if(Xt&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var $t=Xt.container;delete Xt.container;var Yt=gt({},$t.buildInfo);Object.defineProperty(Yt,"environment",{get:function(){return Wt.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),$t.environment.stage}}),$t.buildInfo=Yt;var Kt,Zt=ht(zt("localStorage"),Wt),en="";pt.currentScript&&pt.currentScript.getAttribute("src")&&(en=pt.currentScript.getAttribute("src"));try{Kt=mt(en,Boolean($t.company.dynamicCdnEnabled),$t.company.cdnAllowList,Zt)}catch(e){throw Wt.warn("Please review the following error:"),e}var tn,nn=Qt(Kt.isDynamicEnforced,Kt.decorateWithDynamicHost),rn=Et(),on=$t.property.settings.undefinedVarsReturnEmpty,an=$t.property.settings.ruleComponentSequencingEnabled,sn=$t.dataElements||{},cn=function(e){return sn[e]},ln=function(){return tn.apply(null,arguments)},dn=vt(rn,cn,ln,on,nn),un={},pn=It(un),gn=wt(un,cn),mn=bt(un,cn,dn);tn=kt(gn,mn,on),Gt(Xt,$t,Zt.setDebugEnabled,mn,pn),Jt($t,rn,Zt,tn,dn,nn,Kt.decorateWithDynamicHost);var fn=Ct(Xt),hn=yt(rn,tn,nn),yn=Tt(rn),vn=Mt(yn,Wt,fn),bn=Nt(Ut,yn,Wt,fn),wn=At(Ut,yn,Wt,fn),En=Lt(Wt,fn),Cn=xt(qt(an,Ot(_t(hn,Vt,vn,bn),jt(hn,wn,En)),Dt(St(hn,Ft,Vt,bn,vn),Pt(hn,Ft,wn),En),fn),hn,Ht,Ut,Rt(rn),Wt);Bt(ft,$t.rules||[],Cn)}return e(Xt)}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();