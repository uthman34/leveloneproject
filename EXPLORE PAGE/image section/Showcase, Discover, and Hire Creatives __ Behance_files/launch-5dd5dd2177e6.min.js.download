// For license information, see `https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/launch-5dd5dd2177e6.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2025-09-30T16:30:15Z",turbineBuildDate:"2024-08-22T17:32:44Z",turbineVersion:"28.0.0"},environment:{id:"EN256774c3100e437fa6cb9e6e2af16f4f",stage:"production"},dataElements:{adobe_Locale:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.alloy_all||{},t=e&&e.data&&e.data._adobe_corpnew&&e.data._adobe_corpnew.digitalData&&e.data._adobe_corpnew.digitalData.page&&e.data._adobe_corpnew.digitalData.page.pageInfo&&e.data._adobe_corpnew.digitalData.page.pageInfo.language;if("string"==typeof t)return t}}},"digitalData.adobe.experienceCloud.adobeVisit":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("consent"),t=!1;return e("C0002",(function(){var e=window.location.hostname,n=_satellite.cookie.get("adobeHit"),o=_satellite.getVar("_getDomain"),a=function(){var e=_satellite.cookie.get("adobeHit")?Number(_satellite.cookie.get("adobeHit"))+1:1;_satellite.cookie.set("adobeHit",e,{domain:o()})};"www.adobe.com"===e&&(null==_satellite.cookie.get("adobeHit")||n<="2")&&(a(),t=_satellite.cookie.get("adobeHit"))})),t}}},dnb:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n,o=window,a=(o.location.hostname,o.localStorage),r=(document,o._satellite),i="dnb",s={digitalData:{organization:{dnb:{dimensionsCustom1:"",dimensionsCustom2:""}}}},c=r.getVar("consent"),d=Date.now(),l=6048e5;if(!(t=(e=r.DE=r.DE||{})[i])){try{n=JSON.parse(a.getItem(i))}catch(e){n=!1}n&&n.timestamp&&d-n.timestamp<l?(delete n.timestamp,t=Promise.resolve(n)):t=c.C0002.then((()=>fetch("https://ade0164.d41.co/api?ctver=6&req=ade0164&form=json",{method:"get"}).then((e=>e.json())))).then((e=>{var t={thirdPartyProvider:{dunBradstreet:{}},digitalData:{organization:{dnb:{}}}},n=":";return e&&Object.keys(e).length&&"200"==e.status?(t.thirdPartyProvider.dunBradstreet={thirdPartyAccountID:e.duns??void 0,orgName:e.companyName??void 0,industry:e.industryNaics??void 0,employeeCount:e.employeesInAllLocationsNum??void 0,countryCode:e.ipCountry??void 0,website:e.domain??void 0,stockExchangesTickerNames:e.exchange&&e.ticker?e.exchange+":"+e.ticker:void 0,fortune1000Rank:e.fortune1000??void 0,fortune500Rank:e.fortune500??void 0,industryList:e.industryNaics??void 0,globalUltimateDunsNumber:e.ultimateDuns??void 0,globalUltimateOrgName:e.ultimateName??void 0,domesticUltimateDunsNumber:e.domesticUltimateDuns??void 0,companyMSA:e.companyMsa??void 0,annualSalesRange:e.salesAnnual??void 0,employeesInAllLocations:e.employeesInAllLocations??void 0,userJobFunction:e.jobFunction??void 0,userJobSeniority:e.jobSeniority??void 0,parent:{thirdPartyAccountID:e.parentDuns??void 0},ultimateParent:{thirdPartyAccountID:e.ultimateDuns??void 0}},t.digitalData.organization.dnb.dimensionsCustom1=[e.duns,e.companyName,e.companyMsa,e.companyCountry,e.parentDuns,e.domesticUltimateDuns].join(n),t.digitalData.organization.dnb.dimensionsCustom2=[e.ultimateDuns,e.industryNaics,e.salesAnnual,e.employeesInAllLocations,e.jobFunction,e.jobSeniority].join(n),t.timestamp=d,a.setItem(i,JSON.stringify(t)),delete t.timestamp,t):s})).catch((function(){return s})),t.unresolved=s,e[i]=t}return t}}},"digitalData.campaign.external.affiliate.campaignInfo.uid.uidInfo":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window._satellite,o=n.cookie,a=n.getVar("_getDomain"),r=n.getVar("_getQueryParam"),i="digitalData.campaign.external.affiliate.campaignInfo.uid.uidInfo";return e=(t=n.DE=n.DE||{})[i],r("clickref")?(e=r("clickref"),o.set("pze_ref",e,{domain:a(),path:"/",samesite:"Lax",expires:90})):o.get("pze_ref")&&(e=o.get("pze_ref")),t[i]=e,e}}},otherConsents:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window._satellite,t=e.getVar("cmp.state"),n=e.getVar("consent").c;return"post"!=t||e.cookie.get("OptanonConsent")?{configuration:{performance:!!n("C0002"),functional:!!n("C0003"),advertising:!!n("C0004")}}:{configuration:{performance:!0,functional:!0,advertising:!0}}}}},"digitalData.primaryEvent.eventInfo.interaction":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t,n=window,o=document,a=n._satellite,r=e.eventValue||"",i=e.value&&e.value.impression||"",s=a.getVar("_getQueryParam")("clickflag");return"string"==typeof n.tempImpression&&""==i?i=n.tempImpression:"string"==typeof n.tempImpression&&""!=i&&(i+=","+n.tempImpression),!(o.querySelectorAll('[id="alloy-prehiding"]').length>0)&&("true"===s?localStorage.setItem("clickflag","true"):"false"===s&&localStorage.removeItem("clickflag"),t="true"===localStorage.getItem("clickflag"),impressionFuction=function(){var e,n,a,s,c,d=[],l=o.querySelectorAll("[daa-im] [daa-ll],[daa-im][daa-ll],[data-daa-im] [data-daa-ll],[data-daa-im][data-daa-ll]"),u=function(e){return e?e.replace(/,/g,""):""};c=function(e){var t,n,a,r,i,s,c,d,l,p;if(e.getBoundingClientRect(),e.offsetWidth||e.offsetHeight||e.getClientRects().length){a=[],r=e;do{(t=r.getAttribute("daa-lh")||r.getAttribute("data-daa-lh"))&&(-1!==t.indexOf("##")&&(s=(i=t.split("##"))[1],c=i[2],p=i[3],t="dl"===s?"invalid":"da"===s&&c&&p&&(d=o.querySelector(p))&&(l=d.getAttribute(c))||"text"===s&&c&&(d=o.querySelector(c))&&(l=d.innerText.trim())?t.replace(/##.*##/,l):"invalid"),t=u(t),a.unshift(t))}while(r=r.parentNode.closest("[daa-lh],[data-daa-lh]"));return n=u(e.getAttribute("daa-ll")||e.getAttribute("data-daa-ll")),a.unshift(n),a.join("|")}};var p=function(e){!d.includes(e)&&d.join(",").length+e.length<5e3&&d.unshift(e)};for(e=0,n=l.length;e<n;e++)(s=c(a=l[e]))&&(t&&a.setAttribute("title",s),("load"==r||"privacy"==r||"unload"==r)&&(i.split(",").includes(s)||p(s)));return{impression:d.join(",")}},impressionFuction())}}},mediaAnalyticsUpdateTopFrame:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){const e=window;var t=function(){return new Promise((t=>{"complete"===document.readyState?t():e.addEventListener("load",t)})).then((()=>(e.top.postMessage({n:"iframe loaded"},"*"),new Promise((t=>{e.addEventListener("message",(e=>{(e.data.n||e.data.v)&&(alloy_all.set("data.web.webPageDetails.name",e.data.n),alloy_all.set("data.web.webPageDetails.URL",e.data.v),alloy_all.set("data._adobe_corpnew.digitalData.primaryUser.primaryProfile.profileInfo",e.data.r),alloy_all.set("data._adobe_corpnew.digitalData.page.pageInfo.language",e.data.j),t())}))})))))};-1!==e.location.hostname.indexOf("video.tv.adobe.com")&&t()}}},alloy_all:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n,o,a,r,i,s,c,d,l=window,u=l.location,p=u.hostname,m=l._satellite,g=m.cookie,f=m.getVar("enableFeds"),h=m.getVar("enableIMS"),b=m.getVar("_getQueryParam"),v=(m.getVar("_getDomain"),m.getVar("_copyLocation")),y=l.alloy_all,w="_alloy_all";return(e=(t=m.DE=m.DE||{})[w])||(t[w]=e=function(){y.xdm=y.xdm||{},n=y.data=y.data||{},o=n.marketingtech=n.marketingtech||{},a=l.marketingtech||{},r=o.adobe=o.adobe||{},i=a.adobe||{},s=r.alloy=r.alloy||{},c=i.alloy||{},s.approach="AEP-Launch",c.edgeConfigId&&(s.edgeConfigId=c.edgeConfigId),o=n.web=n.web||{},(r=o.webReferrer=o.webReferrer||{}).URL=document.referrer,(r=o.webPageDetails=o.webPageDetails||{}).URL=u.href,r.siteSection=y.get("data._adobe_corpnew.digitalData.page.pageInfo.siteSection")||p,r.server=p,r.isErrorPage=m.getVar("is_404")||!1,r.isErrorPage=r.isErrorPage||!1,r.isHomePage=r.isHomePage||!1,o=n.__adobe=n.__adobe||{},r=o.target=o.target||{},m.getVar("mbox_parameter_entityId")&&(r["entity.id"]=m.getVar("mbox_parameter_entityId")),r.is404=m.getVar("is_404")||!1,o=n._adobe_corpnew=n._adobe_corpnew||{},(r=o.cmp=o.cmp||{}).state=m.getVar("cmp.state"),o.otherConsents=m.getVar("otherConsents"),(r=o.web=o.web||{}).location=v(l),r=o.digitalData=o.digitalData||{},s=r.adobe=r.adobe||{},alloy("getLibraryInfo").then((e=>{s.libraryVersions=e.libraryInfo.version})),s.gpc=navigator&&navigator.globalPrivacyControl?navigator.globalPrivacyControl.toString():"",s=r.page=r.page||{},(d=s.pageInfo=s.pageInfo||{}).location=v(l),d.siteSection=y.get("data._adobe_corpnew.digitalData.page.pageInfo.siteSection")||p,d.language=m.getVar("digitalData.page.pageInfo.language")||"en-US",(b("clickref")||g.get("pze_ref"))&&y.set("data._adobe_corpnew.digitalData.campaign.external.affiliate.campaignInfo.uid.uidInfo",m.getVar("digitalData.campaign.external.affiliate.campaignInfo.uid.uidInfo"));let e=b("li_fat_id")||g.get("li_fat_id");e&&y.set("data._adobe_corpnew.marketingTags.linkedIn.li_fat_id",e),m.getVar("isMilo")&&y.set("data._adobe_corpnew.digitalData.diagnostic.franklin.implementation","milo"),h&&(y.promises.push(m.getVar("digitalData.primaryUser.primaryProfile.profileInfo").then((function(e){y.set("data._adobe_corpnew.digitalData.primaryUser.primaryProfile.profileInfo",e),e.authState&&y.set("data.__adobe.target.authState",e.authState),"authenticated"===e.authState&&(y.xdm.identityMap={adobeGUID:[{id:e.fullProfileID,authenticatedState:e.authState,primary:!0}]})}))),y.promises[y.promises.length-1].name="digitalData.primaryUser.primaryProfile.profileInfo"),m.getVar("enableDemandbase")&&m.getVar("demandbase").then((function(e){let t=l.alloy_all.data._adobe_corpnew;if(e&&(temp=e.thirdPartyProvider)&&(temp=temp.demandbase)&&((t.thirdPartyProvider=t.thirdPartyProvider||{}).demandbase=temp),e&&(temp=e.digitalData)&&(temp=temp.organization)){let e=t.digitalData=t.digitalData||{},n=e.organization=e.organization||{},o=n.demandbase=n.demandbase||{};o.dimensions=temp.dimensions,o.dimensionsCustom=temp.dimensionsCustom}})),/business(\.stage)?\.adobe\.com/.test(p)&&m.getVar("dnb").then((function(e,t){let n=l.alloy_all.data._adobe_corpnew;if(e&&(t=e.thirdPartyProvider)&&(t=t.dunBradstreet)&&((n.thirdPartyProvider=n.thirdPartyProvider||{}).dunBradstreet=t),e&&(t=e.digitalData)&&(t=t.organization)&&(t=t.dnb)){let e=n.digitalData=n.digitalData||{},o=e.organization=e.organization||{},a=o.dnb=o.dnb||{};a.dimensionsCustom1=t.dimensionsCustom1,a.dimensionsCustom2=t.dimensionsCustom2}})),alloy("createEventMergeId").then((function(e){y.xdm.eventMergeId=e.eventMergeId})),f&&(y.promises.push(m.getVar("feds.entitlements").then((function(e){e.entitlement_cloud&&y.set("data.__adobe.target.entitlement_cloud",e.entitlement_cloud),e.entitlement_code&&y.set("data.__adobe.target.entitlement_code",e.entitlement_code),e.entitlement_product&&y.set("data.__adobe.target.entitlement_product",e.entitlement_product)}))),y.promises[y.promises.length-1].name="feds.entitlements")},l.hybridPers&&y.set("data.marketingtech.adobe.alloy.personalisation","hybrid")),e}}},_beforeUnload:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window,o=n._satellite,a="_beforeUnload";if(t=o.DE=o.DE||{},e=t[a])return e;var r,i=!1,s=[];return t[a]=e=function(t,n){n=n||e.currentOrder++,s.push({callback:t,order:n}),s.sort((function(e,t){return e.order<t.order?-1:1}))},e.currentOrder=1,r=function(e){var t,n;if(!i)for(i=!0,t=0;t<s.length;t++){n=s[t];try{n.callback(e)}catch(e){}}},n.addEventListener&&("onpagehide"in n&&n.addEventListener("pagehide",r),n.addEventListener("beforeunload",r)),e.version="1.3",e}}},"cmp.state":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){let e=window._satellite,t=e.cookie.get,n=e.getVar("serverTiming"),o=e.getVar("_explicitConsentCountries"),a=n?.geo?.toLowerCase(),r=sessionStorage.getItem("feds_location");if(r)try{r=JSON.parse(r),r=r?.country?.toLowerCase()}catch(e){r=void 0}return t("kndctr_9E1005A551ED61CA0A490D45_AdobeOrg_consent")||a&&!o.includes(a)||r&&!o.includes(r)?"post":t("OptanonConsent")||a&&o.includes(a)||r&&o.includes(r)?"pre":"unknown"}}},alloy_configure:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){!function(){"use strict";const{location:{hostname:t,pathname:n},_satellite:{environment:{stage:o,id:a},getVar:r},marketingtech:i,alloy_all:s}=window,c="production"===o,d=(g=e?.value||["adbadobenonacdcprod","adbadobeprototype"],g?.join(",")||""),l=(e,t)=>e.includes(t),u={"xlg-dev":{adobecomWeb_QA_v1:"3a30d55c-d57d-4851-af18-634780f03357",adobecomWeb_QA_excl_AM:"9feae507-e5e6-4912-a14e-b5ec6699a5e3",adobecomDualtagging_QA_v1:"cbfc8268-5bf4-4656-8107-2110a3848a49","Photoshop Web":"91638803-3120-445d-95a6-633d4384a839",newExpressWeb_Dev:"2a892ed7-c50f-4acf-8726-d41bd770ddbd"},"xlg-stage":{adobecomWeb_QA_v1:"e065836d-be57-47ef-b8d1-999e1657e8fd",adobecomWeb_QA_excl_AM:"a44f0037-2ada-441f-a012-243832ce5ff9",adobecomWeb_QA_Dualtag_v1:"12a78df7-cb5b-4d62-846a-c0bcc81171e7","Photoshop Web":"74953173-05a8-4a94-bea1-412b42fec857",newExpressWeb_QA:"0aa1fa09-3285-48d3-b930-d716acd398d6","adobecomWeb_QA_DataCollection=Off":"3662e132-2bc8-442c-b957-fd9f08d19a44"},"xlg-prod":{adobecomWeb_prod:"913eac4d-900b-45e8-9ee7-306216765cd2",adobecomWeb_prod_excl_AM:"57c20bab-94c3-425e-95cb-0b9948b1fdd4",adobecomWeb_prod_Dualtagging:"9a0fc4db-f543-485b-b33e-eb8b86b58deb","Photoshop Web":"bb618872-91ac-40cf-90a0-caa0eb2a6dd1",newExpressWeb_prod:"28baacdc-56e1-4191-a72d-2b4086448495"},"b2b-dev":{adobecomWeb_DX_QA:"2eedf777-b932-4f2a-a0c5-b559788929bf"},"b2b-stage":{adobecomWeb_DX_QA:"f527d1cb-3089-4478-98d0-02da6a7d2420"},"b2b-prod":{adobecomWeb_DX:"0fd7a243-507d-4035-9c75-e42e42f866a0"}},p={reportsuiteId:d,at_property:"Global",at_property_val:"Config in Server",at_switch:!0,dataset_id:""},m={debugSessionId:r("_getQueryParam")("adb_validation_sessionid"),consent:r("consent"),isFirstVisit:r("isFirstVisit"),alloyWebPageURL:s?.data?.web?.webPageDetails?.URL};var g;(t.includes("stage")||t.includes("localhost")||t.includes("qa")||t.includes("author"))&&(p.at_property_val="bc8dfa27-29cc-625c-22ea-f7ccebfc6231");const f={EN256774c3100e437fa6cb9e6e2af16f4f:"64e3e196cc582928d2163315",EN42751a09a105426fb57753d5bf45aa51:"655b54104a52b028d2560bc4",default:"6544ac0ad4e57528d30033ef"};p.dataset_id=f[a]||f.default;let h=(()=>{const e=r("_getQueryParam"),s={"xlg-dev":()=>u["xlg-dev"].adobecomWeb_QA_v1,"xlg-stage":()=>u["xlg-stage"].adobecomWeb_QA_v1,"xlg-prod":()=>u["xlg-prod"].adobecomWeb_prod,"b2b-dev":()=>u["b2b-dev"].adobecomWeb_DX_QA,"b2b-stage":()=>u["b2b-stage"].adobecomWeb_DX_QA,"b2b-prod":()=>u["b2b-prod"].adobecomWeb_DX};for(const[t,n]of Object.entries(s))if(e(t))return n();if(i?.appName?.includes("extension"))return c?i?.adobe?.alloy?.edgeConfigId??"4f78e98c-10f2-40d0-8e12-c7c89b548a08":"888b1f82-9c29-4114-a654-a94055188fdb";if(l(t,"developer"))return c?"57c20bab-94c3-425e-95cb-0b9948b1fdd4":"a44f0037-2ada-441f-a012-243832ce5ff9";if(l(t,"net.s2stagehance.com")||l(t,"net.dev0.be.lan")||l(t,"behance")||l(t,"acrobat")||l(t,"podcast")||l(t,"acrobat.adobe.com")&&(l(n,"/discover/")||l(n,"/dc-acrobat-pages/")))return c?u["xlg-prod"].adobecomWeb_prod:u["xlg-stage"].adobecomWeb_QA_v1;if(["business.stage.adobe","bacom--adobecom.hlx","business.adobe","blog.adobe.com","blog.stage.adobe.com","developer.adobe.com","developer-stage.adobe.com","discover.adobe.com","adobeexperienceawards.com","summit.adobe.com","reg.adobe.com","engage.adobe.com","engage.marketo.com","magento.com","partners.magento.com","info2.magento.com","www.marketo.com","blog.marketo.com","event.adobe.com"].some((e=>l(t,e))))return c?u["b2b-prod"].adobecomWeb_DX:u["b2b-stage"].adobecomWeb_DX_QA;if(l(t,"photoshop.adobe.com"))return c?u["xlg-prod"]["Photoshop Web"]:u["xlg-stage"]["Photoshop Web"];if(l(t,"projectx.corp")||l(t,"express-stage")||l(t,"express.adobe"))return l(t,"express.adobe.com")?u["xlg-prod"].newExpressWeb_prod:l(t,"stage.projectx.corp.adobe.com")||l(t,"express-stage")?u["xlg-stage"].newExpressWeb_QA:u["xlg-dev"].newExpressWeb_Dev;if(-1!=t.indexOf("video.tv.adobe.com")){if(-1!==document.referrer?.indexOf("business.adobe"))return u["b2b-prod"].adobecomWeb_DX;if(-1!==document.referrer?.indexOf("business.stage.adobe"))return u["b2b-dev"].adobecomWeb_DX_QA}return"production"===o?u["xlg-prod"].adobecomWeb_prod:"staging"===o||"EN42751a09a105426fb57753d5bf45aa51"===a?u["xlg-stage"].adobecomWeb_QA_v1:u["xlg-dev"].adobecomWeb_QA_v1})();if(l(t,"acrobat")&&(p.dataset_id=c?"671677b868c24f2aef486c7f":"66ec18b87cc8422aee374fc1"),l(t,"photoshop")&&(p.dataset_id=c?"666c5c195abf482c9e11b9ac":"666b4ef60139402c9ed36420"),"off"===r("_getQueryParam")("analytics")&&(h=u["xlg-stage"]["adobecomWeb_QA_DataCollection=Off"],p.reportsuiteId="Analytics Disabled",p.at_property_val="Target Disabled"),i?.appName?.includes("extension")&&(p.at_property_val="Target Disabled",c?(h=i?.adobe?.alloy?.edgeConfigId??"4f78e98c-10f2-40d0-8e12-c7c89b548a08",p.dataset_id="6706528e57daa32aefb6bfb8",p.reportsuiteId="adbdcwebprod"):(h="888b1f82-9c29-4114-a654-a94055188fdb",p.dataset_id="67064de277b99a2aefd258a3",p.reportsuiteId="adbdcwebqa")),l(t,"helpx")){p.at_property_val="Target Disabled";const e={EN781e549b3c8a43db9db97f02a5ece463:"6781089ea799f72aef9b7362",EN42751a09a105426fb57753d5bf45aa51:"6781077f7691172aeecc062c",default:"6781081ad0cac42aef6d3438"};p.dataset_id=e[a]||e.default}l(t,"developer")&&(p.at_property_val="Target Disabled",c?(h="913eac4d-900b-45e8-9ee7-306216765cd2",p.dataset_id="67eba8ed2d41992aef173813"):(h="e065836d-be57-47ef-b8d1-999e1657e8fd",p.dataset_id="67eba9789334bb2aefc91c66")),s?.data?._adobe_corpnew?.app?.appName?.includes("AdobeHome")&&(p.at_property_val="Target Disabled"),l(t,"acrobat")&&(h=c?"913eac4d-900b-45e8-9ee7-306216765cd2":"e065836d-be57-47ef-b8d1-999e1657e8fd"),s.set("data._adobe_corpnew.user.firstVisit",m.isFirstVisit);const b={"data._adobe_corpnew.configuration.edgeConfigId":h,"data._adobe_corpnew.configuration.analytics.reportSuites":p.reportsuiteId,"data._adobe_corpnew.configuration.experiencePlatform.eventDatasetID":p.dataset_id,"data._adobe_corpnew.configuration.target.propertyToken":p.at_property_val,"data._adobe_corpnew.configuration.edgeConfigIdLaunch":h,"data._adobe_corpnew.configuration.launch.environment":_satellite.environment,"data._adobe_corpnew.configuration.launch.controlPageLoad":i?.adobe?.launch?.controlPageLoad||""};Object.entries(b).forEach((([e,t])=>{s.set(e,t)})),m.debugSessionId&&(h+=`&debugSessionId=${encodeURIComponent(m.debugSessionId)}`)}()}}},alloy_unload:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n,o,a=window,r=a._satellite,i=a.alloy_unload||{},s=a.tempImpression||"",c=r.getVar("_copyLocation");i.xdm=i.xdm||{},(e=i.data=i.data||{}).eventType="web.webinteraction.linkClicks",(n=(t=e.web=e.web||{}).webInteraction=t.webInteraction||{}).name="page unload",n.linkClicks={value:1},n.type="other",(n=(t=e._adobe_corpnew=e._adobe_corpnew||{}).web=t.web||{}).location=c(a),((o=(n=t.digitalData=t.digitalData||{}).primaryEvent=n.primaryEvent||{}).eventInfo=o.eventInfo||{}).eventName="page unload",((o=n.page=n.page||{}).pageInfo=o.pageInfo||{}).location=c(a),i.set("data._adobe_corpnew.digitalData.primaryEvent.eventInfo.interaction",r.getVar("digitalData.primaryEvent.eventInfo.interaction",{eventValue:"unload",value:s}))}}},alloy_privacy:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window,t=e._satellite,n=e.location,o=n.pathname,a=n.hostname,r=t.cookie,i=e.alloy_privacy=e.alloy_privacy||{},s=e.alloy_all||{},c=i.xdm=i.xdm||{},d=i.data=i.data||{},l=t.getVar("_getQueryParam"),u=i.promises=i.promises||[],p=c.web=c.web||{},m=t.getVar("adobe_ecid")(),g=d._adobe_corpnew=d._adobe_corpnew||{},f=g.marketingTags=g.marketingTags||{},h=g.digitalData=g.digitalData||{},b=h.adobe=h.adobe||{},v=h.organization=h.organization||{},y=v.dnb=v.dnb||{},w=v.bombora=v.bombora||{},_=f.facebook=f.facebook||{},C=f.ttd=f.ttd||{},E=f.tiktok=f.tiktok||{},I=f.snapChat=f.snapChat||{},P=f.linkedIn=f.linkedIn||{},D=f.classification=f.classification||{},k=h.primaryEvent=h.primaryEvent||{},S=k.eventInfo=k.eventInfo||{};c.eventType="web.webinteraction.linkClicks",p.webInteraction={linkClicks:{value:1},type:"other",name:"adobe:privacyConsent"},S.eventName="adobe:privacyConsent",S.interaction=t.getVar("digitalData.primaryEvent.eventInfo.interaction",{eventValue:"privacy",value:d}),""==(e.tempImpression||"")&&""!=(S.interaction?.impression||"")?e.tempImpression=S.interaction.impression:""!=(S.interaction?.impression||"")&&(e.tempImpression+=","+S.interaction.impression),m&&s.set("data._adobe_corpnew.digitalData.ECID",m);var x=Number(t.getVar("digitalData.adobe.experienceCloud.dxVisits",{increment:!1}));x&&2===x&&s.set("data._adobe_corpnew.digitalData.adobe.experienceCloud.dxVisitsPrivacy","setEvent");var O=Number(t.getVar("digitalData.adobe.experienceCloud.secondVisits",{increment:!1}));O&&2==O&&s.set("data._adobe_corpnew.digitalData.adobe.experienceCloud.secondVisitsPrivacy","setEvent");let T=e.navigator?.userAgent;var R;return T&&(d.browserDetails={userAgent:T}),b.activePrivacyGroups=(R=r.get("OptanonConsent"))&&(R=R.split("groups="))&&R[1]&&(R=R[1].split("&"))&&(R=R[0].replace(/:1,/g,"|").replace(/:1/g,""))||"",u.push(t.getVar("xdm._adcloud.advertisingStitchID").then((function(t){var n=e.alloy_privacy.xdm;n._adcloud=n._adcloud||{},n._adcloud.advertisingStitchID=t}))),u[u.length-1].name="xdm._adcloud.advertisingStitchID",-1===o.search(/^\/((ca|br|mx|la|de|fr|uk|es|it|kr|au|nz|sea|jp)\/)?creativecloud\/plans.html/)&&-1===o.search(/^(\/(kr|sea|jp|fr|de|nz|au|uk|ca))?\/creativecloud(\/(social-media|3d-augmented-reality|ui-ux|illustration|video|design|photography|business\/teams|buy\/students))?.html$/)&&-1===o.search(/^(\/(kr|sea|jp|fr|de|nz|au|uk|ca))?\/products\/(illustrator|photoshop(-lightroom)?|indesign|premiere).html$/)&&-1===o.search(/^\/products\/(aero|catalog|photoshopfamily|premiere|photoshop-lightroom\/compare-plans|aftereffects|audition|spark|elements-family|sketch|capture|character-animator|dreamweaver|premiere-rush|photoshop-lightroom-classic|xd\/details|special-offers|premiere-elements|photoshop-premiere-elements|photoshop-elements).html$/)&&-1===o.search(/^\/creativecloud\/(video\/pro-video-tools|business\/teams\/features|desktop-app|stock|business|business\/teams\/plans|buy\/government|buy\/education|video\/compare-plans|photography\/compare-plans|business\/enterprise\/solution|business\/enterprise\/video-tools|all-apps).html$/)||(u.push(t.getVar("digitalData.page.category")(n).then((function(e){e&&e.fbPixel.contentId&&e.fbPixel.content_type&&e.fbPixel.productCategory&&(D.contentId=e.fbPixel.contentId||"",D.content_type=e.fbPixel.content_type||"",D.productCategory=e.fbPixel.productCategory||"")}))),u[u.length-1].name="digitalData.page.category"),u.push(t.getVar("engagedUser").then((function(e){e&&2===e.pageViews?_.engagedUser=!0:_.engagedUser=!1}))),u[u.length-1].name="engagedUser",/business(.stage)?.adobe.com/.test(a)&&(u.push(new Promise((function(n){function o(e,t,n,o,a){var r=e.createElement(t);r.async=!0,r.defer=!0,r.id=o,r.src=n,r.onload=a,e.head.appendChild(r)}setTimeout(n,4e3);var a="DnB";"2"==t.cookie.get(a)?n():("1"==t.cookie.get(a)?t.cookie.set(a,"2"):t.cookie.set(a,"1"),o(document,"script","//ade0164.d41.co/sync/","dnb_js_sync"),o(document,"script","//v2.d41.co/tags/dnb_coretag_v6.min.js","dnb_js_script",(function(){e.dnbvid&&"function"==typeof e.dnbvid.getData?e.dnbvid.getData("ade0164","json","T",{},(function(e){200==e.status&&(y.dimensionsCustom1=e.duns+":"+e.companyName+":"+e.companyMsa+":"+e.companyCountry+":"+e.parentDuns+":"+e.domesticUltimateDuns,y.dimensionsCustom2=e.ultimateDuns+":"+e.industryNaics+":"+e.salesAnnual+":"+e.employeesInAllLocations+":"+e.jobFunction+":"+e.jobSeniority),n()})):n()})))}))),u[u.length-1].name="dnbvid.getData",u.push(t.getVar("digitalData.organization.bombora").then((function(e){if(e){let t,n=[];for(let t in e)e[t]?n.push(e[t]):n.push(" ");t=n.join("|"),w.data=t}else w.data="Data not recieved in 3 seconds"}))),u[u.length-1].name="digitalData.organization.bombora"),_.fbp=r.get("_fbp")||"",_.fbc=r.get("_fbc")||"",E.ttp=r.get("_ttp")||"",E.ttclid=r.get("ttclid")||"",I.click_id=l("ScCid")||"",I.uuid_c1=r.get("_scid")||"",P.li_fat_id=r.get("li_fat_id")||"",C.ttd_TDID=r.get("ttd_TDID")||"",i}}},"data.productListitems":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return dataproductListItems=function(e){var t,n,o,a=e||{},r=[];if((o=a.data=a.data).productListItems&&o.productListItems.length>1)return a;if("object"==typeof window.alloy_all.get("data.productListItems"))return o.productListItems=window.alloy_all.get("data.productListItems")||[],a;if(t=a&&(ad=a.data)&&(ada=ad._adobe_corpnew)&&((adad=ada.digitalData)&&(adadp=adad.product)||(adap=ada.products||ada.product)&&adap),n=a&&(ad=a.data)&&(ada=ad._adobe_corpnew)&&(adao=ada.organization)&&(adaop=adao.product)&&adaop,t&&n)for(var i=0;i<t.length;i++){var s={SKU:"",_adobe_corpnew:{attributes:{assignedLicense:"",totalLicense:"",unassignedLicenseCount:"",subscriptionStatus:"",subscriptionGUID:"",cancelQuantity:"",productSource:""}}};s.SKU=t[i].productInfo&&(co=t[i].productInfo.offerId)&&co||"",s._adobe_corpnew.attributes.assignedLicense=t[i].attributes&&(ca=t[i].attributes.assignedLicense)&&ca||0,s._adobe_corpnew.attributes.totalLicense=t[i].attributes&&(ct=t[i].attributes.totalLicense)&&ct||0,t[i].attributes&&(cu=t[i].attributes.unassignedLicenseCount)&&cu&&(s._adobe_corpnew.attributes.unassignedLicenseCount=cu),t[i].attributes&&(cq=t[i].attributes.cancelQuantity)&&cq&&(s._adobe_corpnew.attributes.cancelQuantity=cq),s._adobe_corpnew.attributes.subscriptionStatus=n[i].productInfo&&(css=n[i].productInfo.subscriptionStatus)&&css||"",s._adobe_corpnew.attributes.subscriptionGUID=n[i].productInfo&&(csg=n[i].productInfo.subscriptionGUID)&&csg||"",s._adobe_corpnew.attributes.productSource="licenseUpdates",t[i].productInfo&&(co=t[i].productInfo.productName)&&co&&(s.SKU=co),r.push(s)}if(n)for(var c=0;c<n.length;c++){var d={SKU:"",_adobe_corpnew:{attributes:{assignedLicense:"",totalLicense:"",unassignedLicenseCount:"",subscriptionStatus:"",subscriptionGUID:"",productSource:""}}};d.SKU=n[c].productInfo&&(co=n[c].productInfo.offerId)&&co||"",d._adobe_corpnew.attributes.assignedLicense=n[c].attributes&&(ca=n[c].attributes.assignedLicense)&&ca||0,d._adobe_corpnew.attributes.totalLicense=n[c].attributes&&(ct=n[c].attributes.totalLicense)&&ct||0,n[c].attributes&&(cu=n[c].attributes.unassignedLicenseCount)&&cu&&(d._adobe_corpnew.attributes.unassignedLicenseCount=cu),d._adobe_corpnew.attributes.subscriptionStatus=n[c].productInfo&&(css=n[c].productInfo.subscriptionStatus)&&css||"",d._adobe_corpnew.attributes.subscriptionGUID=n[c].productInfo&&(csg=n[c].productInfo.subscriptionGUID)&&csg||"",d._adobe_corpnew.attributes.productSource="ownedProducts",r.push(d)}return r.length>=1&&((o=a.data=a.data).productListItems=r||[]),a},dataproductListItems}}},"digitalData.adobe.experienceCloud.secondVisits":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){const{window:t,location:n,hybridPers:o}=window,a=n.hostname,r=t._satellite.getVar("consent"),i=e?.increment??!0;let s=!1;return o?s=Number(localStorage.getItem("secondHit"))||0:r("C0002",(()=>{const e=Number(localStorage.getItem("secondHit"))||0;("www.adobe.com"===a||"www.stage.adobe.com"===a||"firefly.adobe.com"===a||"photoshop.adobe.com"===a)&&e<=2&&(s=i?(()=>{const t=e+1;return localStorage.setItem("secondHit",t.toString()),t})():e)})),s}}},productListItems:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t=alloy_all.get("data.productListItems")||e.prodData&&e.prodData.productListItems||[];alloy_all.get("data.web.webPageDetails.URL")&&-1!=alloy_all.get("data.web.webPageDetails.URL").indexOf("productlistitems=true")&&console.dir(t,{depth:null,colors:!0});var n=e&&e.prodData,o=e&&e.xdmData,a=[],r=[],i=[],s=[],c=[{start:1,end:100},{start:101,end:200},{start:201,end:300},{start:301,end:400},{start:401,end:500},{start:501,end:600},{start:601,end:700},{start:701,end:800},{start:801,end:900},{start:901,end:1e3}],d=function(e,t,n){var o=parseInt(e.match(/\d+/));if(!isNaN(o)&&"number"==typeof o)for(var a=0;a<c.length;a++){var r=c[a];if(o>=r.start&&o<=r.end){var i="event"+r.start+"to"+r.end,d={};d[e]={},d[e].value=t;var l=Object.keys(s[n]._experience.analytics).find((function(e){return e.startsWith(i)}));if(!l)return{[i]:d};s[n]._experience.analytics[l][e]={value:t}}}return null},l=function(e){return e.reduce((function(e,t){return e+t}),0)},u=function(){return!!(n&&n.web&&n.web.webInteraction&&n.web.webInteraction.name&&-1!==n.web.webInteraction.name.indexOf("addProducts:complete"))},p=function(e,t,n){if(-1!=e.indexOf("event")){var o=parseInt(t);if(isNaN(o))return;Object.assign(s[n]._experience.analytics,d(e,t,n))}-1!=e.indexOf("eVar")&&Object.assign(s[n]._experience.analytics.customDimensions.eVars,{[e]:t})},m=function(e,t,n){if(e.includes(".")){const o=e.split(".");let a=s[n]._adobe_corpnew.productDetails;for(let e=0;e<o.length-1;e++)a=a[o[e]];a[o[o.length-1]]=t}else s[n]._adobe_corpnew.productDetails[e]=t};if(alloy_all&&alloy_all.data&&alloy_all.data.web&&alloy_all.data.web.webPageDetails&&alloy_all.data.web.webPageDetails.name&&-1==alloy_all.data.web.webPageDetails.name.indexOf("adminconsole")){if(o.productListItems=[],t)for(var g=0;g<t.length;g++)t[g].SKU&&(o.productListItems[g]={},o.productListItems[g].SKU=t[g].SKU,o.productListItems[g]._experience={},o.productListItems[g]._experience.analytics={},t[g].quantity&&(t[g].quantity=parseInt(t[g].quantity),o.productListItems[g].quantity=t[g].quantity,o.productListItems[g]._experience.analytics.event801to900={},o.productListItems[g]._experience.analytics.event801to900.event820={},o.productListItems[g]._experience.analytics.event801to900.event820.value=t[g].quantity),t[g].priceTotal&&(t[g].priceTotal=parseFloat(t[g].priceTotal),o.productListItems[g].priceTotal=t[g].priceTotal),t[g].productCategories&&t[g].productCategories.categoryID&&(o.productListItems[g].productCategories=[],o.productListItems[g].productCategories[0]={},o.productListItems[g].productCategories[0].categoryID=t[g].productCategories.categoryID),"object"==typeof t[g]._experience&&"object"==typeof t[g]._experience.analytics&&"object"==typeof t[g]._experience.analytics.customDimensions&&"object"==typeof t[g]._experience.analytics.customDimensions.eVars&&(o.productListItems[g]._experience.analytics.customDimensions={},o.productListItems[g]._experience.analytics.customDimensions.eVars={},t[g]._experience.analytics.customDimensions.eVars.eVar97&&(o.productListItems[g]._experience.analytics.customDimensions.eVars.eVar97=t[g]._experience.analytics.customDimensions.eVars.eVar97),t[g]._experience.analytics.customDimensions.eVars.eVar61&&(o.productListItems[g]._experience.analytics.customDimensions.eVars.eVar61=t[g]._experience.analytics.customDimensions.eVars.eVar61),t[g]._experience.analytics.customDimensions.eVars.eVar90&&(o.productListItems[g]._experience.analytics.customDimensions.eVars.eVar90=t[g]._experience.analytics.customDimensions.eVars.eVar90)));return o.productListItems}var f=["cartUpdates","purchaseProduct","licenseUpdates","Fallback-cart","Fallback-primaryProduct","Fallback-product"],h=["ownedProducts","Fallback-adminConsole"];if(t){var b=[],v=[];for(t.forEach((function(e){if(e.SKU){var t=e._adobe_corpnew&&e._adobe_corpnew.attributes&&e._adobe_corpnew.attributes.productSource;-1!==f.indexOf(t)?b.push(e):-1!==h.indexOf(t)&&v.push(e)}})),g=0;g<b.length;g++){var y=function(){s[g]._experience={},s[g]._experience.analytics={},s[g]._experience.analytics.customDimensions={},s[g]._experience.analytics.customDimensions.eVars={},s[g]._adobe_corpnew={},s[g]._adobe_corpnew.productDetails={},s[g]._adobe_corpnew.productDetails.price={},s[g]._adobe_corpnew.productDetails.license={},s[g]._adobe_corpnew.productDetails.cancel={},s[g]._adobe_corpnew.productDetails.subscription={},b[g].quantity&&p("event506",b[g].quantity,g),b[g].quantity||p("event412",1,g),(ia=b[g]._adobe_corpnew)&&(iaa=ia.attributes)&&(iaa.sourceOfferLocation&&(p("eVar192",iaa.sourceOfferLocation,g),m("sourceOfferLocation",iaa.sourceOfferLocation,g)),iaa.customerSegment&&(p("eVar191",iaa.customerSegment,g),m("customerSegment",iaa.customerSegment,g)),iaa.subscriptionStatus&&(p("eVar202",iaa.subscriptionStatus,g),m("subscription.status",iaa.subscriptionStatus,g)),iaa.licenseType&&(p("eVar189",iaa.licenseType,g),m("license.licenseType",iaa.licenseType,g)),iaa.assignedLicense&&(p("event410",iaa.assignedLicense,g),r.push(iaa.assignedLicense),m("license.assigned",iaa.assignedLicense,g)),iaa.assignedLicense||r.push(0),iaa.totalLicense&&(p("event411",iaa.totalLicense,g),a.push(iaa.totalLicense),m("license.total",iaa.totalLicense,g)),iaa.totalLicense||a.push(0),iaa.unassignedLicenseCount&&(p("event414",iaa.unassignedLicenseCount,g),
m("license.unassigned",iaa.unassignedLicenseCount,g)),iaa.totalLicense||p("event406",1,g),iaa.cancelQuantity&&(p("event331",iaa.cancelQuantity,g),m("cancel.quantity",iaa.cancelQuantity,g)),iaa.subscriptionStatus&&"trial"===iaa.subscriptionStatus.toLowerCase()&&(p("event198",1,g),m("subscription.status",iaa.subscriptionStatus,g)),iaa.subscriptionStatus&&"paid"===iaa.subscriptionStatus.toLowerCase()&&(p("event199",1,g),m("subscription.status",iaa.subscriptionStatus,g)),m("subscription.guid",iaa.subscriptionGUID,g))};(b[g].SKU||b[g].name)&&(s[g]={},s[g].SKU=b[g].SKU||b[g].name,i.push(s[g].SKU),b[g].quantity&&(s[g].quantity=parseInt(b[g].quantity)),b[g].priceTotal&&(s[g].priceTotal=parseFloat(b[g].priceTotal)),b[g]._adobe_corpnew&&b[g]._adobe_corpnew.attributes&&b[g]._adobe_corpnew.attributes.productSource,y())}if(!u())for(var w=0;w<v.length;w++){var _=!1;s.push({});var C=s.length-1,E=v[w]._adobe_corpnew.attributes.subscriptionGUID;if(s[C].SKU=v[w].SKU||v[w].name,s[C]._experience={},s[C]._experience.analytics={},s[C]._experience.analytics.customDimensions={},s[C]._experience.analytics.customDimensions.eVars={},s[C]._adobe_corpnew={},s[C]._adobe_corpnew.productDetails={},s[C]._adobe_corpnew.productDetails.price={},s[C]._adobe_corpnew.productDetails.license={},s[C]._adobe_corpnew.productDetails.cancel={},s[C]._adobe_corpnew.productDetails.subscription={},p("event809",1,C),p("eVar124",E,C),i&&i.length){var I=i.indexOf(s[C].SKU);-1!==I&&(p("event410",r[I],C),p("event411",a[I],C),_=!0)}(ia=v[w]._adobe_corpnew)&&(iaa=ia.attributes)&&(_||(iaa.assignedLicense&&(p("event410",iaa.assignedLicense,C),r.push(iaa.assignedLicense),m("license.assigned",iaa.assignedLicense,C)),iaa.totalLicense&&(p("event411",iaa.totalLicense,C),a.push(iaa.totalLicense),m("license.total",iaa.totalLicense,C))),iaa.totalLicense||p("event406",1,C),iaa.subscriptionStatus&&"paid"===iaa.subscriptionStatus.toLowerCase()&&(p("event199",1,C),m("subscription.status",iaa.subscriptionStatus,C)),iaa.subscriptionStatus&&"trial"===iaa.subscriptionStatus.toLowerCase()&&(p("event198",1,C),m("subscription.status",iaa.subscriptionStatus,C)),iaa.price&&m("price.priceWithTax",iaa.price.priceWithTax,C),m("license.unassigned",iaa.unassignedLicenseCount,C),m("sourceOfferLocation",iaa.sourceOfferLocation,C),m("cancel.quantity",iaa.cancelQuantity,C),m("subscription.guid",iaa.subscriptionGUID,C),m("customerSegment",iaa.customerSegment,C))}}return(r||a)&&(o._experience={analytics:{event401to500:{event404:{value:r?l(r):0},event405:{value:a?l(a):0}}}}),s}}},alloy_pageView:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var n,o,a,r,i,s,c,d,l,u,p,m,g,f,h,b=window,v=b.location,y=v.pathname,w=v.hostname,_=v.href,C=b._satellite,E=e?.value||{},I=e?.identifier,P=C.cookie,D=C.getVar("adobe_pageNameLogic"),k=C.getVar("adobe_processedPageNameLogic"),S=(C.getVar("adobe_domains"),C.getVar("_getDomain")),x=C.getVar("_copyLocation"),O=C.getVar("isMilo"),T=C.getVar("adobe_Locale"),R=C.getVar("hasGnav"),A=C.getVar("isNewSchemaDomains"),N=C.getVar("SophiaLogic"),j=C.getVar("data.productListitems"),L=C.getVar("digitalData.primaryEvent.eventInfo.interaction",{eventValue:"load"}),M=C.getVar("adobe_parseQueryParams"),V=b.alloy_all;if(E.xdm=E.xdm||{},E.data=E.data||{},o=V&&(ald=V.data)&&(alda=ald._adobe_corpnew)&&(aldad=alda.digitalData)&&(aldadp=aldad.page)&&(aldadpp=aldadp.pageInfo)&&aldadpp.customPageName||D(v),a=E&&(ald=E.data)&&(alda=ald._adobe_corpnew)&&(aldad=alda.digitalData)&&(aldadp=aldad.page)&&(aldadpp=aldadp.pageInfo)&&aldadpp.customPageName,A&&(o=E&&(ald=E.data)&&(alda=ald._adobe_corpnew)&&(aldap=alda.page)&&aldap.customPageName||V&&(ald=V.data)&&(alda=ald._adobe_corpnew)&&(aldad=alda.digitalData)&&(aldadp=aldad.page)&&(aldadpp=aldadp.pageInfo)&&aldadpp.customPageName||D(v),E=j(E)),E=N(E),V.set("data._adobe_corpnew.digitalData.page.pageInfo.pageName",o),V.set("data._adobe_corpnew.digitalData.page.pageInfo.processedPageName",k(o)),searchFilter=E&&(ald=E.data)&&(alda=ald._adobe_corpnew)&&(aldad=alda.digitalData)&&(aldads=aldad.search)&&(aldadsf=aldads.filter),searchFilterTemp=V?.data?._adobe_corpnew?.digitalData?.search,searchFilter?E.data._adobe_corpnew.digitalData.search.filters=C.getVar("digitalData.search.filters",{event:E.data}):searchFilterTemp&&V.set("data._adobe_corpnew.digitalData.search.filters",C.getVar("digitalData.search.filters",{event:V.data})),v.hostname&&v.hostname.indexOf("stock")>-1){var q=V.get("data._adobe_corpnew.digitalData.page.pageInfo.location.search"),U=C.getVar("_getNewRepeat");S=C.getVar("_getDomain"),V.set("data._adobe_corpnew.digitalData.page.pageInfo.queryParameters",M(q)),V.set("data._adobe_corpnew.digitalData.primaryUser.primaryProfile.profileInfo.returningStatus",U(365,"s_nr",S()))}if(/^business(\.stage)?\.adobe\.com$/.test(w)&&(s=(i=document.querySelector('meta[name="primaryProductName" i]'))&&i.content?i.content:void 0)&&(E.data||(E.data={}),E.data.productListItems=[{SKU:s}]),c=C.getVar("digitalData.adobe.experienceCloud.dxVisits"),d=Number(C.getVar("digitalData.adobe.experienceCloud.secondVisits")),u=C.getVar("digitalData.adobe.experienceCloud.adobeVisit"),l=Number(C.getVar("digitalData.adobe.experienceCloud.acrobatSecondVisits")),-1!==y.indexOf("/acrobat/campaign/acrobats-got-it.html")&&-1!==_.search(/ttid=(all-in-one|reliable|versatile|combine-organize-e-sign|webforms-edit-e-sign)/)||"acrobat.adobe.com"===w||"www.adobe.com"===w&&-1!==y.search(/\/acrobat/)){var F=C.getVar("digitalData.adobe.experienceCloud.agiCampaign"),B=!1;!F||"1"!=F&&"2"!=F||(B=!0)}return V.set("data.web.webPageDetails.name",o),V.set("data.web.webPageDetails.URL",_),a&&-1!==a.indexOf("Modal")&&(o=a),"general=out"===P.get("kndctr_9E1005A551ED61CA0A490D45_AdobeOrg_consent")||b!==b.top&&-1==w.indexOf("plan.adobe.com")||(r=P.get("gpv")||"",V.set("data._adobe_corpnew.digitalData.previousPage.pageInfo.pageName",r),setTimeout((function(){t=new Date,t.setTime(t.getTime()+18e5),P.set("gpv",o,{expires:t,domain:S(),path:"/"})}),500)),(p=E.data=E.data||{}).eventType="web.webpagedetails.pageViews",s&&(p.productListItems=[{SKU:s}]),(g=(m=p.web=p.web||{}).webPageDetails=m.webPageDetails||{}).pageViews={value:1},(g=(m=p._adobe_corpnew=p._adobe_corpnew||{}).cmp=m.cmp||{}).state=C.getVar("cmp.state"),m.otherConsents=C.getVar("otherConsents"),(g=m.web=m.web||{}).location=x(b),(h=(f=(g=m.digitalData=m.digitalData||{}).primaryEvent=g.primaryEvent||{}).eventInfo=f.eventInfo||{}).interaction=h.interaction||{},L&&L.impression&&""!=L.impression&&(h.interaction.impression=L.impression),""==(b.tempImpression||"")&&""!=(h.interaction?.impression||"")?b.tempImpression=h.interaction.impression:""!=(h.interaction?.impression||"")&&(b.tempImpression=(b.tempImpression||"")+","+(h.interaction.impression||"")),h=(f=g.adobe=g.adobe||{}).experienceCloud=f.experienceCloud||{},c&&"2"==c&&(h.dxVisits="setEvent"),d&&2==d&&(h.secondVisits="setEvent"),u&&"2"==u&&(h.adobeVisit="setEvent"),l&&2==l&&(h.acrobatSecondVisits="setEvent"),h.agiCampaign=B?F:"",(h=(f=g.page=g.page||{}).pageInfo=f.pageInfo||{}).location=x(b),g=(m=p.__adobe=p.__adobe||{}).target=m.target||{},a&&(g.customPageName=a),g.hitType=I,g.isMilo=O,O&&(g.adobeLocale=T,g.hasGnav=R),x1=E.xdm=E.xdm||{},p.productListItems&&(n=C.getVar("productListItems",{prodData:p,xdmData:x1})).length&&(x1.productListItems=n),E}}},enableIMS:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window,t=e.location,n=t.hostname,o=t.pathname,a=function(e){return-1!==n.indexOf(e)};return!(e.marketingtech?.adobe?.skipIMS||a("localhost")||a("adobe.com")&&-1!==o.indexOf("/plans-fragments/modals/")||a("behance")||a("get.adobe.com")||a("get.stagedc.adobe.com")||a("get.devdc.adobe.com")||a("dev-research-site.corp.adobe.com")||a("research.adobe.com")||a("labs.stage.adobe.com")||a("labs.adobe.com")||a("mycreativetype.com"))}}},_explicitConsentCountries:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["ca","de","no","fi","be","pt","bg","dk","lt","lu","lv","hr","fr","hu","se","si","mc","sk","mf","sm","gb","yt","ie","gf","ee","mq","mt","gp","is","gr","it","es","at","re","cy","cz","ax","pl","ro","li","nl"]}}},isNewSchemaDomains:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=["adminconsole.adobe.com","stage.adminconsole.adobe.com","stage2.adminconsole.adobe.com","stage.plan.adobe.com","plan.adobe.com","account.adobe.com","stage.account.adobe.com","pr-614.plan.adobe.com","adminapps.stage.adobe.com","adminapps.adobe.com"],t=window.location.hostname;return e.indexOf(t)>-1}}},SophiaLogic:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="",t="",n="",o=window,a=o._satellite,r=o.location.href;return r&&r.toLowerCase(),function(o){function r(e){return e&&(cd=e.data)&&(ca=cd._adobe_corpnew)&&(cdi=ca.digitalData)&&(cs=cdi.sophiaResponse)&&(x=cs.fromPage)&&(cc=x.key)}var i,s,c,d,l=0,u="",p="",m="",g="",f="",h="",b="",v="",y="",w="",_="",C="",E="",I="",P="",D="",k="",S="",x="",O=a.getVar("_getQueryParam");o=o||{},O("campaignid")&&(u=O("actionblockid")||"",p=O("campaignid")||"",m=O("containerid")||"",g=O("controlgroupid")||"",v=O("treatmentid")||"",y=O("variationid")||"",w=O("cardid")||"",I=O("surfaceid")||O("surface")||"",O("intent")&&(P="intent-"+O("intent")+"|fromOffer-"+O("fromoffer")+"|toOfferId-"+O("toofferid")),D=u+":"+p+":"+m+":"+g+":"+v+":"+y+":"+w+":"+I,""!==P&&(D=D+":"+P),":::::::"!==D&&(k=D)),(S=r(o,t))&&":::::::"!=(D=(u=r(o,e)||"")+":"+(p=S)+":"+(m=r(o,_)||"")+":"+(g=r(o,h)||"")+":"+(v=r(o,f)||"")+":"+(y=r(o,b)||"")+":"+(w=r(o,E)||"")+":"+(I=r(o,C)||""))&&(""!==k&&(k+=","),k+=D);var T=o&&(cd=o.data)&&(ca=cd._adobe_corpnew)&&(csop=ca.sophiaResponse||(cdi=ca.digitalData)&&(cs=cdi.sophiaResponse))&&(x=csop.fromPage);for("object"==typeof(alloy_all.get("data._adobe_corpnew.digitalData.sophiaResponse.fromPage")||alloy_all.get("data._adobe_corpnew.sophiaResponse.fromPage"))&&Object.keys(alloy_all.get("data._adobe_corpnew.digitalData.sophiaResponse.fromPage")||alloy_all.get("data._adobe_corpnew.sophiaResponse.fromPage")).length>=1&&"object"!=typeof T&&(T=alloy_all.get("data._adobe_corpnew.digitalData.sophiaResponse.fromPage")||alloy_all.get("data._adobe_corpnew.sophiaResponse.fromPage"));T&&T[l];)":::::::"!=(D=(u=T[l].actionBlockId||T[l].ActionId||"")+":"+(p=T[l].campaignId||T[l].CampaignId||"")+":"+(m=T[l].containerId||T.ContainerId||"")+":"+(g=T[l].controlGroupId||T[l].ControlGroupId||"")+":"+(v=T[l].treatmentId||T[l].TreatmentId||"")+":"+(y=T[l].variationId||T[l].VariationId||"")+":"+(w=T[l].cardId||T[l].CardId||"")+":"+(I=T[l].surfaceId||T[l].SurfaceId||""))&&(""!==k&&(k+=","),k+=D),++l;for(k&&""!=k&&(((d=(c=(s=(i=o).data=i.data||{})._adobe_corpnew=s._adobe_corpnew||{}).digitalData=c.digitalData||{}).sophiaResponse=d.sophiaResponse||{}).listValue=k,(d=c.sophiaResponse=c.sophiaResponse||{}).listValue=k),T=alloy_all?.data?._adobe_corpnew?.digitalData?.floodgateResponse?.fromPage||o?.data?._adobe_corpnew?.digitalData?.floodgateResponse?.fromPage||[],n="",l=0;T&&T[l];){if("object"==typeof T[l]){var R="F:"+(T[l].appId||"")+":"+(T[l].featureId||"")+":"+(T[l].variantId||"")+":"+(T[l].releaseId||"")+"::"+(T[l].f_key||"")+":"+(T[l].bit_index||"");n=""===n?R:n+","+R}++l}return n&&""!=n&&(((d=(c=(s=(i=o).data=i.data||{})._adobe_corpnew=s._adobe_corpnew||{}).digitalData=c.digitalData||{}).floodgateResponse=d.floodgateResponse||{}).listValue=n,(d=c.floodgateResponse=c.floodgateResponse||{}).listValue=n),o}}}},demandbase:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n,o=window,a=(o.location.hostname,o.localStorage),r=document,i=o._satellite,s="demandbase",c={digitalData:{organization:{demandbase:{demandbaseInfo:{},dimensions:"",dimensionsCustom:""}}}},d=i.getVar("consent"),l=Date.now(),u=6048e5,p=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};if(!(t=(e=i.DE=i.DE||{})[s])){try{n=JSON.parse(a.getItem(s))}catch(e){n=!1}n&&n.timestamp&&l-n.timestamp<u?(delete n.timestamp,t=Promise.resolve(n)):t=d.C0002.then((function(){return new Promise((function(e){var t,n=r.head,a=r.createElement("script"),i=Math.floor(1e7*Math.random()),s="demandbaseCallback_"+i;t=function(){try{delete o[s],n.removeChild(a)}catch(e){o[s]=void 0}},a.type="text/javascript",a.src="https://api.demandbase.com/api/v3/ip.json?key=LDHxBA8hUB2yNQphwwEfblkR6cHtp1tmrI2XGG2s&rnd="+i+"&callback="+s,a.crossOrigin="anonymous",o[s]=function(n){t(),e(n)},n.appendChild(a)}))})).then((function(e){var t,n,o,r={thirdPartyProvider:{demandbase:{}},digitalData:{organization:{demandbase:{}}}},i=":",d="[n/a]",u={company_id:12,company_name:60,industry:20,sub_industry:20,employee_range:10,revenue_range:12,audience:20,audience_segment:20},m={web_site:50,custom_fields_ww_dme_namedaccounts:5,custom_fields_AMC_NamedAccts_DE:5,custom_fields_ww_dma_namedaccounts:5,b2b:!1,b2c:!1,custom_fields_top100:7,top_design_schools:5};if(!e||!Object.keys(e).length)return c;for(t in r.thirdPartyProvider.demandbase={thirdPartyAccountID:e.company_id??void 0,orgName:e.company_name??void 0,industry:e.industry??void 0,employeeCount:e.employee_count??void 0,countryCode:e.country??void 0,website:e.web_site??void 0,subIndustry:e.sub_industry??void 0,sic:e.primary_sic??void 0,isPrimarySic:!0,naics:e.primary_naics??void 0,isPrimaryNaics:!0,annualSales:e.annual_sales??void 0,revenueRange:e.revenue_range??void 0,isFortune1000:e.fortune_1000??void 0,isForbes2000:e.forbes_2000??void 0,registryOrgName:e.registry_company_name??void 0,registryCountryCode:e.registry_country_code??void 0,watchListAudience:e.watch_list?.Audience??void 0,watchListAudienceSegment:e.watch_list?.["Audience Segment"]??void 0,watchListCampaigns:(()=>{if(!e.watch_list)return;let t=[];for(let n in e.watch_list){if(!p(e.watch_list,n))continue;let o=e.watch_list[n];/^[a-z]/.test(n)&&o&&("TRUE"===o||!0===o?t.push(n):t.push(n+"="+o))}return t.join(",")})(),parent:{thirdPartyAccountID:e.parent?.company_id??void 0},ultimateParent:{thirdPartyAccountID:e.ultimate_parent?.company_id??void 0}},e)if(p(e,t)&&"object"==typeof e[t]&&null!==e[t]){for(n in e[t])p(e[t],n)&&(e[t+"_"+n]=e[t][n]);delete e[t]}return o=function(t){var n,o,a,r=[];for(n in t)p(t,n)&&(a=t[n]||20,n&&(e[n]?(o=(o=(o=e[n]).toString()).replace(i," "),r.push(o.substring(0,a))):!1===e[n]?r.push("false"):r.push(d)));return r.join(i)},r.digitalData.organization.dimensions=o(u),r.digitalData.organization.dimensionsCustom=o(m),r.timestamp=l,a.setItem(s,JSON.stringify(r)),delete r.timestamp,r})).catch((function(){return c})),t.unresolved=c,e[s]=t}return t}}},"xdm._adcloud.advertisingStitchID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window,o=n.location.hostname,a=(document,n._satellite),r="xdm._adcloud.advertisingStitchID",i=n.alloy_privacy=n.alloy_privacy||{},s=i.xdm=i.xdm||{},c=(s._adcloud=s._adcloud||{},a.getVar("_loadScript")),d="",l=(e,t)=>-1!==e.indexOf(t);if(!l(o,"podcast.stage.adobe.com")&&!l(o,"podcast.adobe.com"))return(t=(e=a.DE=a.DE||{})[r])||((t=new Promise((function(e){var t=setTimeout((function(){e(d)}),1e3);c("https://www.everestjs.net/static/le/last-event-tag-latest.min.js",(function(){clearTimeout(t),e(AdCloudEvent)}),{className:r})})).then((function(e){return e?e("9E1005A551ED61CA0A490D45@AdobeOrg","adbadobenonacdcprod").generateRandomId():d})).catch((function(){return d}))).unresolved=d,e[r]=t),t}}},"digitalData.primaryUser.primaryProfile.profileInfo":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n,o,a=window,r=a._satellite,i=r.getVar("_getNewRepeat"),s=r.getVar("_getDomain"),c=r.getVar("sha256"),d=r.getVar("serverTiming"),l=d&&"0"===d.sis,u="digitalData.primaryUser.primaryProfile.profileInfo",p="unknown",m="loggedOut";if(!(n=(t=r.DE=r.DE||{})[u])){if(o={authState:p,entitlementCreativeCloud:p,entitlementStatusCreativeCloud:p,returningStatus:i(365,"s_nr",s())},l)return o.authState=m,n=Promise.resolve(o),t[u]=n,n;(n=Promise.resolve().then((function(){return new Promise((function(t){a.adobeIMS&&(!a.adobeIMS.version||a.adobeIMS.version&&-1!==a.adobeIMS.version.indexOf("v2-")&&a.adobeIMS.initialized||a.adobeIMS.addEventListener&&a.adobeIMS.Events&&a.adobeIMS.Events.READY)?t():a.addEventListener("onImsLibInstance",(function(n){e=n.detail.instance,t()}))}))})).then((function(){return new Promise((function(t){(e=e||a.adobeIMS).initialized||e.onReadyAlreadyCalled?t():e.addEventListener&&e.Events&&e.Events.READY?e.addEventListener(e.Events.READY,t):t()}))})).then((function(){return o.authState=m,e.getUserProfile?e.getUserProfile():e.getProfile?e.getProfile():void 0})).then((function(t){var n,a,r,i={};return e.isSignedInUser()?o.authState="authenticated":o.authState=m,t&&(t.userId&&((a=t.userId.indexOf("@"))>0&&(o.profileID=t.userId.substring(0,a),o.authID=o.profileID),o.fullProfileID=t.userId,o.fullAuthID=o.fullProfileID),t.authId&&((a=t.authId.indexOf("@"))>0&&(o.authID=t.authId.substring(0,a)),o.fullAuthID=t.authId),t.account_type&&(i.account_type=t.account_type),t.preferred_languages&&(i.preferred_languages=t.preferred_languages),t.countryCode&&(i.countryCode=t.countryCode),t.toua&&(i.toua=t.toua),t.email&&(i.email=c(t.email.toLowerCase())),t.first_name&&(i.first_name=c(t.first_name.toLowerCase())),t.last_name&&(i.last_name=c(t.last_name.toLowerCase())),t.phoneNumber&&(i.phoneNumber=c(t.phoneNumber.replace("+",""))),t.serviceAccounts&&(i.serviceAccounts=t.serviceAccounts.map((function(e){return{serviceCode:e.serviceCode,serviceStatus:e.serviceStatus,serviceLevel:e.serviceLevel}}))),o.adobeIMSUserProfile=i),(n=e.getScope&&e.getScope()||e.adobeIdData&&e.adobeIdData.scope)&&-1!==n.indexOf("creative_cloud")&&t&&t.serviceAccounts&&((r=t.serviceAccounts.find((function(e){return"creative_cloud"===e.serviceCode})))?("CS_LVL_2"===r.serviceLevel?o.entitlementCreativeCloud="paid":"CS_LVL_1"===r.serviceLevel?o.entitlementCreativeCloud="free":o.entitlementCreativeCloud="notEntitled",o.entitlementStatusCreativeCloud=r.serviceStatus||"none"):(o.entitlementCreativeCloud="notEntitled",o.entitlementStatusCreativeCloud="none")),o})).catch((function(){return o}))).unresolved=o,t[u]=n}return n}}},"digitalData.page.pageInfo.language":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window,t=_satellite,n=t.getVar("isMilo"),o=e.alloy_all.get("data._adobe_corpnew.digitalData.page.pageInfo.language.locale");if(n&&null!=o){var a=e.alloy_all.get("data._adobe_corpnew.digitalData.page.pageInfo.language.langCode"),r=t.getVar("languageMapper",{loc:o})||"";return r&&"string"==typeof r?r:a&&"string"==typeof a?a:"en-US"}var i,s=window.alloy_all.get("data._adobe_corpnew.digitalData.page.pageInfo.language");if(s&&"string"==typeof s)return-1!==s.indexOf("_")&&((s=s.split("_"))&&2==s.length?i=s[0]&&s[1]?s[0].toLowerCase()+"-"+s[1].toUpperCase():"":s&&3==s.length&&(i=s[0]&&s[1]&&s[2]?s[0].toLowerCase()+"-"+s[1].toLowerCase()+"-"+s[2].toUpperCase():"")),i||s}}},is_404:{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=document.title;if(/\b404\b/i.test(e)||/page\s*not\s*found/i.test(e)||e.toLowerCase().includes("not found")||e.toLowerCase().includes("error"))return!0}}},adobe_processedPageNameLogic:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){var t,n=e=e.toLowerCase(),o=e.split(":"),a=["lightroom.adobe.com","embed","shares","libraries","gallery","learn","tutorial","discover","remix","api","feedback","lrdesktop","albums","shared-with-you","search","gallery","incomplete","assets","u","slideshow"],r=["stock.adobe.com","3d-assets","aaid","category","collections","contributor","download","downloadfiledirectly","id","images","Library","pages","sc","search","stock-photo","templates","urn","video","editorial","free","audio","premium","login","generate","artisthub"],i=["xd.adobe.com","embed","grid","screen","specs","view","spec"],s=["express.adobe.com","aaid","accept-invite","branding","design","design-remix","folders","libraries","manage-access","page","post","remix","sc","sp","urn","video","new","projects","app-licensing","app-licensing-homepage"],c=["accounts.adobe.com","account.adobe.com","30_free_days","60_free_days","90_free_days","agent_chat","cancel-plan","change-plan","change reason selected modal","complete","cs_help","edit-payment","modal","new-change-plan-offers-loaded","no_offershown","offer_search","plans","promotion","review","save_offer","switch","temp_license_prod","billing-history","cancel-reason","change reason selected modal","cs_help","details","manage plan modal","modal","offer_search","orders","other","plan-benefits-modal","plan-details","returns","save_offer","downloads"],d=["adminconsole.adobe.com","account","administrators","add-products","all-packages","billing-history","contract","contracts-and-agreements","enterprise","identity","packages","products","profile","profiles","overview","quick-assign-products","renew-products","requests","review-user-introductions","settings","storage","support","user-management","users","version.xml","all-users","directories","summary","user-groups"],l=["community.adobe.com","account-payment-plan-discussions","acrobat-discussions","acrobat-reader-discussions","acrobat-reader-mobile-discussions","acrobat-sdk-discussions","acrobat-services-api-discussions","adobe-acrobat-online-discussions","adobe-acrobat-sign-discussions","adobe-aero-bugs","adobe-aero-discussions","adobe-color-discussions","adobe-express-bugs","adobe-express-discussions","adobe-firefly-bugs","adobe-firefly-discussions","adobe-firefly-ideas","adobe-fonts-discussions","adobe-learning-manager-discussions","adobe-media-encoder-discussions","adobe-scan-discussions","adobe-xd-discussions","after-effects-beta-discussions","after-effects-bugs","after-effects-discussions","after-effects-ideas","air-discussions","animate-discussions","audition-discussions","badges","bridge-discussions","business-catalyst-discussions-read-only","camera-raw-discussions","captivate-discussions","character-animator-discussions","coldfusion-discussions","color-management-discussions","connect-discussions","contentarchivals","creative-cloud-desktop-discussions","creative-cloud-services-discussions","digital-editions-discussions","dimension-discussions","download-install-discussions","dreamweaver-discussions","enterprise-teams-discussions","exchange-discussions","fireworks-discussions","flash-player-discussions","forums","framemaker-discussions","fresco-discussions","illustrator-discussions","illustrator-draw-discussions","illustrator-on-the-ipad-discussions","incopy-discussions","indesign-discussions","kudos","lightroom-classic-bugs","lightroom-classic-discussions","lightroom-classic-ideas","lightroom-ecosystem-cloud-based-bugs","lightroom-ecosystem-cloud-based-discussions","lightroom-ecosystem-cloud-based-ideas","mixamo-discussions","muse-discussions","photoshop-beta-bugs","photoshop-beta-discussions","photoshop-discussions","photoshop-ecosystem-bugs","photoshop-ecosystem-discussions","photoshop-ecosystem-ideas","photoshop-elements-discussions","photoshop-express-discussions","photoshop-sketch-discussions","postscript-discussions","premiere-elements-discussions","premiere-pro-beta-bugs","premiere-pro-beta-discussions","premiere-pro-bugs","premiere-pro-discussions","premiere-pro-ideas","premiere-rush-discussions","robohelp-discussions","stock-contributors-discussions","stock-discussions","substance-3d-designer-discussions","substance-3d-painter-bugs","substance-3d-painter-discussions","substance-3d-plugins-discussions","substance-3d-sampler-discussions","substance-3d-stager-discussions","t5","team-projects-discussions","the-lounge-discussions","type-typography-discussions","user","using-the-community-discussions","video","video-hardware-discussions","video-lounge-discussions","xd-discussions"],u=["acrobat.adobe.com","aaid","documents","gdrive","id","link","onedrive","sc","urn"],p=["behance.net","appreciated","collection","collections","dailycc","discover","drafts","editor","followers","following","font","gallery","inbox","info","insights","joblist","live","loggedout","moodboard","profile","projects","report","resume","search","talent"],m=["fonts.adobe.com","confirm","fonts","results","select","upload","vs"],g=["photoshop.adobe.com","id","urn","aaid","sc","us","ap","eu","va6c2","va7"],f=["plan.adobe.com","cancel","cancel-reason","change","entitlements","interest","learn-more","loss-aversion-page","offers","offers-loaded","quiz","reasons","review","select-licenses","switch","switch-plan","view","plans","view-offer-details","saved","results"],h=["color.adobe.com","cloud","color","color-accessibility","color-contrast-analyzer","color-wheel","color-wheel-game","image","image-gradient","mythemes","urn","aaid","sc","library","trends","create"],b=["creative.adobe.com","code","redeem","share"],v=["portfolio.adobe.com","account-swaps","admin","preview","editor","firsteditor","switch-theme","user"],y=["schedule.adobe.com","calendar","connect","finalise"],w=["new.express.adobe.com","aaid","branding","brands","design","design-remix","id","libraries","link","page","post","sc","sp","template","urn","video","webpage","your-stuff"];return t=function(e,t){return e.filter((function(e){return t.includes(e)})).join(":")},e.match(".*.echosign..*|.*.adobesign..*|.*documents.adobe.com.*")?n=e.match("(.*.echosign.[^:]*|.*.adobesign.[^:]*|.*documents.adobe.com[^:]*).*")[1]:e.match("^lightroom.adobe.com")?n=t(o,a):e.toLowerCase().match("^stock.adobe.com:..:(1|2|3[^d]|4|5|6|7|8|9)|^stock.adobe.com:(1|2|3[^d]|4|5|6|7|8|9)")?n="stock.adobe.com:file":e.match("^stock.adobe.com")?n=t(o,r):e.match("^xd.adobe.com")?n=t(o,i):e.match("^express.adobe.com")?n=t(o,s):e.match("^accounts*.adobe.com")?n=t(o,c):e.match("^adminconsole.adobe.com")?n=t(o,d):e.match("^community.adobe.com")?n=t(o,l):e.match("^acrobat.adobe.com")?n=t(o,u):e.match("^behance.net")?n=t(o,p):e.match("^fonts.adobe.com")?n=t(o,m):e.match("^photoshop.adobe.com")?n=t(o,g):e.match("^plan.adobe.com")?n=t(o,f):e.match("^color.adobe.com")?n=t(o,h):e.match("^creative.adobe.com")?n=t(o,b):e.match("^portfolio.adobe.com")?n=t(o,v):e.match("^schedule.adobe.com")?n=t(o,y):e.match("^new.express.adobe.com")?n=t(o,w):window.alloy_all.get("data.__adobe.target.is404")&&(n="adobe.com:404"),["lightroom.adobe.com","stock.adobe.com","xd.adobe.com","express.adobe.com","accounts.adobe.com","account.adobe.com","adminconsole.adobe.com","community.adobe.com","acrobat.adobe.com","behance.net","fonts.adobe.com","photoshop.adobe.com","plan.adobe.com","color.adobe.com","creative.adobe.com","portfolio.adobe.com","schedule.adobe.com","new.express.adobe.com"].includes(n)&&(n=e),n}}}},_loadScript:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window._satellite,o="_loadScript";return(e=(t=n.DE=n.DE||{})[o])||(t[o]=e=function(e,t,n,o){var a,r=document,i=r.createElement("script"),s=!1;if(i.src=e,i.async=!0,n)for(a in n)i[a]=n[a];if(o)for(a in o)i.setAttribute(a,o[a]);t&&(i.onload=i.onreadystatechange=function(e){var n=this.readyState;s||n&&"complete"!==n&&"loaded"!==n||(s=!0,t(e))}),r.body?r.body.appendChild(i):r.head&&r.head.appendChild(i)}),e}}},engagedUser:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window,o=n._satellite,a=(n.location.hostname,"engagedUser"),r="engagedVisit",i={engagedVisit:{}},s=Date.now(),c=18e5;if(!(e=(t=o.DE=o.DE||{})[a])){if(n!==n.top)return Promise.resolve(i);(e=new Promise((function(e){try{var t=localStorage.getItem(r);t=t?JSON.parse(t):{pageViews:0,lastUpdated:0},s-t.lastUpdated>=c?t.pageViews=1:++t.pageViews,t.lastUpdated=s,localStorage.setItem(r,JSON.stringify(t)),e(t)}catch(t){console.log("Engaged Visit Error ->"+t),e(i)}}))).unresolved=i,t[a]=e}return e}}},"digitalData.adobe.experienceCloud.dxVisits":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){const{window:t,location:n,hybridPers:o}=window,a=n.hostname,r=t._satellite.getVar("consent"),i=e?.increment??!0;let s=!1;return o?s=Number(localStorage.getItem("dxHit"))||0:r("C0002",(()=>{const e=Number(localStorage.getItem("dxHit"))||0;("business.adobe.com"===a||"business.stage.adobe.com"===a||"www.marketo.com"===a||"engage.marketo.com"===a)&&e<=2&&(s=i?(()=>{const t=e+1;return localStorage.setItem("dxHit",t.toString()),t})():e)})),s}}},pageload_abort:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t=window.location,n=t.hostname,o=t.pathname,a=e&&e.value||{};if(-1!==n.indexOf("helpx")&&marketingtech?.adobe?.launch?.controlPageLoad&&"pageView"==a||-1!==o.indexOf("mini-plans")||-1!==o.indexOf("/plans-fragments/modals/")||-1!==n.indexOf("exchange.adobe.com")||-1!==n.indexOf("stage.exchange.adobe.com")||-1!==n.indexOf("local.corp.adobe.com")||-1!==n.indexOf("behance")||-1!==n.indexOf("net.s2stagehance.com")||-1!==n.indexOf("www.net.dev0.be.lan")||-1!==n.indexOf("developer")||-1!==n.indexOf("global-admin-console-stage.adobe.com")||-1!==n.indexOf("global-admin-console.adobe.com")||/(stage(2)?.)?adminconsole.adobe.com/.test(n)||/get(2|3|.devdc|.stagedc)?.adobe.com/.test(n)||/^www.(stage.)?adobe.com/.test(n)&&/^\/(home|apps\/all\/)/.test(o)||/^community-(dev|stage|stg)?\.adobe\.com$/.test(n)||/^community\.adobe\.com$/.test(n)&&o.startsWith("/"))return!0}}},"feds.entitlements":{forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t=window,n=(document,t._satellite),o="feds.entitlements",a={timeout:3500,time:0},r=n.DE=n.DE||{},i=e=>{var n;if(t.feds&&t.feds.data&&t.feds.data.isLoggedIn&&t.feds.data.entitlements){var o=e.clouds,a=o.creative_cloud,r=o.document_cloud,i=o.experience_cloud;n=a&&r&&i?"cc_dc_ec_paid":a&&r&&!i?"cc_dc_paid":a&&!r&&i?"cc_ec_paid":!a&&r&&i?"dc_ec_paid":!a||r||i?a||!r||i?a||r||!i?"free":"ec_paid_only":"dc_paid_only":"cc_paid_only"}else t.feds&&t.feds.data&&!t.feds.data.isLoggedIn&&(n="logged_out");return n},s=e=>{var t="",n=e.arrangment_codes;if(void 0===n)t="";else{for(let e in n)t+=e+",";t=t.substr(0,t.length-1)}return t},c=e=>{var t="",n=e.offer_families;if(void 0===n)t="";else{for(let e in n)t+=e+",";t=t.substr(0,t.length-1)}return t},d=(e,n)=>{t.feds&&t.fedsConfig&&t.feds.utilities?e():a.time>=a.timeout?n():(a.time=a.time+100,setTimeout(d.bind(this,e,n),100))};return e=new Promise(d).then((()=>t.feds.utilities.getUserEntitlements())).then((e=>({entitlement_cloud:i(e),entitlement_code:s(e),entitlement_product:c(e)}))),r[o]=e,e}}},adobe_ecid:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window._satellite,o=n.cookie,a="adobe_ecid";return(e=(t=n.DE=n.DE||{})[a])||(t[a]=e=function(){var e,t=!1,n=(t=o.get("AMCV_9E1005A551ED61CA0A490D45@AdobeOrg"),decodeURIComponent(t));return t=(n=/MCMID\|\d+/.exec(n))&&n[0]&&(e=n[0].replace("MCMID|",""))?e:""}),e}}},"digitalData.page.category":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=function(e){return new Promise((function(t,n){var o,a,r,i;if(i=function(e){var t,n,o,a,r,i,s=[];if(!e)return s;for(r=0,i=(t=e.trim().split(/[\r\n]+/)).length;r<i;r++)o=(n=t[r].split(": ")).shift(),a=n.join(": "),s.push({key:o,value:a});return s},(o=new XMLHttpRequest).open(e.method.toUpperCase(),e.url,!0),o.onreadystatechange=function(){var a,r={};if(o&&o.readyState&&4===o.readyState){o.getAllResponseHeaders?r.headers=i(o.getAllResponseHeaders()):r.headers=null,r.redirected=!1,r.status=1223===o.status?204:o.status,r.statusText=1223===o.status?"No Content":o.statusText,r.ok=r.status>=200&&r.status<300,r.body=o.responseText,r.bodyUsed=!1,r.json=function(){return JSON.parse(r.body)},r.text=function(){return r.body};try{r.data=r.json()}catch(e){}r.ok?t(r):((a=new Error("Network request failed with status code "+r.status)).config=e,a.request=o,a.response=r,n(a)),o=null}},o.onabort=function(){var t;(t=new Error("Network reqeust aborted")).config=e,t.request=o,n(t),o=null},o.onerror=function(){var t;(t=new Error("Network Error")).config=e,t.request=o,n(t),o=null},o.timeout=e.timeout,o.ontimeout=function(){var t;(t=new Error("Network request timed out after"+e.timeout+" milliseconds")).config=e,t.request=o,n(t),o=null},o.setRequestHeader)for(a in e.headers)e.headers.hasOwnProperty(a)&&(r=e.headers[a],o.setRequestHeader(a,r));e.withCredentials&&(o.withCredentials=!0),e.hasOwnProperty("data")||(e.data=null),o.send(e.data)}))};return contentClassification=function(t){
var n,o,a=(t=t||window.location).pathname,r=t.hostname,i="https://14257-contentmetadata.adobeioruntime.net/api/v1/web/content-classification-app-0.0.2/classificationData?url="+btoa(r+a)+"&info="+btoa("all");return _satellite._promises=_satellite._promises||{},(n=_satellite._promises[i])||(o={contentInfo:"unknown"},(n=new Promise((function(t){e({method:"GET",url:i}).then((function(e){e&&e.data&&t(e.data)})).catch((function(){return o}))}))).unresolved=o,_satellite._promises[i]=n),n},contentClassification}}},enableFeds:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window,t=e.location,n=t.hostname,o=t.pathname,a=e.marketingtech,r=function(e){return-1!==n.indexOf(e)};return!(r("adobe.com")&&(-1!==o.indexOf("/creativecloud/quiz-recommender.html")||/^\/(home|apps\/all\/)/.test(o))||r("localhost")||r("adobecom.hlx.page")||r("behance")||r("get.adobe.com")||r("get.stagedc.adobe.com")||r("get.devdc.adobe.com")||r("net.s2stagehance.com")||r("www.net.dev0.be.lan")||r("adminapps")||-1!==o.indexOf("/mini-plans/")||-1!==o.indexOf("/plans-fragments/modals/")||o.endsWith("/master.modal.html")||-1!==o.indexOf("milo")||a&&a.milo||!(e.fedsConfig&&e.feds&&e.feds.utilities&&e.feds.utilities.getUserEntitlements||document.querySelector("#feds-script")))}}},_onBeforeEventSend:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){var t,n,o,a,r,i=window,s=i._satellite,c=i.alloy_all,d=s.getVar("adobe_domains"),l=s.getVar("_deepMerge"),u=s.getVar("_trimEmptyObjects"),p={},m={};if(l(m,c.xdm),l(m,e.xdm),l(p,m),l(p,c.data),l(p,e.data),l(m.web,p.web),delete p.device,delete p.environment,delete p.implementationDetails,delete p.placeContext,delete p.timestamp,delete p.productListItems,e.data=u(p),e.xdm=u(m),e.data?._adobe_corpnew?.user?.customerLocale&&(e.xdm._adobe_corpnew=e.xdm._adobe_corpnew||{},e.xdm._adobe_corpnew.user=e.xdm._adobe_corpnew.user||{},e.xdm._adobe_corpnew.user.customerLocale=e.data._adobe_corpnew.user.customerLocale),(t=e.data)&&(n=t.web)&&(o=n.webInteraction)&&(a=o.type)&&"exit"===a&&(a=o.URL)&&(a=new URL(a))&&(r=a.hostname)&&d.some((function(e){return-1!==r.indexOf(e)})))return!1;(t=e.data)&&(n=t.web)&&(o=n.webInteraction)&&(a=o.type)&&("exit"===a||"download"===a)&&(a=o.URL)&&(o.name=a),"_i"in p&&(t=i.alloy_events[p._i])&&(t.data=e.data,t.xdm=e.xdm)}}}},adobe_parseQueryParams:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){var t,n,o,a,r,i,s={},c=window.location.hostname;for(r=function(e){var t=e||"";try{t=decodeURIComponent(e)}catch(e){}return t},0===e.indexOf("?")&&(e=e.substring(1)),o=0,a=(t=e.split("&")).length;o<a;o++)(n=t[o].split("="))[0]&&(s[r(n[0])]=r(n[1]));if(-1!==c.indexOf(".acrobat.com")||"documentcloud.adobe.com"===c)for(i in s)"uri"!==i&&"assetUri"!==i||delete s[i];return s}}}},enableDemandbase:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.location,t=e.hostname,n=e.pathname,o=function(e,t){return-1!==e.indexOf(t)};return!(o(t,"localhost")||o(t,"contentauthenticity")||o(t,"cr-web-local")||o(t,"cr-web-deploy")||o(t,"milo")||o(t,"adobecom.hlx.page")||o(t,"localhost")||o(t,"adobecom.hlx.page")||o(t,"firefly.adobe.com")||o(t,".corp.adobe.com")||o(t,"workflow")||o(t,"licenses.adobe.com")||o(t,"behance")||o(t,"podcast")||o(n,"/creativecloud/quiz-recommender.html")||o(n,"/plans-fragments/modals/")||o(n,"/master.modal.html")||o(n,"/mini-plans"))}}},alloy_handleResponse:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t=window,n=e&&e.value||[],o=t.alloy_all;if(n&&n.destinations){let e=o.get("data._adobe_corpnew.digitalData.adobe.xlg"),t=e?e.split(","):[];for(let e=0,o=n.destinations.length;e<o;e++){let o=n.destinations[e];for(let e=0,n=o.segments.length;e<n;e++){let n=o.segments[e];t.includes(n.id)||t.push(n.id)}}o.set("data._adobe_corpnew.digitalData.adobe.xlg",t.join(","))}if(t.ttMETA=t.ttMETA||[],o.data._adobe_corpnew.digitalData.adobe=o.data._adobe_corpnew.digitalData.adobe||{},o.data._adobe_corpnew.digitalData.adobe.target=o.data._adobe_corpnew.digitalData.adobe.target||{},o.data._adobe_corpnew.digitalData.adobe.target.response="",n&&n.propositions&&n.propositions.length>0){var a=function(e){return void 0===e||null==e||e.length<=0},r=n.propositions,i=/\,|\:/,s=[],c=[];r.forEach((function(e){e.items&&e.items.length>0&&e.items.forEach((function(e){var n=e.meta;if(!a(n)){var r=e.meta["option.name"],d=e.meta["activity.name"];(r&&-1===s.indexOf(r)||d&&-1===c.indexOf(d))&&(s.push(r),c.push(d),t.ttMETA.push({CampaignName:n["activity.name"],RecipeName:n["experience.name"],CampaignId:n["activity.id"],RecipeId:n["experience.id"],OfferId:n["option.id"],OfferName:n["option.name"],TrafficId:n["experience.trafficAllocationId"],TrafficType:n["experience.trafficAllocationType"]}),""!=o.data._adobe_corpnew.digitalData.adobe.target.response&&-1==o.data._adobe_corpnew.digitalData.adobe.target.response.indexOf(n["activity.id"])&&(o.data._adobe_corpnew.digitalData.adobe.target.response=o.data._adobe_corpnew.digitalData.adobe.target.response+","),-1==o.data._adobe_corpnew.digitalData.adobe.target.response.indexOf(n["activity.id"])&&(o.data._adobe_corpnew.digitalData.adobe.target.response+="T:"+(n["activity.id"]||"").replace(i,"")+":"+(n["activity.name"]||"").replace(i,"")+":"+(n["option.id"]||"").replace(i,"")+":"+(n["option.name"]||"").replace(i,"")+":"+(n["experience.id"]||"").replace(i,"")+":"+(n["experience.name"]||"").replace(i,"")+":"+(n["experience.trafficAllocationId"]||"").replace(i,"")+":"+(n["experience.trafficAllocationType"]||"").replace(i,"")))}}))}))}}}},_getDomain:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window._satellite,o=n.cookie,a="_getDomain";if(e=(t=n.DE=n.DE||{})[a])return e;var r="";return t[a]=e=function(){if(r)return r;var e=window.location.hostname.toLowerCase().split("."),t=[],n="",a=null,i=!1;for(n=e.pop(),t.unshift(n);e.length>0;){n=e.pop(),t.unshift(n),(a=new Date).setTime(a.getTime()+1e3);try{o.set("sat_domain","A",{expires:a,domain:t.join(".")})}catch(e){break}if("A"===o.get("sat_domain")){i=!0,r=t.join(".");break}}return i?r:""},e.version="2.0",e}}},percentPageViewed:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){setTimeout((function(){var e=window,t=document,n=e.alloy_unload;!function(){var o,a,r,i,s,c,d=["load","scroll","resize","zoom","keyup","mouseup","touchend","orientationchange","pan"];try{a={get passive(){return o=1,!1}},e.addEventListener("test",null,a),e.removeEventListener("test",null,a)}catch(e){o=0}for(a=!!o&&{passive:!0},r=function(){var o,a,r,s,c=t.documentElement;if(!c)return;r=Math.max(c.offsetHeight,c.clientHeight,1),s=(e.innerHeight||c.clientHight||1)+(e.pageYOffset||c.scrollTop||0),a=r>0&&s>0?Math.round(100*s/r):1,(!(o=n.get("data._adobe_corpnew.digitalData.previousPage.pageInfo.percentPageViewed"))||a>o)&&n.set("data._adobe_corpnew.digitalData.previousPage.pageInfo.percentPageViewed",a);let d=e.pageYOffset||t.documentElement.scrollTop,l=e.location.href;if((l.includes("https://business.stage.adobe.com")||l.includes("https://business.adobe.com"))&&d>0&&[25,50,75,90,100].includes(a)){let e=n.get("data._adobe_corpnew.digitalData.previousPage.pageInfo.scrollEvents")||"";!e.includes("25|")&&a>=25&&(e+="25|"),!e.includes("50|")&&a>=50&&(e+="50|"),!e.includes("75|")&&a>=75&&(e+="75|"),!e.includes("90|")&&a>=90&&(e+="90|"),e.includes("100")||100!=a||(e+="100"),n.set("data._adobe_corpnew.digitalData.previousPage.pageInfo.scrollEvents",e)}a>=100&&i()},i=function(t,n){for(t=0,n=d.length;t<n;t++)e.removeEventListener(d[t],r,a)},s=0,c=d.length;s<c;s++)e.addEventListener(d[s],r,a);"complete"===t.readyState?r({type:"load"}):e.addEventListener("load",r,a)}()}),1500)}}},consent:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n,o,a,r=window,i="adobePrivacy:Privacy",s=r._satellite;return e=s.DE=s.DE||{},(t=e.consent)||(o=function(){a=s.cookie.get("OptanonConsent")},r.addEventListener(i+"Consent",o),r.addEventListener(i+"Custom",o),r.addEventListener(i+"Reject",o),o(),n=function(e){var t,n;return(t=r.adobePrivacy)&&t.activeCookieGroups&&(n=t.activeCookieGroups())&&-1!==n.indexOf(e)||a&&-1!==a.indexOf(e+":1")},(t=function(e,t){var o;n(e)?t():(o=function(){n(e)&&(t(),r.removeEventListener(i+"Consent",o),r.removeEventListener(i+"Custom",o))},r.addEventListener(i+"Consent",o),r.addEventListener(i+"Custom",o))}).f=t,t.c=n,t.C0002=new Promise((function(e){t("C0002",e)})),t.C0003=new Promise((function(e){t("C0003",e)})),t.C0004=new Promise((function(e){t("C0004",e)})),e.consent=t),t}}},serverTiming:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){let e=window.performance,t={};return e&&e.getEntriesByType&&(t=Object.fromEntries(e.getEntriesByType("navigation")?.[0]?.serverTiming?.map?.((({name:e,description:t})=>[e,t]))??[])),t}}},languageMapper:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){const t={"":"en-US",ar:"es-AR",br:"pt-BR",ca:"en-CA",ca_fr:"fr-CA",cl:"es-CL",co:"es-CO",la:"es-LA",mx:"es-MX",pe:"es-PE",africa:"en-AFRICA",be_fr:"fr-BE",be_en:"en-BE",be_nl:"nl-BE",cy_en:"en-CY",dk:"da-DK",de:"de-DE",ee:"et-EE",es:"es-ES",fr:"fr-FR",gr_en:"en-GR",ie:"en-IE",il_en:"en-IL",it:"it-IT",lv:"lv-LV",lt:"lt-LT",lu_de:"de-LU",lu_en:"en-LU",lu_fr:"fr-LU",hu:"hu-HU",mt:"en-MT",mena_en:"en-MENA",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",sa_en:"en-SA",ch_de:"de-CH",si:"sl-SI",sk:"sk-SK",ch_fr:"fr-CH",fi:"fi-FI",se:"sv-SE",ch_it:"it-CH",tr:"tr-TR",ae_en:"en-AE",uk:"en-UK",at:"de-AT",cz:"cs-CZ",bg:"bg-BG",ru:"ru-RU",ua:"uk-UA",il_he:"iw-IL",ae_ar:"ar-AE",mena_ar:"ar-MENA",sa_ar:"ar-SA",au:"en-AU",hk_en:"en-HK",in:"en-IN",id_id:"in-ID",id_en:"en-ID",my_ms:"ms-MY",my_en:"en-MY",nz:"en-NZ",ph_en:"en-PH",ph_fil:"fil-PH",sg:"en-SG",th_en:"en-TH",in_hi:"hi-IN",th_th:"th-TH",cn:"zh-CN",hk_zh:"zh-HK",tw:"zh-hant-TW",jp:"ja-JP",kr:"ko-KR",langstore:"en-US",za:"en-ZA",ng:"en-NG",cr:"es-CR",ec:"es-EC",pr:"es-PR",gt:"es-GT",eg_ar:"ar-EG",kw_ar:"ar-KW",qa_ar:"ar-QA",eg_en:"en-EG",kw_en:"en-KW",qa_en:"en-QA",gr_el:"el-GR",vn_en:"en-VN",vn_vi:"vi-VN",cis_ru:"ru-CIS",cis_en:"en-CIS"};var n=e.loc;return n?t[n]:""}}},_loadImageTag:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window,o=document,a=n._satellite,r="_loadImageTag";return(e=(t=a.DE=a.DE||{})[r])||(t[r]=e=function(e,t){var n=o.createElement("img");n.src=e,n.alt=t||"",n.height="1",n.width="1",n.border="0",n.style.display="none",o.body.appendChild(n)}),e}}},mbox_parameter_entityId:{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("https://www.adobe.com/express/"==window.location.href)return"a2c4e4e4-eaa9-11ed-a05b-0242ac120003";var e=document.getElementsByTagName("meta");return e&&e.entity_id&&e.entity_id.getAttribute("content")}}},"digitalData.adobe.experienceCloud.agiCampaign":{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(_satellite.getVar("consent").c("C0002")){var e=window.location,t=e.hostname,n=e.pathname,o=e.href,a=_satellite.cookie.get("agiCamp"),r=function(e){_satellite.cookie.set("agiCamp",e,{expires:90,domain:_satellite.getVar("_getDomain")()})};return-1===n.indexOf("/acrobat/campaign/acrobats-got-it.html")||-1===o.search(/ttid=(all-in-one|reliable|versatile|combine-organize-e-sign|webforms-edit-e-sign)/)||a||"2"===a?!("acrobat.adobe.com"!==t&&("www.adobe.com"!==t||-1===n.search(/\/acrobat/))||a&&"1"===a)&&"2"!=a&&(r("2"),_satellite.cookie.get("agiCamp")):(r("1"),_satellite.cookie.get("agiCamp"))}return!1}}},sha256:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function e(t){function n(e,t){return e>>>t|e<<32-t}for(var o,a,r=Math.pow,i=r(2,32),s="length",c="",d=[],l=8*t[s],u=e.h=e.h||[],p=e.k=e.k||[],m=p[s],g={},f=2;64>m;f++)if(!g[f]){for(o=0;313>o;o+=f)g[o]=f;u[m]=r(f,.5)*i|0,p[m++]=r(f,1/3)*i|0}for(t+="\x80";t[s]%64-56;)t+="\0";for(o=0;o<t[s];o++){if((a=t.charCodeAt(o))>>8)return;d[o>>2]|=a<<(3-o)%4*8}for(d[d[s]]=l/i|0,d[d[s]]=l,a=0;a<d[s];){var h=d.slice(a,a+=16),b=u;for(u=u.slice(0,8),o=0;64>o;o++){var v=h[o-15],y=h[o-2],w=u[0],_=u[4],C=u[7]+(n(_,6)^n(_,11)^n(_,25))+(_&u[5]^~_&u[6])+p[o]+(h[o]=16>o?h[o]:h[o-16]+(n(v,7)^n(v,18)^v>>>3)+h[o-7]+(n(y,17)^n(y,19)^y>>>10)|0);(u=[C+((n(w,2)^n(w,13)^n(w,22))+(w&u[1]^w&u[2]^u[1]&u[2]))|0].concat(u))[4]=u[4]+C|0}for(o=0;8>o;o++)u[o]=u[o]+b[o]|0}for(o=0;8>o;o++)for(a=3;a+1;a--){var E=u[o]>>8*a&255;c+=(16>E?0:"")+E.toString(16)}return c}}}},_getNewRepeat:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window._satellite,o=n.cookie,a="_getNewRepeat";return(e=(t=n.DE=n.DE||{})[a])||(t[a]=e=function(e,t,n){var a,r,i,s=new Date,c=s.getTime(),d={};if("general=out"!==o.get("kndctr_9E1005A551ED61CA0A490D45_AdobeOrg_consent"))return t=t||"s_nr",i=864e5*(e=e||30),s.setTime(c+i),a=o.get(t)||"",d.expires=s,n&&(d.domain=n),0===a.length||c-(r=a.split("-"))[0]<18e5&&"New"===r[1]?(o.set(t,c+"-New",d),"New"):(o.set(t,c+"-Repeat",d),"Repeat")},e.version="2.0"),e}}},_copyLocation:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){var t=e.location;return{href:t.href,origin:t.origin,host:t.host,hostname:t.hostname,pathname:t.pathname,search:t.search,hash:t.hash}}}}},adobe_urlRegions:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{ae_ar:1,ae_en:1,africa:1,apac:1,ar:1,at:1,au:1,be:1,be_en:1,be_fr:1,be_nl:1,bg:1,br:1,ca:1,ca_es:1,ca_fr:1,ch:1,ch_de:1,ch_fr:1,ch_it:1,cin:1,cis_en:1,cis_ru:1,cl:1,cn:1,co:1,cr:1,cs:1,cs_cz:1,cy:1,cy_en:1,cz:1,da:1,da_dk:1,de:1,de_de:1,dk:1,ec:1,ee:1,eeurope:1,eg_ar:1,eg_en:1,en:1,en_gb:1,en_us:1,es:1,es_es:1,eu_es:1,fi:1,fi_fi:1,fr:1,fr_fr:1,gr:1,gr_el:1,gr_en:1,gt:1,hk:1,hk_en:1,hk_zh:1,hr:1,hr_hr:1,hu:1,hu_hu:1,id_en:1,id_id:1,ie:1,il:1,il_en:1,il_he:1,in:1,in_hi:1,it:1,it_it:1,ja:1,ja_jp:1,jp:1,ko:1,ko_kr:1,kr:1,kw_ar:1,kw_en:1,la:1,lt:1,lu:1,lu_de:1,lu_en:1,lu_fr:1,lv:1,mena:1,mena_ar:1,mena_en:1,mena_fr:1,mt:1,mx:1,my_en:1,my_ms:1,na:1,nb:1,nb_no:1,ng:1,nl:1,nl_nl:1,no:1,nz:1,pe:1,ph_en:1,ph_fil:1,pl:1,pl_pl:1,pr:1,pt:1,pt_br:1,qa_ar:1,qa_en:1,ro:1,ro_ro:1,rs:1,ru:1,ru_ru:1,sa_ar:1,sa_en:1,se:1,sea:1,sg:1,si:1,sk:1,sk_sk:1,sl_si:1,sv:1,sv_se:1,th:1,th_en:1,th_th:1,tr:1,tr_tr:1,tw:1,tw_cn:1,ua:1,uk:1,uk_ua:1,us:1,vn_en:1,vn_vi:1,za:1,"zh-Hans":1,"zh-Hant":1,"zh-tw":1,zh_cn:1,zh_tw:1}}}},hasGnav:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=document,t=window._satellite.getVar("isMilo"),n=function(t,n=e){const o=t&&t.includes(":")?"property":"name",a=n.head.querySelector(`meta[${o}="${t}"]`);return a&&a.content}("header");return!t||"off"!==n}}},"digitalData.organization.bombora":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(){var e=window,t=document,n=t.currentScript,o="marketingtech-bombora";return n&&(n.className=o),function(e,t,n,o,a,r,i){e._bmb||(a=e._bmb=function(){a.x?a.x.apply(a,arguments):a.q.push(arguments)},a.q=[],(r=t.createElement(n)).async=!0,r.src="https://vi.ml314.com/get?eid=66819&tk=2fj33L66HJNijcXU8DFCmHnhu3R1m8mj8LVjUDh2utOw3d&fp="+(e.localStorage&&e.localStorage.getItem(o)||""),(i=t.getElementsByTagName(n)[0]).parentNode.insertBefore(r,i))}(e,t,"script","_ccmaid"),function(e,t,n){var a,r;_ml=e._ml||{},_ml.nq=e._ml.nq||[],_ml.nq.push(["track","66819"]),a=t.getElementsByTagName(n)[0],new Date,(r=t.createElement(n)).async=1,r.src="https://cdn.ml314.com/taglw.js",a.parentNode.insertBefore(r,a),r&&(r.className=o)}(window,document,"script"),_bmb("vi",(function(t){null!=t&&(e.appEventData=e.appEventData||[],e.appEventData.push({event:"Bombora Data",bombora:{domain:t.domain,company_name:t.company_name,industry:t.industry,revenue:t.revenue,size:t.size,installData:t.install_data,jobFunction:t.functional_area,professionalGroup:t.professional_group,seniority:t.seniority,decisionMaker:t.decision_maker,b2bInterest:t.topic,b2bInterestGroup:t.interest_group,b2bInterestCluster:t.b2b_interest_cluster,segment:t.segment,country:t.visitor_country,countryCode:t.visitor_country_code,state:t.visitor_state,stateCode:t.visitor_state_code,metroArea:t.visitor_metro_area,hqCountry:t.hq_country,hqCountryCode:t.hq_country_code,hqState:t.hq_state,hqStateCode:t.hq_state_code}}))})),new Promise((t=>{function n(){if(e.appEventData&&Array.isArray(e.appEventData)&&e.appEventData.length>0){const n=e.appEventData[0];null!==n&&"object"==typeof n&&n.bombora&&Object.keys(n.bombora).some((e=>n.bombora[e]))&&(clearInterval(o),t(n.bombora))}}let o;o=setInterval(n,100),setTimeout((()=>{clearInterval(o),e.appEventData&&e.appEventData.length>0?t(e.appEventData[0].bombora):t(null)}),3e3)}))}return e()}}},"digitalData.adobe.experienceCloud.acrobatSecondVisits":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){const{window:t,location:n,hybridPers:o}=window,a=n.hostname,r=n.pathname,i=t._satellite.getVar("consent"),s=e?.increment??!0;let c=!1;return o?c=Number(localStorage.getItem("acrobatSecondHit"))||0:i("C0002",(()=>{const e=Number(localStorage.getItem("acrobatSecondHit"))||0,t=()=>{const t=e+1;return localStorage.setItem("acrobatSecondHit",t.toString()),t};("www.adobe.com"===a||"www.stage.adobe.com"===a)&&/\/acrobat/.test(r)&&e<=2&&(c=s?t():e)})),c}}},isStudent:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window,o=n.location.href,a=n._satellite,r=a.cookie,i=a.getVar("_getDomain"),s="isStudent",c=new Date;return void 0===(t=(e=a.DE=a.DE||{})[s])&&(1==r.get("K12")?t=!0:(t=!1,(o.match(/(\?|\&)context\=nat_geo/)||o.match(/(\?|\&)lms/))&&(t=!0,r.set("K12",1,{domain:i(),path:"/",samesite:"Lax",expires:(c.setFullYear(c.getFullYear()+1),c)}))),e[s]=t),t}}},_deepMerge:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window._satellite,o="_deepMerge";return t=n.DE=n.DE||{},(e=t[o])||(t[o]=e=function(t,n){var o,a,r="object";if(t&&typeof t===r&&n&&typeof n===r)for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&(a=n[o],Array.isArray(a)?(t[o]=t[o]||[],Array.isArray(t[o])&&(t[o]=t[o].concat(a))):a&&typeof a===r?(t[o]=t[o]||{},e(t[o],a)):t[o]=a);return t}),e}}},mbox_parameter_feds_aud:{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.location.hostname.includes("acrobat"))return!1;var e=_satellite.cookie.get("feds_visitor_audience"),t=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e);return!!(e&&t&&"object"==typeof t&&Object.keys(t).includes("cohort")&&t.cohort)}}},isFirstVisit:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!_satellite.cookie.get("kndctr_9E1005A551ED61CA0A490D45_AdobeOrg_identity")}}},"digitalData.search.filters":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t,n=window,o=(e=e.event||"",n.alloy_all),a=n.location.hostname;return t=function(e){var t=e?.data?._adobe_corpnew?.digitalData?.search?.filter||o?.data?._adobe_corpnew?.digitalData?.search?.filter,n=e?.data?._adobe_corpnew?.digitalData?.search?.searchInfo?.sort||o?.data?._adobe_corpnew?.digitalData?.search?.searchInfo?.sort,r="";if(-1!==a.indexOf("community")&&(t||(t=e?._adobe_corpnew?.digitalData?.search?.filter),n||(n=e?._adobe_corpnew?.digitalData?.search?.searchInfo?.sort)),t&&t.length)for(var i=0;i<t.length;i++)i==t.length-1?r+=t[i].filterInfo.category+":"+t[i].filterInfo.keyword:r+=t[i].filterInfo.category+":"+t[i].filterInfo.keyword+"|";return n&&(r+="|sortType:"+n),r},t(e)}}},alloy_event:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t,n,o,a,r,i,s,c,d=window,l=d._satellite,u=e.value||{},p=(e.type,d.alloy_all,l.getVar("_copyLocation")),m=l.getVar("isNewSchemaDomains"),g=l.getVar("SophiaLogic"),f=l.getVar("data.productListitems"),h=d.location.hostname;if(/^business(\.stage)?\.adobe\.com$/.test(h)&&(o=(n=document.querySelector('meta[name="primaryProductName" i]'))&&n.content?n.content:void 0)&&(u.data||(u.data={}),u.data.productListItems=[{SKU:o}]),u.xdm=u.xdm||{},(a=u.data=u.data||{}).eventType="web.webinteraction.linkClicks",o&&(a.productListItems=[{SKU:o}]),(i=(r=a.web=a.web||{}).webInteraction=r.webInteraction||{}).type="other",i.linkClicks={value:1},(i=(r=a._adobe_corpnew=a._adobe_corpnew||{}).cmp=r.cmp||{}).state=l.getVar("cmp.state"),r.otherConsents=l.getVar("otherConsents"),(i=r.web=r.web||{}).location=p(d),(c=(i=r.digitalData=r.digitalData||{}).sophiaResponse=i.sophiaResponse||{}).listValue=l.getVar("sophiaLogic",{event:u}),c=i.search=i.search||{},-1===h.indexOf("community")&&-1===h.indexOf("helpx")||!u?.data?._adobe_corpnew?.digitalData?.search?.filter||(c.filters=l.getVar("digitalData.search.filters",{event:u})),((c=i.page=i.page||{}).pageInfo=c.pageInfo||{}).location=p(d),m){var b=u?.data?._adobe_corpnew?.primaryEvent?.eventInfo?.eventName;b&&((i=(r=(a=u.data=u.data).web=a.web).webInteraction=r.webInteraction).name=b),u=f(u)}return s=(u=g(u)).xdm=u.xdm||{},Array.isArray(a.productListItems)&&a.productListItems.length>0&&(t=l.getVar("productListItems",{prodData:a,xdmData:s})).length&&(s.productListItems=t),u}}},adobe_domains:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return-1===window.location.hostname.indexOf("behance")?["acrobat.com","adobe.com","adobe.io","magento.com","marketo.com","behance.net"]:["adobe.","adobelogin.","net.s2stagehance.com","behance","net.dev0.be.lan","portfolio.adobe.com","ccpsx.com","pro2.dev0.be.lan","../"]}}},_trimEmptyObjects:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window._satellite,o="_trimEmptyObjects";return(e=(t=n.DE=n.DE||{})[o])||(t[o]=e=function(e){var t,n,o;for(o=0;o<15&&(t=JSON.stringify(e,(function(e,t){return t&&"object"==typeof t&&!Array.isArray(t)&&Object.keys(t).length<1?void 0:t})),e=JSON.parse(t),t!==n);o++)n=t;return e}),e}}},alloy_rs_overrides:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t=window,n=t.location,o=n.hostname,a=n.pathname,r=["adbadobenonacdcprod","adbadobeprototype"],i=function(e,t){return-1!==e.indexOf(t)},s=t._satellite&&t._satellite.environment&&"production"!==t._satellite.environment.stage;if(rs_val=e?.value||[],rs_val&&Array.isArray(rs_val)&&rs_val.length>0)r=rs_val;else if(i(o,"projectx.corp")||i(o,"new.express"))return[];return s?(r=["adbadobenonacdcqa"],-1===o.indexOf("edit.ing")&&-1===o.indexOf("sign.ing")&&-1===o.indexOf("acrobat")&&-1===a.indexOf("/acrobat")&&-1===a.indexOf("/sign")&&-1===a.indexOf("/documentcloud")||r.push("adbdcwebqa"),-1===o.indexOf("business")&&-1===o.indexOf("engage")&&-1===o.indexOf("summit")||r.push("adbadobedxqa"),/get(.devdc|.stagedc).adobe.com/.test(o)&&r.push("adbacdcqa"),/(stage(2)?.)adminconsole.adobe.com/.test(o)&&r.push("amc.global.dev"),-1!==o.indexOf("cbconnection")&&r.push("adbcbconnectionqa"),-1===o.indexOf("net.s2stagehance.com")&&-1===o.indexOf("net.dev0.be.lan")||r.push("adbbehanceqa"),-1!==o.indexOf("max.adobe.com")&&r.push("adbmaxqa")):s?r=["adbadobenonacdcprod","adbadobeprototype"]:(r=["adbadobenonacdcprod","adbadobeprototype"],-1===o.indexOf("edit.ing")&&-1===o.indexOf("sign.ing")&&-1===a.indexOf("/acrobat")&&-1===a.indexOf("/sign")&&-1===a.indexOf("/documentcloud")||r.push("adbdcwebprod"),-1===o.indexOf("business.adobe.com")&&-1===o.indexOf("engage.adobe.com")&&-1===o.indexOf("summit.adobe.com")||r.push("adbadobedxprod"),/get(2|3)?.adobe.com/.test(o)&&r.push("adbacdcprod"),-1!==o.indexOf("behance")&&r.push("adbbehanceprod"),-1!==o.indexOf("cbconnection")&&r.push("adbadbcbconnectionprod"),-1!==o.indexOf("max.adobe.com")&&r.push("adbmaxprod"),/^adminconsole.adobe.com/.test(o)&&r.push("amc.global.prod")),-1!==n.href.indexOf("analytics=off")&&(r=[]),r}}},alloy_at_property_overrides:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window,t=e.location,n=t.hostname,o=t.pathname,a="Global",r="4db35ee5-63ad-59f6-cec6-82ef8863b22d",i=e.alloy_all,s=!0,c=function(e,t){return-1!==e.indexOf(t)},d=e._satellite&&e._satellite.environment&&"production"!==e._satellite.environment.stage;return c(n,"projectx.corp")||c(n,"new.express")?"":(-1!=n.indexOf("stage")||-1!=n.indexOf("dev")||-1!=n.indexOf("localhost")||-1!=n.indexOf("qa")||-1!=n.indexOf("author")||d?(a="STAGE",r="bc8dfa27-29cc-625c-22ea-f7ccebfc6231"):d||(-1!=o.indexOf("/express/")&&(s=!1),s&&(n.indexOf("acrobat.adobe.com")>-1||n.indexOf("get.adobe.com")>-1?(a="DC",r="a77c9437-77c0-1012-2234-49f047aa80dd"):n.indexOf("photoshop.adobe.com")>-1||n.indexOf("creativecloud.adobe.com")>-1&&o.indexOf("/cc/photoshop")>-1?(a="PSWeb",r="2bb70f5a-cc1f-79c3-a659-66e4e32dc3fc"):(n.indexOf("labs.adobe.com")>-1||n.indexOf("labs.stage.adobe.com")>-1)&&o.indexOf("/experiments/vanishing-act")>-1?(a="VanishingAct",r="0ec054ed-47db-20f4-2e48-a307c05bc228"):n.indexOf("lightroom.adobe.com")>-1?(a="LRWeb",r="0acd2df5-5033-294c-cc0e-910e3ca64598"):n.indexOf("frame.io")>-1?(a="FrameIO",r="49e4bbf9-436b-92a7-0b55-25d4a58ff83a"):n.indexOf("solutionpartners.stage.adobe.com")>-1?(a="SolutionPartners",r="98e4a454-ad1c-2094-e03c-6fa76a183e22"):n.indexOf("www.adobe.com")>-1&&o.indexOf("/genuine")>-1?(a="Genuine",r="6b634bb7-b894-82c7-6793-1e7ad419d07f"):n.indexOf("edex.adobe.com")>-1?(a="EDEX",r="6f4c4cfd-9d16-78eb-546d-9981695068ca"):(n.indexOf("www.adobe.com")>-1||n.indexOf("business.adobe.com")>-1)&&(-1!==o.search(/(\/africa\/|\/be_en\/|\/be_fr\/|\/be_nl\/|\/cis_en\/|\/cy_en\/|\/dk\/|\/de\/|\/ee\/|\/es\/|\/fr\/|\/gr_en\/|\/ie\/|\/il_en\/|\/it\/|\/lv\/|\/lu_de\/|\/lu_en\/|\/lu_fr\/|\/hu\/|\/mt\/|\/mena_en\/|\/nl\/|\/no\/|\/pl\/|\/pt\/|\/ro\/|\/ch_de\/|\/si\/|\/sk\/|\/ch_fr\/|\/fi\/|\/se\/|\/ch_it\/|\/tr\/|\/uk\/|\/at\/|\/cz\/|\/bg\/|\/ru\/|\/cis_ru\/|\/ua\/|\/il_he\/|\/mena_ar\/|\/lt\/|\/sa_en\/|\/ae_en\/|\/ae_ar\/|\/sa_ar\/|\/ng\/|\/za\/|\/qa_ar\/|\/eg_en\/|\/eg_ar\/|\/kw_ar\/|\/eg_ar\/|\/qa_en\/|\/kw_en\/|\/gr_el\/|\/br\/|\/cl\/|\/la\/|\/mx\/|\/co\/|\/ar\/|\/pe\/|\/gt\/|\/pr\/|\/ec\/|\/cr\/)/)?(a="EMEA_LATAM",r="488edf5f-3cbe-f410-0953-8c0c5c323772"):-1!==o.search(/(\/au\/|\/hk_en\/|\/in\/|\/nz\/|\/sea\/|\/cn\/|\/hk_zh\/|\/tw\/|\/kr\/|\/sg\/|\/th_en\/|\/th_th\/|\/my_en\/|\/my_ms\/|\/ph_en\/|\/ph_fil\/|\/vn_en\/|\/vn_vi\/|\/in_hi\/|\/id_id\/|\/id_en\/)/)?(a="APAC",r="3de509ee-bbc7-58a3-0851-600d1c2e2918"):-1!==o.indexOf("/jp/")&&(a="JP",r="ba5bc9e8-8fb4-037a-12c8-682384720007")))),-1!==t.href.indexOf("analytics=off")&&(r=""),e.marketingtech?.appName&&-1!==e.marketingtech.appName.indexOf("extension")&&(r=""),i.set("data._adobe_corpnew.digitalData.target.at_property",a),i.set("data._adobe_corpnew.digitalData.target.at_property_val",r),r)}}},_alloy_sendEventStateless:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window,o=n._satellite,a=o.getVar("_onBeforeEventSend"),r=n.marketingtech,i=r&&r.adobe&&r.adobe.alloy,s="_alloy_sendEventStateless";return(t=(e=o.DE=o.DE||{})[s])||(t=async e=>{if("decisioning.propositionFetch"!==e.type&&"decisioning.propositionDisplay"!==e.type)throw Error("type not supported");let t,o={xdm:{...e.xdm,eventType:e.type,timestamp:(new Date).toISOString(),device:{screenHeight:Number(n.screen.height),screenWidth:Number(n.screen.width),screenOrientation:(()=>{const e=e=>{if(isFunction(e.matchMedia)){if(e.matchMedia("(orientation: portrait)").matches)return"portrait";if(e.matchMedia("(orientation: landscape)").matches)return"landscape"}return null};return(e=>{const{screen:{orientation:t}}=e;if(null==t||null==t.type)return null;const n=t.type.split("-");return 0===n.length||"portrait"!==n[0]&&"landscape"!==n[0]?null:n[0]})(window)||e(window)})()},environment:{browserDetails:{userAgentClientHints:await(async()=>{if(!(e=>void 0!==e.userAgentData)(navigator))return{};try{var e=[["architecture","string"],["bitness","string"],["model","string"],["platformVersion","string"],["wow64","boolean"]];return navigator.userAgentData.getHighEntropyValues(e.map((e=>e[0]))).then((t=>{const n={};return e.forEach((([e,o])=>{Object.prototype.hasOwnProperty.call(t,e)&&typeof t[e]===o&&(n[e]=t[e])})),n}))}catch(e){}})(),viewportHeight:Number(n.document.documentElement?.clientHeight),viewportWidth:Number(n.document.documentElement?.clientWidth)},type:"browser"},implementationDetails:{name:"https://ns.adobe.com/experience/alloy",version:"0.0.1",environment:"browser"},placeContext:{localTimezoneOffset:(new Date).getTimezoneOffset(),localTime:(e=>{const t=(e,t,n)=>(""+e).padStart(t,n),n=e.getFullYear(),o=t(e.getMonth()+1,2,"0"),a=t(e.getDate(),2,"0"),r=t(e.getHours(),2,"0"),i=t(e.getMinutes(),2,"0"),s=t(e.getSeconds(),2,"0"),c=t(e.getMilliseconds(),3,"0"),d=Number(e.getTimezoneOffset())||0;return n+"-"+o+"-"+a+"T"+r+":"+i+":"+s+"."+c+(d>0?"-":"+")+t(Math.floor(Math.abs(d)/60),2,"0")+":"+t(Math.abs(d)%60,2,"0")})(new Date)}},data:e.data||{}};o.xdm.webPageDetails?.URL||(t=o.xdm.web=o.xdm.web||{},t=t.webPageDetails=t.webPageDetails||{},t.URL=n.location.href||n.location),o.xdm.webReferrer?.URL||(t=o.xdm.web=o.xdm.web||{},t=t.webReferrer=t.webReferrer||{},t.URL=n.document.referrer),a(o);let r={};"decisioning.propositionFetch"===e.type&&(r.personalization={schemas:["https://ns.adobe.com/personalization/default-content-item","https://ns.adobe.com/personalization/dom-action","https://ns.adobe.com/personalization/html-content-item","https://ns.adobe.com/personalization/json-content-item","https://ns.adobe.com/personalization/message/content-card","https://ns.adobe.com/personalization/message/in-app","https://ns.adobe.com/personalization/redirect-item","https://ns.adobe.com/personalization/ruleset-item"],surfaces:e.personalization?.surfaces||[],decisionScopes:e?.decisionScopes||[]});let s={state:{cookiesEnabled:!1}},c=JSON.stringify({..."decisioning.propositionFetch"===e.type?{event:o}:{events:[o]},query:r,meta:s});return fetch(`https://${i?.edgeDomain||"sstats.adobe.com"}/${i?.edgeBasePath||"ee"}/v2/${"decisioning.propositionFetch"===e.type?"interact":"collect"}?dataStreamId=${encodeURIComponent(n.alloy_all.get("data._adobe_corpnew.configuration.edgeConfigId"))}&requestId=${encodeURIComponent(crypto.randomUUID())}`,{method:"post",credentials:"omit",body:c}).then((function(e){if(e.ok)return e.json();throw Error("stateless sendEvent network call failed")})).then((function(e){console.log(e);const t=t=>e?.handle?.filter((e=>e.type===t)).map((e=>e.payload)).reduce(((e,t)=>[...e,...t]),[]);return{optedOut:!0,destinations:[],propositions:t("personalization:decisions"),inferences:t("rtml:inferences"),decisions:t("personalization:decisions")}}))},e[s]=t),t}}},isMilo:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.marketingtech||{};return!(!e||!e.milo)}}},_loadIFrame:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window,o=document,a=n._satellite,r="_loadIFrame";return(e=(t=a.DE=a.DE||{})[r])||(t[r]=e=function(e,t,a,r){var i=function(){var n,i=o.createElement("iframe"),s=!1;if(i.style.position="absolute",i.style.display="none",i.style.width="1",i.style.height="1",i.src=e,t&&(i.onload=i.onreadystatechange=function(e){var n=this.readyState;s||n&&"complete"!==n&&"loaded"!==n||(s=!0,t(e))}),a)for(n in a)i[n]=a[n];if(r)for(n in r)i.setAttribute(n,r[n]);o.body.appendChild(i)};o.body?i():n.addEventListener("DOMContentLoaded",i)}),e}}},alloy_target:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t=window,n=e&&e.value||[],o=t.alloy_all;if(t.ttMETA=t.ttMETA||[],o.data._adobe_corpnew.digitalData.adobe=o.data._adobe_corpnew.digitalData.adobe||{},o.data._adobe_corpnew.digitalData.adobe.target=o.data._adobe_corpnew.digitalData.adobe.target||{},o.data._adobe_corpnew.digitalData.adobe.target.response=o.data._adobe_corpnew.digitalData.adobe.target.response||"",n.propositions&&n.propositions.length>0){var a=function(e){return void 0===e||null==e||e.length<=0},r=n.propositions,i=/\,|\:/,s=[],c=[];r.forEach((function(e){e.items&&e.items.length>0&&e.items.forEach((function(e){var n=e.meta;if(!a(n)){var r=e.meta["option.name"],d=e.meta["activity.name"];(r&&-1===s.indexOf(r)||d&&-1===c.indexOf(d))&&(s.push(r),c.push(d),t.ttMETA.push({CampaignName:n["activity.name"],RecipeName:n["experience.name"],CampaignId:n["activity.id"],RecipeId:n["experience.id"],OfferId:n["option.id"],OfferName:n["option.name"],
TrafficId:n["experience.trafficAllocationId"],TrafficType:n["experience.trafficAllocationType"]}),""!=o.data._adobe_corpnew.digitalData.adobe.target.response&&-1==o.data._adobe_corpnew.digitalData.adobe.target.response.indexOf(n["activity.id"])&&(o.data._adobe_corpnew.digitalData.adobe.target.response=o.data._adobe_corpnew.digitalData.adobe.target.response+","),-1==o.data._adobe_corpnew.digitalData.adobe.target.response.indexOf(n["activity.id"])&&(o.data._adobe_corpnew.digitalData.adobe.target.response+="T:"+(n["activity.id"]||"").replace(i,"")+":"+(n["activity.name"]||"").replace(i,"")+":"+(n["option.id"]||"").replace(i,"")+":"+(n["option.name"]||"").replace(i,"")+":"+(n["experience.id"]||"").replace(i,"")+":"+(n["experience.name"]||"").replace(i,"")+":"+(n["experience.trafficAllocationId"]||"").replace(i,"")+":"+(n["experience.trafficAllocationType"]||"").replace(i,"")))}}))}))}}}},_getQueryParam:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window._satellite,o="_getQueryParam";return(e=(t=n.DE=n.DE||{})[o])||(t[o]=e=function(e,t){var n,o,a,r,i;if(t=t||window.location.search,!e)return"";for(i=function(e){var t=e;try{t=decodeURIComponent(e)}catch(e){}return t},0===t.indexOf("?")&&(t=t.substring(1)),a=0,r=(n=t.split("&")).length;a<r;a++)if((o=n[a].split("="))[0]&&i(o[0])===e)return i(o[1]);return""},e.version="1.0"),e}}},adobe_pageNameLogic:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window._satellite,o=n.getVar("adobe_urlRegions"),a="adobe_pageNameLogic";return(e=(t=n.DE=n.DE||{})[a])||(t[a]=e=function(e){var t,n,a,r,i=(e=e||window.location).hostname,s=e.pathname,c=[],d=[".aspx",".php",".html"];for(i=i.replace("www.",""),a=0,r=d.length;a<r;a++)s=s.replace(d[a],"");for(a=0,r=(n=s.split("/")).length;a<r;a++)""===(t=n[a])||o[t.toLowerCase()]||c.push(t);return i+((s=c.join(":"))?":"+s:"")}),e}}}},extensions:{"simple-custom-code-action":{displayName:"Simple Custom Code Action",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP86e6334f2499473c8a9195688326c2df/",modules:{"simple-custom-code-action/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,n){"use strict";e.exports=function(e){var t=n("@adobe/reactor-load-script");e.file&&t(e.file).then((function(){}),(function(e){console.error(e)}))}}}}},core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP1fdd2a6ec2ae468fb1d2cac08df65f83/",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,n,o){"use strict";var a={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var n=a[e];if(n){var r={identifier:e,detail:t};n.forEach((function(e){e(r)}));var i=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&i.push(t),o.logger.log.apply(o.logger,i)}else o.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var n=a[e.identifier];n||(n=a[e.identifier]=[]),n.push(t)}}},"core/src/lib/events/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){e.source(t)}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,n,o){"use strict";var a,r,i,s,c=n("@adobe/reactor-document"),d=n("@adobe/reactor-promise"),l=n("./helpers/decorateCode"),u=n("./helpers/loadCodeSequentially"),p=n("../../../node_modules/postscribe/dist/postscribe"),m=n("./helpers/unescapeHtmlCode"),g=n("../helpers/findPageScript").getTurbine,f=(r=function(e){p(c.body,e,{beforeWriteToken:function(e){var t=e.tagName&&e.tagName.toLowerCase();return a&&"script"===t&&(e.attrs.nonce=a),"script"!==t&&"style"!==t||(Object.keys(e.attrs||{}).forEach((function(t){e.attrs[t]=m(e.attrs[t])})),e.src&&(e.src=m(e.src))),e},error:function(e){o.logger.error(e.msg)}})},i=[],s=function(){if(c.body)for(;i.length;)r(i.shift());else setTimeout(s,20)},function(e){i.push(e),s()}),h=function(){if(c.currentScript)return c.currentScript.async;var e=g();return!e||e.async}();e.exports=function(e,t){var n;a=o.getExtensionSettings().cspNonce;var r={settings:e,event:t},i=r.settings.source;if(i)return r.settings.isExternal?u(i).then((function(e){return e?(n=l(r,e),f(n.code),n.promise):d.resolve()})):(n=l(r,i),h||"loading"!==c.readyState?f(n.code):c.write&&!1===o.propertySettings.ruleComponentSequencingEnabled?c.write(n.code):f(n.code),n.promise)}}},"core/src/lib/events/windowLoaded.js":{name:"window-loaded",displayName:"Window Loaded",script:function(e,t,n){"use strict";var o=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){o.registerWindowLoadedTrigger(t)}}},"core/src/lib/events/domReady.js":{name:"dom-ready",displayName:"DOM Ready",script:function(e,t,n){"use strict";var o=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){o.registerDomReadyTrigger(t)}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,n){"use strict";var o=n("./decorators/decorateGlobalJavaScriptCode"),a=n("./decorators/decorateNonGlobalJavaScriptCode"),r={javascript:function(e,t){return e.settings.global?o(e,t):a(e,t)},html:n("./decorators/decorateHtmlCode")};e.exports=function(e,t){return r[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-promise"),a=n("./getSourceByUrl"),r=o.resolve();e.exports=function(e){var t=new o((function(t){var n=a(e);o.all([n,r]).then((function(e){var n=e[0];t(n)}))}));return r=t,t}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var n,o;n=this,o=function(){return function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={exports:{},id:o,loaded:!1};return e[o].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(1));e.exports=a.default},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function r(){}function i(){var e=g.shift();if(e){var t=u.last(e);t.afterDequeue(),e.stream=s.apply(void 0,e),t.afterStreamStart()}}function s(e,t,n){function o(e){e=n.beforeWrite(e),f.write(e),n.afterWrite(e)}(f=new l.default(e,n)).id=m++,f.name=n.name||f.id,c.streams[f.name]=f;var a=e.ownerDocument,s={close:a.close,open:a.open,write:a.write,writeln:a.writeln};d(a,{close:r,open:r,write:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t.join("")+"\n")}});var u=f.win.onerror||r;return f.win.onerror=function(e,t,o){n.error({msg:e+" - "+t+": "+o}),u.apply(f.win,[e,t,o])},f.write(t,(function(){d(a,s),f.win.onerror=u,n.done(),f=null,i()})),f}function c(e,t,n){if(u.isFunction(n))n={done:n};else if("clear"===n)return g=[],f=null,void(m=0);n=u.defaults(n,p);var o=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,n];return e.postscribe={cancel:function(){o.stream?o.stream.abort():o[1]=r}},n.beforeEnqueue(o),g.push(o),f||i(),e.postscribe}t.__esModule=!0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=c;var l=a(n(2)),u=o(n(4)),p={afterAsync:r,afterDequeue:r,afterStreamStart:r,afterWrite:r,autoFix:!0,beforeEnqueue:r,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:r,error:function(e){throw new Error(e.msg)},releaseAsync:!1},m=0,g=[],f=null;d(c,{streams:{},queue:g,WriteStream:l.default})},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=p+t,o=e.getAttribute(n);return l.existy(o)?String(o):o}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=p+t;l.existy(n)&&""!==n?e.setAttribute(o,n):e.removeAttribute(o)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},d=a(n(3)),l=o(n(4)),u=!1,p="data-ps-",m="ps-style",g="ps-script",f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.root=t,this.options=n,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new d.default("",{autoFix:n.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],s(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();l.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,n=void 0,o=void 0,a=[];(t=this.parser.readToken())&&!(n=l.isScript(t))&&!(o=l.isStyle(t));)(t=this.options.beforeWriteToken(t))&&a.push(t);a.length>0&&this._writeStaticTokens(a),n&&this._handleScriptToken(t),o&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,u&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),u&&(t.actualInnerHTML=this.root.innerHTML),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,n=[],o=[],a=[],r=e.length,i=0;i<r;i++){var s=e[i],c=s.toString();if(n.push(c),s.attrs){if(!/^noscript$/i.test(s.tagName)){var d=t++;o.push(c.replace(/(\/?>)/," "+p+"id="+d+" $1")),s.attrs.id!==g&&s.attrs.id!==m&&a.push("atomicTag"===s.type?"":"<"+s.tagName+" "+p+"proxyof="+d+(s.unary?" />":">"))}}else o.push(c),a.push("endTag"===s.type?c:"")}return{tokens:e,raw:n.join(""),actual:o.join(""),proxy:a.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];l.existy(e=t.shift());){var n=1===e.nodeType;if(!n||!i(e,"proxyof")){n&&(this.actuals[i(e,"id")]=e,s(e,"id"));var o=e.parentNode&&i(e.parentNode,"proxyof");o&&this.actuals[o].appendChild(e)}t.unshift.apply(t,l.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,n=this.parser.clear();n&&this.writeQueue.unshift(n),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,m),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),l.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var n=this.doc.getElementById(t);n&&n.parentNode.replaceChild(e,n)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,t){var n=this._buildScript(e),o=this._shouldRelease(n),a=this.options.afterAsync;e.src&&(n.src=e.src,this._scriptLoadHandler(n,o?a:function(){t(),a()}));try{this._insertCursor(n,g),n.src&&!o||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return l.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function n(){e=e.onload=e.onreadystatechange=e.onerror=null}function o(){n(),null!=t&&t(),t=null}function a(e){n(),i(e),null!=t&&t(),t=null}function r(e,t){var n=e["on"+t];null!=n&&(e["_on"+t]=n)}var i=this.options.error;r(e,"load"),r(e,"error"),c(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){a({msg:"onload handler failed "+t+" @ "+e.src})}o()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void a({msg:"onerror handler failed "+t+" @ "+e.src})}a({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&o()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=f},function(e){var t;t=function(){return function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={exports:{},id:o,loaded:!1};return e[o].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(1));e.exports=a.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=a(n(2)),s=a(n(3)),c=o(n(6)),d=n(5),l={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},u=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.stream=n;var a=!1,s={};for(var d in i)i.hasOwnProperty(d)&&(o.autoFix&&(s[d+"Fix"]=!0),a=a||s[d+"Fix"]);a?(this._readToken=(0,c.default)(this,s,(function(){return t._readTokenImpl()})),this._peekToken=(0,c.default)(this,s,(function(){return t._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in l)if(l.hasOwnProperty(e)&&l[e].test(this.stream)){var t=s[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var p in t.default=u,u.tokenToString=function(e){return e.toString()},u.escapeAttributes=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=(0,d.escapeQuotes)(e[n],null));return t},u.supports=i,i)i.hasOwnProperty(p)&&(u.browserHasFlaw=u.browserHasFlaw||!i[p]&&p)},function(e,t){"use strict";t.__esModule=!0;var n=!1,o=!1,a=window.document.createElement("div");try{var r="<P><I></P></I>";a.innerHTML=r,t.tagSoup=n=a.innerHTML!==r}catch(e){t.tagSoup=n=!1}try{a.innerHTML="<P><i><P></P></i></P>",t.selfClose=o=2===a.childNodes.length}catch(e){t.selfClose=o=!1}a=null,t.tagSoup=n,t.selfClose=o},function(e,t,n){"use strict";function o(e){var t=e.indexOf("-->");if(t>=0)return new d.CommentToken(e.substr(4,t-1),t+3)}function a(e){var t=e.indexOf("<");return new d.CharsToken(t>=0?t:e.length)}function r(e){var t,n,o;if(-1!==e.indexOf(">")){var a=e.match(l.startTag);if(a){var r=(t={},n={},o=a[2],a[2].replace(l.attr,(function(e,a){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",n[arguments[5]]=!0):t[a]=arguments[2]||arguments[3]||arguments[4]||l.fillAttr.test(a)&&a||"":t[a]="",o=o.replace(e,"")})),{v:new d.StartTagToken(a[1],a[0].length,t,n,!!a[3],o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===r?"undefined":c(r)))return r.v}}}function i(e){var t=r(e);if(t){var n=e.slice(t.length);if(n.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var o=n.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(o)return new d.AtomicTagToken(t.tagName,o[0].length+t.length,t.attrs,t.booleanAttrs,o[1])}}}function s(e){var t=e.match(l.endTag);if(t)return new d.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=o,t.chars=a,t.startTag=r,t.atomicTag=i,t.endTag=s;var d=n(4),l={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var a=n(5),r=(t.Token=function e(t,n){o(this,e),this.type=t,this.length=n,this.text=""},t.CommentToken=function(){function e(t,n){o(this,e),this.type="comment",this.length=n||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"<!--"+this.content},e}(),t.CharsToken=function(){function e(t){o(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}(),t.TagToken=function(){function e(t,n,a,r,i){o(this,e),this.type=t,this.length=a,this.text="",this.tagName=n,this.attrs=r,this.booleanAttrs=i,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="<"+e.tagName;for(var o in e.attrs)if(e.attrs.hasOwnProperty(o)){n+=" "+o;var r=e.attrs[o];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[o]||(n+='="'+(0,a.escapeQuotes)(r)+'"')}return e.rest&&(n+=" "+e.rest),e.unary&&!e.html5Unary?n+="/>":n+=">",null!=t&&(n+=t+"</"+e.tagName+">"),n},e}());t.StartTagToken=function(){function e(t,n,a,r,i,s){o(this,e),this.type="startTag",this.length=n,this.text="",this.tagName=t,this.attrs=a,this.booleanAttrs=r,this.html5Unary=!1,this.unary=i,this.rest=s}return e.prototype.toString=function(){return r.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,n,a,r,i){o(this,e),this.type="atomicTag",this.length=n,this.text="",this.tagName=t,this.attrs=a,this.booleanAttrs=r,this.unary=!1,this.html5Unary=!1,this.content=i}return e.prototype.toString=function(){return r.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,n){o(this,e),this.type="endTag",this.length=n,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}t.__esModule=!0,t.escapeQuotes=n},function(e,t){"use strict";function n(e){return e&&"startTag"===e.type&&(e.unary=s.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function o(e,t){var o=e.stream,a=n(t());return e.stream=o,a}function a(e,t){var n=t.pop();e.prepend("</"+n.tagName+">")}function r(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,n=0;t=this[n];n++)if(t.tagName===e)return!0;return!1},e}function i(e,t,i){function s(){var t=o(e,i);t&&l[t.type]&&l[t.type](t)}var d=r(),l={startTag:function(n){var o=n.tagName;"TR"===o.toUpperCase()&&d.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),s()):t.selfCloseFix&&c.test(o)&&d.containsTagName(o)?d.lastTagNameEq(o)?a(e,d):(e.prepend("</"+n.tagName+">"),s()):n.unary||d.push(n)},endTag:function(n){d.last()?t.tagSoupFix&&!d.lastTagNameEq(n.tagName)?a(e,d):d.pop():t.tagSoupFix&&(i(),s())}};return function(){return s(),n(i())}}t.__esModule=!0,t.default=i;var s=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,c=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])},e.exports=t()},function(e,t){"use strict";function n(e){return null!=e}function o(e){return"function"==typeof e}function a(e,t,n){var o=void 0,a=e&&e.length||0;for(o=0;o<a;o++)t.call(n,e[o],o)}function r(e,t,n){for(var o in e)e.hasOwnProperty(o)&&t.call(n,o,e[o])}function i(e,t){return e=e||{},r(t,(function(t,o){n(e[t])||(e[t]=o)})),e}function s(e){try{return Array.prototype.slice.call(e)}catch(o){var t=(n=[],a(e,(function(e){n.push(e)})),{v:n});if("object"===(void 0===t?"undefined":p(t)))return t.v}var n}function c(e){return e[e.length-1]}function d(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function l(e){return d(e,"script")}function u(e){return d(e,"style")}t.__esModule=!0;var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=n,t.isFunction=o,t.each=a,t.eachKey=r,t.defaults=i,t.toArray=s,t.last=c,t.isTag=d,t.isScript=l,t.isStyle=u}])},"object"==typeof t&&"object"==typeof e?e.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof t?t.postscribe=o():n.postscribe=o()}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-document").createElement("div");e.exports=function(e){return o.innerHTML=e,o.textContent||o.innerText||e}}},"core/src/lib/helpers/findPageScript.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-document"),a=function(e){for(var t=o.querySelectorAll("script"),n=0;n<t.length;n++){var a=t[n];if(e.test(a.src))return a}},r=function(){return a(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))};e.exports={getTurbine:r,byRegexPattern:a}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:o.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-promise"),a=0;e.exports=function(e,t){var n="_runScript"+ ++a,r=new o((function(t,a){_satellite[n]=function(r){delete _satellite[n],new o((function(t){t(r.call(e.event.element,e.event,e.event.target,o))})).then(t,a)}}));return{code:'<script>_satellite["'+n+'"](function(event, target, Promise) {\n'+t+"\n});</script>",promise:r}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,n,o){"use strict";var a=n("@adobe/reactor-promise"),r=0,i={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=i[e];t&&(delete i[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=i[e];t&&(delete i[e],t.reject())};var s=function(e){return-1!==e.indexOf("${reactorCallbackId}")},c=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},d=function(e){return e.settings.isExternal};e.exports=function(e,t){var n;return d(e)&&(t=o.replaceTokens(t,e.event)),s(t)?(n=new a((function(e,t){i[String(r)]={resolve:e,reject:t}})),t=c(t,r),r+=1):n=a.resolve(),{code:t,promise:n}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-load-script"),a=n("@adobe/reactor-promise"),r=n("../../helpers/findPageScript").byRegexPattern,i={},s={},c=function(e){return s[e]||(s[e]=o(e)),s[e]};_satellite.__registerScript=function(e,t){var n;if(document.currentScript)n=document.currentScript.getAttribute("src");else{var o=new RegExp(".*"+e+".*");n=r(o).getAttribute("src")}i[n]=t},e.exports=function(e){return i[e]?a.resolve(i[e]):new a((function(t){c(e).then((function(){t(i[e])}),(function(){t()}))}))}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-window"),a=n("@adobe/reactor-document"),r=-1!==o.navigator.appVersion.indexOf("MSIE 10"),i="WINDOW_LOADED",s="DOM_READY",c="PAGE_BOTTOM",d=[c,s,i],l=function(e,t){return{element:e,target:e,nativeEvent:t}},u={};d.forEach((function(e){u[e]=[]}));var p=function(e,t){d.slice(0,g(e)+1).forEach((function(e){f(t,e)}))},m=function(){return"complete"===a.readyState?i:"interactive"===a.readyState?r?null:s:void 0},g=function(e){return d.indexOf(e)},f=function(e,t){u[t].forEach((function(t){h(e,t)})),u[t]=[]},h=function(e,t){var n=t.trigger,o=t.syntheticEventFn;n(o?o(e):null)};o._satellite=o._satellite||{},o._satellite.pageBottom=p.bind(null,c),a.addEventListener("DOMContentLoaded",p.bind(null,s),!0),o.addEventListener("load",p.bind(null,i),!0),o.setTimeout((function(){var e=m();e&&p(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){u[c].push({trigger:e})},registerDomReadyTrigger:function(e){u[s].push({trigger:e,syntheticEventFn:l.bind(null,a)})},registerWindowLoadedTrigger:function(e){u[i].push({trigger:e,syntheticEventFn:l.bind(null,o)})}}}}}}},company:{orgId:"9E1005A551ED61CA0A490D45@AdobeOrg",dynamicCdnEnabled:!1},property:{name:"ENB | Global | AEP",settings:{domains:["adobe.com"],undefinedVarsReturnEmpty:!0,ruleComponentSequencingEnabled:!0},id:"PRbdffd7ae35284a38bd34472d04c5f7c9"},rules:[{id:"RL023916a308ad48d58de0e2db1f2c67b8",name:"C4-61-Bing",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:61}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!(window.location.href.indexOf("localhost.adobe.com")>-1)}},timeout:2e3}],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC1ca827f7382e4bf39dd13c3aed33738e-file.min.js"}}]},{id:"RL10e5253598ad47dab43470e76c99fabb",name:"C4-68-Integrate",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:68}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC9636d50a631a497b9ec8583ab39f2932-file.min.js"},timeout:2e3,delayNext:!0}]},{id:"RL18461061ac0f4f14bbbc9297b5c3b4c3",name:"AEP Web SDK",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){window._satellite&&window._satellite.alloyConfigurePromise||e()}},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e;return e=window,["alloy"].forEach((function(t){e[t]||((e.__alloyNS=e.__alloyNS||[]).push(t),e[t]=function(){var n=arguments;return new Promise((function(o,a){e[t].q.push([o,a,n])}))},e[t].q=[])})),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}function t(n,o){function a(t,a,r){if("undefined"!=typeof document){"number"==typeof(r=e({},o,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var s in r)r[s]&&(i+="; "+s,!0!==r[s]&&(i+="="+r[s].split(";")[0]));return document.cookie=t+"="+n.write(a,t)+i}}function r(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],o={},a=0;a<t.length;a++){var r=t[a].split("="),i=r.slice(1).join("=");try{var s=decodeURIComponent(r[0]);if(o[s]=n.read(i,s),e===s)break}catch(e){}}return e?o[e]:o}}return Object.create({set:a,get:r,remove:function(t,n){a(t,"",e({},n,{expires:-1}))},withAttributes:function(n){return t(this.converter,e({},this.attributes,n))},withConverter:function(n){return t(e({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(n)}})}function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(){if(an)return on;an=1;var e=function(e){var t={};if(!e||"string"!=typeof e)return t;var n=e.trim().replace(/^[?#&]/,""),o=new URLSearchParams(n),a=o.keys();do{var r=a.next(),i=r.value;if(i){var s=o.getAll(i);1===s.length?t[i]=s[0]:t[i]=s}}while(!1===r.done);return t},t=function(e){var t="{{space}}",n=new URLSearchParams;return Object.keys(e).forEach((function(o){var a=e[o];"string"==typeof e[o]?a=a.replace(/ /g,t):["object","undefined"].includes(typeof a)&&!Array.isArray(a)&&(a=""),Array.isArray(a)?a.forEach((function(e){n.append(o,e)})):n.append(o,a)})),n.toString().replace(new RegExp(encodeURIComponent(t),"g"),"%20")};return on={parse:function(t){return e(t)},stringify:function(e){return t(e)}},on}function a(e,t=0){return(bn[e[t+0]]+bn[e[t+1]]+bn[e[t+2]]+bn[e[t+3]]+"-"+bn[e[t+4]]+bn[e[t+5]]+"-"+bn[e[t+6]]+bn[e[t+7]]+"-"+bn[e[t+8]]+bn[e[t+9]]+"-"+bn[e[t+10]]+bn[e[t+11]]+bn[e[t+12]]+bn[e[t+13]]+bn[e[t+14]]+bn[e[t+15]]).toLowerCase()}function r(){if(!vn){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");vn=crypto.getRandomValues.bind(crypto)}return vn(yn)}function i(e,t,n){if(wn.randomUUID&&!t&&!e)return wn.randomUUID();const o=(e=e||{}).random??e.rng?.()??r();if(o.length<16)throw new Error("Random bytes length must be >= 16");if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError("UUID byte range "+n+":"+(n+15)+" is out of buffer bounds");for(let e=0;e<16;++e)t[n+e]=o[e];return t}return a(o)}function s(e){return"object"==typeof e||void 0===e}function c(){return{matches:(e,t,n=[])=>{if(s(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!s(n[e])&&o===String(n[e]).toLowerCase())return!0;return!1}}}function d(){return{matches:(e,t,n=[])=>{if(s(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!s(n[e])&&o===String(n[e]).toLowerCase())return!1;return!0}}}function l(){return{matches:(e,t)=>void 0!==e[t]&&null!==e[t]}}function u(){return{matches:(e,t)=>void 0===e[t]||null===e[t]}}function p(e){return"number"==typeof e}function m(){return{matches:(e,t,n=[])=>{const o=e[t];if(!p(o))return!1;for(let e=0;e<n.length;e+=1)if(p(n[e])&&o>n[e])return!0;return!1}}}function g(){return{matches:(e,t,n=[])=>{const o=e[t];if(!p(o))return!1;for(let e=0;e<n.length;e+=1)if(p(n[e])&&o>=n[e])return!0;return!1}}}
function f(){return{matches:(e,t,n=[])=>{const o=e[t];if(!p(o))return!1;for(let e=0;e<n.length;e+=1)if(p(n[e])&&o<n[e])return!0;return!1}}}function h(){return{matches:(e,t,n=[])=>{const o=e[t];if(!p(o))return!1;for(let e=0;e<n.length;e+=1)if(p(n[e])&&o<=n[e])return!0;return!1}}}function b(){return{matches:(e,t,n=[])=>{if(s(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!s(n[e])&&-1!==o.indexOf(String(n[e]).toLowerCase()))return!0;return!1}}}function v(){return{matches:(e,t,n=[])=>{if(s(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!s(n[e])&&-1!==o.indexOf(String(n[e]).toLowerCase()))return!1;return!0}}}function y(){return{matches:(e,t,n=[])=>{if(s(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!s(n[e])&&o.startsWith(String(n[e]).toLowerCase()))return!0;return!1}}}function w(){return{matches:(e,t,n=[])=>{if(s(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!s(n[e])&&o.endsWith(n[e].toLowerCase()))return!0;return!1}}}function _(e){return Kp[e]}function C(e){return void 0===e}function E(e,t,n,o=0,a=1/0){return e.reduce(((e,r)=>{try{const i=n.generateEventHash(nm(r)),s=t.events[i];if(!s)return e;const{timestamps:c=[]}=s;return e+c.filter((e=>e>=o&&e<=a)).length}catch{return e}}),0)}function I(e,t,n,o=0,a=1/0){try{let r=o;const i=e.every((e=>{const o=n.generateEventHash(nm(e)),i=t.events[o];if(!i)return!1;const s=i.timestamps[0],c=s>=r&&s<=a;return r=s,c}));return Number(i)}catch{return 0}}function P(e,t,n,o=0,a=1/0){try{return e.reduce(((e,r,i)=>{const s=n.generateEventHash(nm(r)),c=t.events[s];if(!c)return e;const d=c.timestamps.filter((e=>e>=o&&e<=a)).pop();return d&&d>e.timestamp?{index:i,timestamp:d}:e}),{index:-1,timestamp:0}).index}catch{return-1}}function D(e,t,n){let o=!0;for(let a=0;a<t.length;a+=1)o=o&&t[a].evaluate(e,n);return o}function k(e,t,n){let o=!1;for(let a=0;a<t.length;a+=1)if(o=o||t[a].evaluate(e,n),o)return!0;return!1}function S(e,t,n){return{version:e,rules:t,metadata:n}}function x(e,t,n){return{key:n,execute:(n,o)=>e.evaluate(n,o)?t:[],toString:()=>"Rule{condition="+e+", consequences="+t+"}"}}function O(e,t){return{evaluate:(e,n)=>t.evaluate(e,n),toString:()=>"Condition{type="+e+", definition="+t+"}"}}function T(e,t,n){return{id:e,type:t,detail:n}}function R(e,t){return{evaluate:(n,o)=>Jp.AND===e?D(n,t,o):Jp.OR===e&&k(n,t,o)}}function A(e,t,n){return{evaluate:o=>{const a=_(t);return!!a&&a.matches(o,e,n)}}}function N(e,t,n,o,a,r){return{evaluate:(i,s)=>{let c;return c=Qp.MOST_RECENT===r?P(e,i,s,o,a):Qp.ORDERED===r?I(e,i,s,o,a):E(e,i,s,o,a),em(c,t,n)}}}function j(e){const{key:t,matcher:n,values:o}=e;return A(t,n,o)}function L(e){const{logic:t,conditions:n}=e;return R(t,n.map(V))}function M(e){const{events:t,from:n,to:o,matcher:a,value:r,searchType:i}=e;return N(t,a,r,n,o,i)}function V(e){const{type:t,definition:n}=e;if(Wp.MATCHER===t)return O(t,j(n));if(Wp.GROUP===t)return O(t,L(n));if(Wp.HISTORICAL===t)return O(t,M(n));throw new Error("Can not parse condition")}function q(e){const{id:t,type:n,detail:o}=e;return T(t,n,o)}function U(e){const{condition:t,consequences:n,key:o}=e;return x(V(t),n.map(q),o)}function F(e){if(e)return{provider:e.provider,providerData:Object.assign({},e.providerData)}}function B(e){const{version:t,rules:n,metadata:o}=e;return S(t,n.map(U),F(o))}function H(e,t){return{provider:am,execute:n=>e.map((e=>e.execute(n,t))).filter((e=>e.length>0))}}function z(e){const{providerData:t}=e;if(!t)throw new Error("Provider data is missing in metadata");const{identityTemplate:n,buckets:o}=t;if(!n)throw new Error("Identity template is missing in provider data");if(!o)throw new Error("Buckets is missing in provider data")}function W(e){const{xdm:t}=e;if(!t)throw new Error("XDM object is missing in the context");const{identityMap:n}=t;if(!n)throw new Error("Identity map is missing in the XDM object");const o=n[rm];if(!o)throw new Error("ECID identity namespace is missing in the identity map");if(!Array.isArray(o)||0===o.length)throw new Error("ECID identities array is empty or not an array");const a=o[0].id;if(!a)throw new Error("ECID identity is missing in the identities array");return a}function G(e,t,n){const{providerData:o}=n,{identityTemplate:a}=o;return a.replace(im,t).replace(sm,e)}function J(e){return!C(e)}function Q(e,t=e=>e[0]){const n={};return function(...o){const a=t(o);return J(n[a])||(n[a]=e(...o)),n[a]}}function K(e,t){const n=65535&t;return((t-n)*e|0)+(n*e|0)|0}function X(e,t=0){let n;const o=e.length,a=3432918353,r=461845907;let i=t;const s=-2&o;for(let t=0;t<s;t+=2)n=e.charCodeAt(t)|e.charCodeAt(t+1)<<16,n=K(n,a),n=(131071&n)<<15|n>>>17,n=K(n,r),i^=n,i=(524287&i)<<13|i>>>19,i=5*i+3864292196|0;return o%2==1&&(n=e.charCodeAt(s),n=K(n,a),n=(131071&n)<<15|n>>>17,n=K(n,r),i^=n),i^=o<<1,i^=i>>>16,i=K(i,2246822507),i^=i>>>13,i=K(i,3266489909),i^=i>>>16,i}function $(e,t){const n=cm(e),o=Math.abs(n)%t/t*dm;return Math.round(o*dm)/dm}function Y(e,t,n){return{allocation:lm(e,t),...n}}function Z(e){const t={};for(let n=0;n<e.length;n+=1){const o=e[n];o.key&&(t[o.key]||(t[o.key]=[]),t[o.key].push(o))}return t}function ee(e,t){return t.map((t=>t.execute(e))).filter((e=>e.length>0))}function te(e,t){z(t);const n=e.filter((e=>!e.key)),o=Z(e),{buckets:a}=t.providerData;return{provider:om,execute:e=>{const r=W(e),i=ee(e,n),s=Object.keys(o),c=[];for(let n=0;n<s.length;n+=1){const i=s[n],d=o[i],l=ee(Y(G(r,i,t),a,e),d);c.push(...l)}return[...i,...c]}}}function ne(e,t,n){const{provider:o}=t;return o===om?te(e,t):H(e,n)}function oe(e,t={generateEventHash:()=>{throw new Error("No hash function provided")}}){const{rules:n,metadata:o={}}=B(e);return ne(n,o,t)}async function ae({eventManager:e,cookieManager:t,adConversionHandler:n,logger:o,skwcid:a,efid:r}){o.info(Sg,{skwcid:a,efid:r});const i=e.createEvent();if(void 0!==a&&void 0!==r&&a.startsWith("AL!")){const e={click_time:Date.now(),...void 0!==a&&{skwcid:a},...void 0!==r&&{efid:r}};t.setValue(rg,e)}const s={_experience:{adcloud:{conversionDetails:{...void 0!==a&&{[wg]:a},...void 0!==r&&{[_g]:r}}}},eventType:vg,timestamp:(new Date).toISOString()};i.setUserXdm(s),t.setValue(ig),t.setValue(dg,Date.now()+78624e5);try{return await n.trackAdConversion({event:i})}catch(e){throw o.error(Tg,e),e}}async function re({eventManager:e,cookieManager:t,logger:n,componentConfig:o,adConversionHandler:a,getBrowser:r}){const i={},s={},c=async()=>{if(!of(i,s))return null;const r=Object.keys(i);try{const c=nf(i,e.createEvent(),t,o,!0),d={eventType:yg,timestamp:(new Date).toISOString()};c.setUserXdm(d);const l=await a.trackAdConversion({event:c});return af(r,s,t,n),l}catch(e){return n.error(Tg,e),null}},d=sf(n,o,t,r);if(0===Object.keys(d).length)return[];const l=Object.entries(d).map((([e,t])=>t.then((t=>{if(t)return i[e]=t,c()})).catch((t=>(n.error(xg.replace("{0}",e),t),null)))));return Promise.allSettled(l)}async function ie({cookieManager:e,logger:t,event:n,componentConfig:o,advertising:a,getBrowser:r}){const{skwcid:i,efid:s}=ef(),c=!(!i||!s);if(!(df(a)||c||rf(pg,e)&&rf(gg,e)&&rf(mg,e)))try{const i=lf(a),[s,c,d]=await Promise.allSettled([Fg(e,r,i),Zg(t,o.id5PartnerId,i,i),Jg(t,o.rampIdJSPath,e,i,i)]),l={};if("fulfilled"===s.status&&s.value&&!rf(pg,e)&&(l.surferId=s.value),"fulfilled"===c.status&&c.value&&!rf(gg,e)&&(l.id5Id=c.value),"fulfilled"===d.status&&d.value&&!rf(mg,e)&&(l.rampId=d.value),0===Object.keys(l).length&&(rf(pg,e)||rf(gg,e)||rf(mg,e)))return;nf(l,n,e,o)}catch(e){t.error("Error in onBeforeSendEvent hook:",e)}}var se=e=>([t,n,[o,a]])=>{e(o,a).then(t,n)},ce=e=>null==e,de=e=>!ce(e)&&!Array.isArray(e)&&"object"==typeof e,le=(...e)=>e.length<2?Object.assign(...e):e.reduce(((e,t)=>(de(t)&&Object.keys(t).forEach((n=>{Array.isArray(t[n])?Array.isArray(e[n])?e[n].push(...t[n]):e[n]=[...t[n]]:e[n]=t[n]})),e)));const ue=e=>{const t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=atob(t);return Uint8Array.from(n,(e=>e.codePointAt(0)))},pe=e=>btoa(String.fromCharCode(...e));var me=t({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),ge={get:me.get.bind(me),set:me.set.bind(me),remove:me.remove.bind(me),withConverter:me.withConverter.bind(me)};const fe=(e,t)=>{Object.keys(t).forEach((n=>{de(e[n])&&de(t[n])?fe(e[n],t[n]):e[n]=t[n]}))};var he=(e,...t)=>{if(ce(e))throw new TypeError('deepAssign "target" cannot be null or undefined');const n=Object(e);return t.forEach((e=>fe(n,Object(e)))),n},be=(e,t)=>n=>{const o=t.split(".").reduce(((e,t)=>(e[t]=e[t]||{},e[t])),e);he(o,n)},ve=()=>{const e=[];return{add(t){e.push(t)},call:(...t)=>Promise.all(e.map((e=>e(...t))))}},ye=({logger:e,cookieJar:t})=>({...t,set:(n,o,a)=>(e.info("Setting cookie",{name:n,value:o,...a}),t.set(n,o,a))}),we=()=>{let e=0,t=Promise.resolve();return{addTask(n){e+=1;const o=()=>n().finally((()=>{e-=1}));return t=t.then(o,o),t},get length(){return e}}},_e=()=>{const e={};return e.promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n})),e};const Ce=(e,t)=>e===t,Ee=(e,t,n)=>{for(let o=0;o<e.length;o+=1)if(n(e[o],t))return o;return-1};var Ie=(e,t=Ce)=>e.filter(((n,o)=>Ee(e,n,t)===o)),Pe=(e,t)=>e.appendChild(t);const De=(e,t)=>{Object.keys(t).forEach((n=>{if("style"===n&&de(t[n])){const o=t[n];Object.keys(o).forEach((t=>{e.style[t]=o[t]}))}else e[n]=t[n]}))};var ke=(e,t={},n={},o=[],a=document)=>{const r=a.createElement(e);return Object.keys(t).forEach((e=>{r.setAttribute(e,t[e])})),De(r,n),o.forEach((e=>Pe(r,e))),r};const Se="BODY",xe="IFRAME",Oe="IMG",Te="DIV",Re="STYLE",Ae="SCRIPT",Ne="HEAD";var je=({src:e,currentDocument:t=document})=>new Promise(((n,o)=>{ke(Oe,{src:e},{onload:n,onerror:o,onabort:o},[],t)})),Le=e=>"function"==typeof e,Me=e=>Array.isArray(e)&&e.length>0,Ve=e=>Array.isArray(e)?e:null==e?[]:[].slice.call(e);const qe=/^\s*>/;var Ue=(e,t)=>qe.test(t)?Ve(e.querySelectorAll(":scope "+t)):Ve(e.querySelectorAll(t)),Fe=":shadow";const Be=e=>e.split(Fe),He=(e,t)=>{const n=t;return n.startsWith(">")?(e instanceof Element||e instanceof Document?":scope":":host")+" "+n:n};var ze=(e,t)=>{const n=Be(t);if(n.length<2)return Ue(e,t);let o=e;for(let e=0;e<n.length;e+=1){const t=n[e].trim();if(""===t&&o.shadowRoot){o=o.shadowRoot;continue}const a=He(o,t),r=Ue(o,a);if(0===r.length||!r[0]||!r[0].shadowRoot)return r;o=r[0].shadowRoot}},We=e=>-1!==e.indexOf(Fe),Ge=(e,t=document)=>We(e)?ze(t,e):Ue(t,e);const Je="MutationObserver",Qe="requestAnimationFrame",Ke={childList:!0,subtree:!0},Xe="visibilityState",$e="visible",Ye=100,Ze=5e3,et=e=>new Error("Could not find: "+e),tt=e=>new Promise(e),nt=e=>Le(e[Je]),ot=(e,t,n,o,a)=>tt(((r,i)=>{let s;const c=new e[Je]((()=>{const e=a(n);Me(e)&&(c.disconnect(),s&&clearTimeout(s),r(e))}));s=setTimeout((()=>{c.disconnect(),i(et(n))}),o),c.observe(t,Ke)})),at=e=>e[Xe]===$e,rt=(e,t,n,o)=>tt(((a,r)=>{const i=()=>{const n=o(t);Me(n)?a(n):e[Qe](i)};i(),setTimeout((()=>{r(et(t))}),n)})),it=(e,t,n)=>tt(((o,a)=>{const r=()=>{const t=n(e);Me(t)?o(t):setTimeout(r,Ye)};r(),setTimeout((()=>{a(et(e))}),t)}));var st=(e,t=Ge,n=Ze,o=window,a=document)=>{const r=t(e);return Me(r)?Promise.resolve(r):nt(o)?ot(o,a,e,n,t):at(a)?rt(o,e,n,t):it(e,n,t)};let ct;const dt=(e=document)=>{if(void 0===ct){const t=e.querySelector("[nonce]");ct=t&&(t.nonce||t.getAttribute("nonce"))}return ct},lt=(e,t={})=>document.querySelector('script[src="'+e+'"]')?(t.onLoad&&t.onLoad(),Promise.resolve()):new Promise(((n,o)=>{const{attributes:a={},onLoad:r,onError:i}=t,s=ke("script",{type:"text/javascript",src:e,async:!0,...dt()&&{nonce:dt()},...a},{onload:()=>{r&&r(),n()},onerror:()=>{const t=new Error("Failed to load script: "+e);i&&i(t),o(t)}}),c=()=>{const e=document.head||document.body;if(e)Pe(e,s);else{const e=new Error("Neither <head> nor <body> available for script insertion.");i&&i(e),o(e)}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",c):c()}));var ut=(e,t)=>t.matches?t.matches(e):t.msMatchesSelector(e),pt=e=>{const t=e.parentNode;return t?t.removeChild(e):null};const mt={name:"Adobe Alloy"},gt={style:{display:"none",width:0,height:0}};var ft=({appendNode:e=Pe,awaitSelector:t=st,createNode:n=ke,fireImage:o=je}={})=>{const a=o;let r;const i=()=>t(Se).then((([t])=>r||(r=n(xe,mt,gt),e(t,r)))),s=({src:e})=>i().then((t=>{const n=t.contentWindow.document;return o({src:e,currentDocument:n})}));return e=>{const{hideReferrer:t,url:n}=e;return t?s({src:n}):a({src:n})}},ht=e=>de(e)&&0===Object.keys(e).length;const bt=(e,t)=>ce(e)||!de(e)?e:Object.keys(e).reduce(((n,o)=>{const a=e[o];if(de(a)){const e=bt(a,t);return ht(e)?n:{...n,[o]:e}}return t(a)?{...n,[o]:a}:n}),{}),vt=e=>{let t=2166136261;const n=16777619,o=(new TextEncoder).encode(e);for(let e=0;e<o.length;e+=1)t^=o[e],t=Math.imul(t,n);return t>>>0},yt=e=>vt(e).toString(16).padStart(8,"0");var wt="com.adobe.alloy.",_t=(e,t)=>e.slice(-t);const Ct=wt+"getTld";var Et=(e,t)=>{let n="";const o=e.location.hostname.toLowerCase().split(".");let a=1;for(;a<o.length&&!t.get(Ct);)a+=1,n=_t(o,a).join("."),t.set(Ct,Ct,{domain:n});return t.remove(Ct,{domain:n}),n},It="kndctr",Pt=e=>e.replace("@","_"),Dt=(e,t)=>It+"_"+Pt(e)+"_"+t,kt=(e,t)=>{const n={};return e.forEach((e=>{const o=t(e);n[o]||(n[o]=[]),n[o].push(e)})),n};const St="Chrome",xt="Edge",Ot="EdgeChromium",Tt="Firefox",Rt="IE",At="Safari",Nt="Unknown";var jt=e=>{let t,n=!1;return()=>(n||(n=!0,t=e()),t)};const Lt=[St,xt,Ot,Rt,Nt];var Mt=({getBrowser:e})=>jt((()=>Lt.includes(e())));const Vt="identity",qt="consent",Ut="cluster";var Ft=({orgId:e})=>{const t=Dt(e,Vt);return()=>Boolean(ge.get(t))};const Bt=(e,t)=>{const n=Object.keys(e);for(let o=0;o<n.length;o+=1){const a=n[o];if(e[a].test(t))return a}return Nt};var Ht=({userAgent:e})=>jt((()=>Bt({[xt]:/Edge\/([0-9\._]+)/,[Ot]:/Edg\/([0-9\.]+)/,[St]:/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/,[Tt]:/Firefox\/([0-9\.]+)(?:\s|$)/,[Rt]:/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/,[At]:/Version\/([0-9\._]+).*Safari/},e)));const zt=(e,t,n)=>({getItem(o){try{return e[t].getItem(n+o)}catch{return null}},setItem(o,a){try{return e[t].setItem(n+o,a),!0}catch{return!1}},clear(){try{return Object.keys(e[t]).forEach((o=>{o.startsWith(n)&&e[t].removeItem(o)})),!0}catch{return!1}}});var Wt=e=>t=>{const n=wt+t;return{session:zt(e,"sessionStorage",n),persistent:zt(e,"localStorage",n)}},Gt=(e,t)=>e.filter((e=>t.includes(e))),Jt=e=>"boolean"==typeof e,Qt=e=>"number"==typeof e&&!Number.isNaN(e),Kt=e=>{const t=parseInt(e,10);return Qt(t)&&e===t},Xt=(e,t)=>0===t.indexOf(It+"_"+Pt(e)+"_"),$t=e=>"string"==typeof e,Yt=e=>$t(e)&&e.length>0,Zt=()=>{};const en=e=>{const t={},n=e.split(".");switch(n.length){case 1:t.subdomain="",t.domain=e,t.topLevelDomain="";break;case 2:t.subdomain="",t.domain=e,t.topLevelDomain=n[1];break;case 3:t.subdomain="www"===n[0]?"":n[0],t.domain=e,t.topLevelDomain=n[2];break;case 4:t.subdomain="www"===n[0]?"":n[0],t.domain=e,t.topLevelDomain=n[2]+"."+n[3]}return t},tn=e=>{try{const t=new URL(e);let n=t.pathname;return e.endsWith("/")||"/"!==n||(n=""),{host:t.hostname,path:n,query:t.search.replace(/^\?/,""),anchor:t.hash.replace(/^#/,"")}}catch{return{host:"",path:"",query:"",anchor:""}}},nn=(e,t=en)=>{$t(e)||(e="");const n=tn(e),{host:o,path:a,query:r,anchor:i}=n;return{path:a,query:r,fragment:i,...t(o)}};var on,an,rn=e=>{if(ce(e)||"object"!=typeof e)return null;const t=bt(e,(e=>!(ce(e)||!Jt(e)&&!Qt(e)&&!Yt(e)&&!Me(e))));return ht(t)?null:t},sn=n(o());const cn=e=>Array.isArray(e)?e.map((e=>cn(e))):"object"==typeof e&&null!==e?Object.keys(e).sort().reduce(((t,n)=>(t[n]=cn(e[n]),t)),{}):e;var dn=e=>cn(e),ln=e=>e instanceof Error?e:new Error(e),un=({error:e,message:t})=>{try{e.message=t}catch{}},pn=({error:e,message:t})=>{const n=ln(e),o=t+"\nCaused by: "+n.message;return un({error:n,message:o}),n},mn=e=>$t(e)&&"true"===e.toLowerCase(),gn=(e,t)=>{if(Qt(e)||$t(e)){const t=Math.round(Number(e));if(!Number.isNaN(t))return t}return t};const fn=(e,t,n)=>(""+e).padStart(t,n);var hn=e=>{const t=e.getFullYear(),n=fn(e.getMonth()+1,2,"0"),o=fn(e.getDate(),2,"0"),a=fn(e.getHours(),2,"0"),r=fn(e.getMinutes(),2,"0"),i=fn(e.getSeconds(),2,"0"),s=fn(e.getMilliseconds(),3,"0"),c=gn(e.getTimezoneOffset(),0);return t+"-"+n+"-"+o+"T"+a+":"+r+":"+i+"."+s+(c>0?"-":"+")+fn(Math.floor(Math.abs(c)/60),2,"0")+":"+fn(Math.abs(c)%60,2,"0")};const bn=[];for(let e=0;e<256;++e)bn.push((e+256).toString(16).slice(1));let vn;const yn=new Uint8Array(16);var wn={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};const _n=e=>function(t,n){return null==t?t:e.call(this,t,n)},Cn=(e,t)=>function(n,o){return t.call(this,e.call(this,n,o),o)},En=(e,t)=>function(n,o){const a=[],r=[e,t].reduce(((e,t)=>{try{return t.call(this,e,o)}catch(t){return a.push(t),e}}),n);if(a.length)throw new Error(a.join("\n"));return r},In=(e,t,n)=>Object.assign(Cn(e,t),e,n),Pn=(e,t,n)=>Object.assign(Cn(e,_n(t)),e,n),Dn=(e,t,n)=>Object.assign(En(_n(t),e),e,n),kn=(e,t,n,o)=>{if(!e)throw new Error("'"+n+"': Expected "+o+", but got "+JSON.stringify(t)+".")};var Sn=(e,t)=>(kn(Jt(e),e,t,"true or false"),e),xn=(e,t)=>(kn(Le(e),e,t,"a function"),e),On=(e,t)=>function(n,o){let a;const r=e.find((e=>{try{return a=e.call(this,n,o),!0}catch{return!1}}));return kn(r,n,o,t),a},Tn=e=>function(t,n){kn(Array.isArray(t),t,n,"an array");const o=[],a=t.map(((a,r)=>{try{return e.call(this,a,n+"["+r+"]",t)}catch(e){return void o.push(e.message)}}));if(o.length)throw new Error(o.join("\n"));return a},Rn=e=>t=>null==t?e:t,An=(e="This field has been deprecated")=>function(t,n){let o=e;return void 0!==t&&(n&&(o="'"+n+"': "+o),this&&this.logger&&this.logger.warn(o)),t},Nn=e=>(t,n)=>(kn(t===e,t,n,""+e),t),jn=e=>function(t,n){kn(de(t),t,n,"an object");const o=[],a={};if(Object.keys(t).forEach((r=>{const i=t[r],s=n?n+"."+r:r;try{const t=e.call(this,i,s);void 0!==t&&(a[r]=t)}catch(e){o.push(e.message)}})),o.length)throw new Error(o.join("\n"));return a},Ln=(e,t)=>(n,o)=>(kn(n>=t,n,o,e+" greater than or equal to "+t),n),Mn=(e,t)=>(n,o)=>(kn(n<=t,n,o,e+" less than or equal to "+t),n),Vn=e=>(t,n)=>{const o=[];if(Object.keys(t).forEach((t=>{if(!e[t]){const e=n?n+"."+t:t;o.push("'"+e+"': Unknown field.")}})),o.length)throw new Error(o.join("\n"));return t},qn=e=>(t,n)=>(de(t)?kn(!ht(t),t,n,e):kn(t.length>0,t,n,e),t),Un=e=>function(t,n){kn(de(t),t,n,"an object");const o=[],a={};if(Object.keys(e).forEach((r=>{const i=t[r],s=e[r],c=n?n+"."+r:r;try{const e=s.call(this,i,c);void 0!==e&&(a[r]=e)}catch(e){o.push(e.message)}})),Object.keys(t).forEach((e=>{Object.prototype.hasOwnProperty.call(a,e)||(a[e]=t[e])})),o.length)throw new Error(o.join("\n"));return a},Fn=(e,t,n)=>function(o,a){kn(de(o),o,a,"an object");const{[e]:r,[n]:i,...s}=o,c=t(r,a);if(void 0!==c){let t="The field '"+e+"' is deprecated. Use '"+n+"' instead.";if(a&&(t="'"+a+"': "+t),void 0!==i&&i!==c)throw new Error(t);this&&this.logger&&this.logger.warn(t)}return{[n]:i||c,...s}},Bn=()=>{const e=[];return(t,n)=>(kn(-1===e.indexOf(t),t,n,"a unique value across instances"),e.push(t),t)},Hn=e=>{const t=Object.create(null);for(let n=0;n<e.length;n+=1){const o=e[n];if(o in t)return!1;t[o]=!0}return!0},zn=()=>(e,t)=>(kn(Hn(e),e,t,"array values to be unique"),e);const Wn=/^[a-z0-9.-]{1,}$/i;var Gn=(e,t)=>(kn(Wn.test(e),e,t,"a valid domain"),e),Jn=(e,t)=>(kn(Kt(e),e,t,"an integer"),e),Qn=(e,t)=>(kn(Qt(e),e,t,"a number"),e),Kn=e=>{try{return null!==RegExp(e)}catch{return!1}},Xn=(e,t)=>(kn(Kn(e),e,t,"a regular expression"),e),$n=(e,t)=>{if(null==e)throw new Error("'"+t+"' is a required option");return e},Yn=(e,t)=>(kn($t(e),e,t,"a string"),e),Zn=e=>(t,n)=>(kn(e.test(t),t,n,"does not match the "+e.toString()),t);const eo=e=>e;eo.default=function(e){return In(this,Rn(e))},eo.required=function(){return In(this,$n)},eo.deprecated=function(e){return In(this,An(e))};const to=function(){return Pn(this,Gn)},no=function(e){return Pn(this,Ln("an integer",e))},oo=function(e){return Pn(this,Ln("a number",e))},ao=function(e){return Pn(this,Mn("a number",e))},ro=function(){return Pn(this,Jn,{minimum:no})},io=function(){return Pn(this,qn("a non-empty string"))},so=function(){return Pn(this,qn("a non-empty array"))},co=function(){return Pn(this,qn("a non-empty object"))},lo=function(){return Pn(this,Xn)},uo=function(e){return Pn(this,Zn(e))},po=function(){return Pn(this,Bn())},mo=function(){return Pn(this,zn())},go=function(e,t){return In(this,On(e,t))},fo=function(){return this},ho=function(e){return Pn(this,Tn(e),{nonEmpty:so,uniqueItems:mo})},bo=function(){return Pn(this,Sn)},vo=function(){return Pn(this,xn)},yo=function(e){return Pn(this,Nn(e))},wo=function(){return Pn(this,Qn,{minimum:oo,maximum:ao,integer:ro,unique:po})},_o=function(e){return Pn(this,jn(e),{nonEmpty:co})},Co=e=>({noUnknownFields:function(){return Pn(this,Vn(e))},nonEmpty:co,concat:function(t){const n={...e,...t.schema};return Pn(this,t,Co(n))},renamed:function(e,t,n){return Dn(this,Fn(e,t,n))},schema:e}),Eo=function(e){return Pn(this,Un(e),Co(e))},Io=function(){return Pn(this,Yn,{regexp:lo,domain:to,nonEmpty:io,unique:po,matches:uo})},Po=go.bind(eo),Do=fo.bind(eo),ko=ho.bind(eo),So=bo.bind(eo),xo=vo.bind(eo),Oo=yo.bind(eo),To=wo.bind(eo),Ro=_o.bind(eo),Ao=Eo.bind(eo),No=Io.bind(eo),jo=function(...e){return Po(e.map(Oo),"one of these values: "+JSON.stringify(e))};var Lo=Ro(ko(Ao({authenticatedState:jo("ambiguous","authenticated","loggedOut"),id:No(),namespace:Ao({code:No()}).noUnknownFields(),primary:So(),xid:No()}).noUnknownFields()).required()),Mo=Ao({}),Vo=({window:e})=>()=>e.location,qo="alloy_debug",Uo=({console:e,locationSearch:t,createLogger:n,instanceName:o,createNamespacedStorage:a,getMonitors:r})=>{const i=sn.parse(t),s=a("instance."+o+"."),c=s.session.getItem("debug");let d="true"===c,l=null===c;const u=()=>d,p=(e,{fromConfig:t})=>{t&&!l||(d=e),t||(s.session.setItem("debug",e.toString()),l=!1)};return void 0!==i[qo]&&p(mn(i[qo]),{fromConfig:!1}),{setDebugEnabled:p,logger:n({getDebugEnabled:u,context:{instanceName:o},getMonitors:r,console:e}),createComponentLogger:t=>n({getDebugEnabled:u,context:{instanceName:o,componentName:t},getMonitors:r,console:e})}};const Fo=["onComponentsRegistered","onBeforeEvent","onBeforeRequest","onResponse","onRequestFailure","onClick","onDecision"],Bo=(e,t)=>(...n)=>Promise.all(e.getLifecycleCallbacks(t).map((e=>new Promise((t=>{t(e(...n))}))))),Ho=e=>(...t)=>Promise.resolve().then((()=>e(...t)));var zo=e=>Fo.reduce(((t,n)=>(t[n]=Ho(Bo(e,n)),t)),{});const Wo=(e,t)=>(...n)=>{let o;try{o=e(...n)}catch(e){throw pn({error:e,message:t})}return o instanceof Promise&&(o=o.catch((e=>{throw pn({error:e,message:t})}))),o};var Go=()=>{const e={},t={},n={},o=(e,n={})=>{const o=Gt(Object.keys(t),Object.keys(n));if(o.length)throw new Error("[ComponentRegistry] Could not register "+e+" because it has existing command(s): "+o.join(","));Object.keys(n).forEach((o=>{const a=n[o];a.commandName=o,a.run=Wo(a.run,"["+e+"] An error occurred while executing the "+o+" command."),t[o]=a}))},a=(e,t={})=>{Object.keys(t).forEach((o=>{n[o]=n[o]||[],n[o].push(Wo(t[o],"["+e+"] An error occurred while executing the "+o+" lifecycle hook."))}))};return{register(t,n){const{commands:r,lifecycle:i}=n;o(t,r),a(t,i),e[t]=n},getCommand:e=>t[e],getCommandNames:()=>Object.keys(t),getLifecycleCallbacks:e=>n[e]||[],getComponentNames:()=>Object.keys(e)}},Jo=({logger:e,sendFetchRequest:t,sendBeaconRequest:n,isRequestRetryable:o,getRequestRetryDelay:a})=>({requestId:r,url:i,payload:s,useSendBeacon:c})=>{const d=JSON.stringify(s),l=JSON.parse(d);e.logOnBeforeNetworkRequest({url:i,requestId:r,payload:l});const u=(s=0)=>(c?n:t)(i,d).then((t=>{if(o({response:t,retriesAttempted:s})){const e=a({response:t,retriesAttempted:s});return new Promise((t=>{setTimeout((()=>{t(u(s+1))}),e)}))}let n;try{n=JSON.parse(t.body)}catch{}return e.logOnNetworkResponse({requestId:r,url:i,payload:l,...t,parsedBody:n,retriesAttempted:s}),{statusCode:t.statusCode,body:t.body,parsedBody:n,getHeader:t.getHeader}}));return u().catch((t=>{throw e.logOnNetworkError({requestId:r,url:i,payload:l,error:t}),pn({error:t,message:"Network request failed."})}))},Qo=({logger:e})=>t=>{if(t){const n=t.split(";");if(n.length>=2&&n[1].length>0)try{const e=parseInt(n[1],10);if(!Number.isNaN(e))return{regionId:e}}catch{}e.warn('Invalid adobe edge: "'+t+'"')}return{}};const Ko=1,Xo=(e,t)=>{let n,o=0,a=0;do{if(t<0||t+a>=e.length)throw new Error("Invalid varint: buffer ended unexpectedly");if(n=e[t+a],o|=(127&n)<<7*a,a+=1,a>10)throw new Error("Invalid varint: too long")}while(128&n);return{value:o,length:a}},$o=Object.freeze({VARINT:0,I64:1,LEN:2,SGROUP:3,EGROUP:4,I32:5}),Yo=e=>{let t=0,n=null;for(;t<e.length&&!n;){const{value:o,length:a}=Xo(e,t);t+=a;const r=7&o;if(o>>3===Ko){if(r===$o.LEN){const o=Xo(e,t);return t+=o.length,n=(new TextDecoder).decode(e.slice(t,t+o.value)),t+=o.value,n}}else switch(r){case $o.VARINT:t+=Xo(e,t).length;break;case $o.I64:t+=8;break;case $o.LEN:{const n=Xo(e,t);t+=n.length+n.value;break}case $o.SGROUP:case $o.EGROUP:break;case $o.I32:t+=4;break;default:throw new Error("Malformed kndctr cookie. Unknown wire type: "+r)}}throw new Error("No ECID found in cookie.")};var Zo=({orgId:e,cookieJar:t,logger:n})=>{const o=Dt(e,"identity");return()=>{const e=t.get(o);if(!e)return null;try{const t=decodeURIComponent(e).replace(/_/g,"/").replace(/-/g,"+"),n=ue(t);return Yo(n)}catch(e){return n.warn("Unable to decode ECID from "+o+" cookie",e),null}}},ea=({logger:e,loggingCookieJar:t,config:n})=>{let o=null;const a=new Promise((e=>{o=e})),r=Zo({orgId:n.orgId,cookieJar:t,logger:e});return{initialize(){r()&&this.setIdentityAcquired()},setIdentityAcquired(){o()},awaitIdentity:()=>a,getEcidFromCookie:()=>r()}};const ta="in",na="out",oa="pending",aa="disabled",ra="wait",ia="auto",sa="general",ca="declinedConsent",da="default",la="initial",ua="new",pa=e=>{const t=new Error(e);return t.code=ca,t.message=e,t};var ma=({logger:e})=>{const t=[],n=()=>{for(;t.length;)t.shift().resolve()},o=()=>{for(;t.length;)t.shift().reject(pa("The user declined consent."))},a=()=>Promise.resolve(),r=()=>Promise.resolve(),i=()=>Promise.resolve(),s=()=>Promise.reject(pa("No consent preferences have been set.")),c=()=>Promise.reject(pa("The user declined consent.")),d=e=>{if(e)return Promise.reject(new Error("Consent is pending."));const n=_e();return t.push(n),n.promise};return{in(t){t===da?this.awaitConsent=r:(t===la?e.info("Loaded user consent preferences. The user previously consented."):t===ua&&this.awaitConsent!==i&&e.info("User consented."),n(),this.awaitConsent=i)},out(t){t===da?(e.warn("User consent preferences not found. Default consent of out will be used."),this.awaitConsent=s):(t===la?e.warn("Loaded user consent preferences. The user previously declined consent."):t===ua&&this.awaitConsent!==c&&e.warn("User declined consent."),o(),this.awaitConsent=c)},pending(t){t===da&&e.info("User consent preferences not found. Default consent of pending will be used. Some commands may be delayed."),this.awaitConsent=d},awaitConsent:a,withConsent(){return this.awaitConsent(!0)},current(){switch(this.awaitConsent){case r:return{state:"in",wasSet:!1};case i:return{state:"in",wasSet:!0};case s:return{state:"out",wasSet:!1};case c:return{state:"out",wasSet:!0};case d:return{state:"pending",wasSet:!1};default:return{state:"in",wasSet:!1}}}}},ga=({generalConsentState:e,logger:t})=>{const n=(n,o)=>{switch(n[sa]){case ta:e.in(o);break;case na:e.out(o);break;case oa:e.pending(o);break;default:t.warn("Unknown consent value: "+n[sa])}};return{initializeConsent(e,t){t[sa]?n(t,la):n(e,da)},setConsent(e){n(e,ua)},suspend(){e.pending()},awaitConsent:()=>e.awaitConsent(),withConsent:()=>e.withConsent(),current:()=>e.current()}};const fa=e=>e&&e._experience&&e._experience.decisioning&&Me(e._experience.decisioning.propositions)?e._experience.decisioning.propositions:[];var ha=()=>{const e={};let t,n,o=!1,a=!1,r=!0;const i=e=>{if(a)throw new Error(e+" cannot be called after event is finalized.")},s={hasQuery(){return Object.prototype.hasOwnProperty.call(this.getContent(),"query")},getContent(){const o=JSON.parse(JSON.stringify(e));return t&&he(o,{xdm:t}),n&&he(o,{data:n}),o},setUserXdm(e){i("setUserXdm"),t=e},setUserData(e){i("setUserData"),n=e},mergeXdm(t){i("mergeXdm"),t&&he(e,{xdm:t})},mergeData(t){i("mergeData"),t&&he(e,{data:t})},mergeMeta(t){i("mergeMeta"),t&&he(e,{meta:t})},mergeQuery(t){i("mergeQuery"),t&&he(e,{query:t})},documentMayUnload(){o=!0},finalize(o){if(a)return;const i=Ie([...fa(t),...fa(e.xdm)],((e,t)=>e===t||e.id&&t.id&&e.id===t.id&&e.scope&&t.scope&&e.scope===t.scope));if(t&&this.mergeXdm(t),i.length>0&&(e.xdm._experience.decisioning.propositions=i),n&&s.mergeData(n),a=!0,o){r=!1;const t={xdm:e.xdm||{},data:e.data||{}},n=o(t);r=!1!==n,e.xdm=t.xdm||{},e.data=t.data||{},ht(e.xdm)&&delete e.xdm,ht(e.data)&&delete e.data}},getDocumentMayUnload:()=>o,isEmpty:()=>ht(e)&&(!t||ht(t))&&(!n||ht(n)),shouldSend:()=>r,getViewName(){if(t&&t.web&&t.web.webPageDetails)return t.web.webPageDetails.viewName},toJSON(){if(!a)throw new Error("toJSON called before finalize");return e}};return s};const ba="Retry-After",va="x-adobe-edge";var ya=({extractEdgeInfo:e})=>({content:t={},getHeader:n})=>{const{handle:o=[],errors:a=[],warnings:r=[]}=t;return{getPayloadsByType:e=>o.filter((t=>t.type===e)).flatMap((e=>e.payload)),getErrors:()=>a,getWarnings:()=>r,getEdge:()=>e(n(va)),toJSON:()=>t}};const wa="configure",_a="setDebug";var Ca=({logger:e,configureCommand:t,setDebugCommand:n,handleError:o,validateCommandOptions:a})=>{let r;const i=(o,i)=>{let s;if(o===wa){if(r)throw new Error("The library has already been configured and may only be configured once.");s=()=>(r=t(i),r.then((()=>{})))}else{if(!r)throw new Error("The library must be configured first. Please do so by executing the configure command.");s=o===_a?()=>{const e=Ao({enabled:So().required()}).noUnknownFields(),t=a({command:{commandName:_a,optionsValidator:e},options:i});n(t)}:()=>r.then((e=>{const t=e.getCommand(o);if(!t||!Le(t.run)){const t=[wa,_a].concat(e.getCommandNames()).join(", ");throw new Error("The "+o+" command does not exist. List of available commands: "+t+".")}const n=a({command:t,options:i});return t.run(n)}),(()=>(e.warn("An error during configuration is preventing the "+o+" command from executing."),new Promise((()=>{})))))}return s};return(t,n={})=>new Promise((o=>{const a=i(t,n);e.logOnBeforeCommand({commandName:t,options:n}),o(a())})).catch((e=>o(e,t+" command"))).catch((o=>{throw e.logOnCommandRejected({commandName:t,options:n,error:o}),o})).then((o=>{const a=de(o)?o:{};return e.logOnCommandResolved({commandName:t,options:n,result:a}),a}))};const Ea="https://adobe.ly/3sHgQHb";var Ia=({command:e,options:t})=>{const{commandName:n,documentationUri:o=Ea,optionsValidator:a}=e;let r=t;if(a)try{r=a(t)}catch(e){throw new Error("Invalid "+n+" command options:\n\t - "+e+" For command documentation see: "+o)}return r};const Pa="https://adobe.ly/3sHh553",Da=({combinedConfigValidator:e,options:t,logger:n})=>{try{return e.noUnknownFields().required().call({logger:n},t)}catch(e){throw new Error("Resolve these configuration problems:\n\t - "+e.message.split("\n").join("\n\t - ")+"\nFor configuration documentation see: "+Pa)}},ka=(e,t,n)=>n.reduce(((n,{buildOnInstanceConfiguredExtraParams:o})=>(o&&(n={...n,...o({config:e,logger:t})}),n)),{}),Sa=e=>{const t=[],n={get enabled(){return e.enabled},flush(){t.forEach((({method:t,args:n})=>e[t](...n)))}};return Object.keys(e).filter((t=>"function"==typeof e[t])).forEach((e=>{n[e]=(...n)=>{t.push({method:e,args:n})}})),n};var xa=({options:e,componentCreators:t,coreConfigValidators:n,createConfig:o,logger:a,setDebugEnabled:r})=>{const i=Sa(a),s=t.map((({configValidators:e})=>e)).filter((e=>e)).reduce(((e,t)=>e.concat(t)),n),c=o(Da({combinedConfigValidator:s,options:e,logger:i}));r(c.debugEnabled,{fromConfig:!0}),i.flush();const d=ka(c,a,t);return a.logOnInstanceConfigured({...d,config:c}),c},Oa=({componentCreators:e,lifecycle:t,componentRegistry:n,getImmediatelyAvailableTools:o})=>(e.forEach((e=>{const{namespace:t}=e,a=o(t);let r;try{r=e(a)}catch(e){throw pn({error:e,message:"["+t+"] An error occurred during component creation."})}n.register(t,r)})),t.onComponentsRegistered({lifecycle:t}).then((()=>n)));const Ta=e=>({...e}),Ra="edge.adobedc.net",Aa="adobedc.demdex.net";var Na="ee",ja=()=>Ao({debugEnabled:So().default(!1),datastreamId:No().unique().required(),edgeDomain:No().domain().default(Ra),edgeBasePath:No().nonEmpty().default(Na),orgId:No().unique().required(),onBeforeEventSend:xo().default(Zt),edgeConfigOverrides:Mo
}).renamed("edgeConfigId",No().unique(),"datastreamId"),La=({errorPrefix:e,logger:t})=>(n,o)=>{const a=ln(n);if(a.code===ca)return t.warn("The "+o+" could not fully complete. "+a.message),{};throw un({error:a,message:e+" "+a.message}),a},Ma=({fetch:e})=>(t,n)=>e(t,{method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"text/plain; charset=UTF-8"},referrerPolicy:"no-referrer-when-downgrade",body:n}).then((e=>e.text().then((t=>({statusCode:e.status,getHeader:t=>e.headers.get(t),body:t}))))),Va=({sendBeacon:e,sendFetchRequest:t,logger:n})=>(o,a)=>{const r=new Blob([a],{type:"text/plain; charset=UTF-8"});return e(o,r)?Promise.resolve({statusCode:204,getHeader:()=>null,body:""}):(n.info("Unable to use `sendBeacon`; falling back to `fetch`."),t(o,a))},qa=({getDebugEnabled:e,console:t,getMonitors:n,context:o})=>{let a="["+o.instanceName+"]";o.componentName&&(a+=" ["+o.componentName+"]");const r=(e,t)=>{const a=n();if(a.length>0){const n={...o,...t};a.forEach((t=>{t[e]&&t[e](n)}))}},i=(n,...o)=>{r("onBeforeLog",{level:n,arguments:o}),e()&&t[n](a,...o)};return{get enabled(){return n().length>0||e()},logOnInstanceCreated(e){r("onInstanceCreated",e),i("info","Instance initialized.")},logOnInstanceConfigured(e){r("onInstanceConfigured",e),i("info","Instance configured. Computed configuration:",e.config)},logOnBeforeCommand(e){r("onBeforeCommand",e),i("info","Executing "+e.commandName+" command. Options:",e.options)},logOnCommandResolved(e){r("onCommandResolved",e),i("info",e.commandName+" command resolved. Result:",e.result)},logOnCommandRejected(e){r("onCommandRejected",e),i("error",e.commandName+" command was rejected. Error:",e.error)},logOnBeforeNetworkRequest(e){r("onBeforeNetworkRequest",e),i("info","Request "+e.requestId+": Sending request.",e.payload)},logOnNetworkResponse(e){r("onNetworkResponse",e);const t=e.parsedBody||e.body?"response body:":"no response body.";i("info","Request "+e.requestId+": Received response with status code "+e.statusCode+" and "+t,e.parsedBody||e.body)},logOnNetworkError(e){r("onNetworkError",e),i("error","Request "+e.requestId+": Network request failed.",e.error)},logOnContentHiding(e){r("onContentHiding",{status:e.status}),i(e.logLevel,e.message)},logOnContentRendering(e){r("onContentRendering",{status:e.status,payload:e.detail}),i(e.logLevel,e.message)},info:i.bind(null,"info"),warn:i.bind(null,"warn"),error:i.bind(null,"error")}},Ua="__view__",Fa=e=>(t,n)=>{e.xdm=e.xdm||{},e.xdm.identityMap=e.xdm.identityMap||{},e.xdm.identityMap[t]=e.xdm.identityMap[t]||[],e.xdm.identityMap[t].push(n)},Ba=e=>{const{payload:t,getAction:n,getUseSendBeacon:o,datastreamIdOverride:a,edgeSubPath:r,requestParams:s={}}=e,c=i();let d=!1,l=!1;return{getId:()=>c,getPayload:()=>t,getAction:()=>n({isIdentityEstablished:l}),getDatastreamIdOverride:()=>a,getUseSendBeacon:()=>o({isIdentityEstablished:l}),getEdgeSubPath:()=>r||"",getUseIdThirdPartyDomain:()=>d,setUseIdThirdPartyDomain(){d=!0},setIsIdentityEstablished(){l=!0},getRequestParams:()=>s}},Ha=({payload:e,datastreamIdOverride:t})=>{const n=({isIdentityEstablished:t})=>e.getDocumentMayUnload()&&t;return Ba({payload:e,getAction:({isIdentityEstablished:e})=>n({isIdentityEstablished:e})?"collect":"interact",getUseSendBeacon:n,datastreamIdOverride:t})};const za=(e,t)=>n=>{const o=t.split(".").reduce(((e,t)=>(e[t]=e[t]||{},e[t])),e);Object.assign(o,n)};var Wa=e=>{const{content:t,addIdentity:n,hasIdentity:o}=e,a=za(t,"meta.configOverrides");return{mergeMeta:be(t,"meta"),mergeState:be(t,"meta.state"),mergeQuery:be(t,"query"),mergeConfigOverride:e=>a(rn(e)),addIdentity:n,hasIdentity:o,toJSON:()=>t}},Ga=e=>t=>void 0!==(e.xdm&&e.xdm.identityMap&&e.xdm.identityMap[t]),Ja=()=>{const e={};return{...Wa({content:e,addIdentity:Fa(e),hasIdentity:Ga(e)}),addEvent:t=>{e.events=e.events||[],e.events.push(t)},getDocumentMayUnload:()=>(e.events||[]).some((e=>e.getDocumentMayUnload()))}},Qa=({localConfigOverrides:e,globalConfigOverrides:t,payload:n})=>{const o={payload:n},{datastreamId:a,...r}=e||{};return a&&(o.datastreamIdOverride=a),t&&!ht(t)&&n.mergeConfigOverride(t),r&&!ht(r)&&n.mergeConfigOverride(r),o};const Ka="adb_validation_sessionid",Xa="validation.",$a="clientId",Ya=e=>{let t=e.persistent.getItem($a);return t||(t=i(),e.persistent.setItem($a,t)),t};var Za=({window:e,createNamespacedStorage:t})=>{const n=t(Xa);return()=>{const t=sn.parse(e.location.search)[Ka];return t?{adobeAepValidationToken:t+"|"+Ya(n)}:""}};const er="Event was canceled because the onBeforeEventSend callback returned false.";var tr=({config:e,logger:t,lifecycle:n,consent:o,createEvent:a,createDataCollectionRequestPayload:r,createDataCollectionRequest:i,sendEdgeNetworkRequest:s,applyResponse:c})=>{const{onBeforeEventSend:d,edgeConfigOverrides:l}=e;return{createEvent:a,sendEvent(e,a={}){const{edgeConfigOverrides:c,...u}=a,p=Qa({payload:r(),localConfigOverrides:c,globalConfigOverrides:l}),m=i(p),g=ve(),f=ve();return n.onBeforeEvent({...u,event:e,onResponse:g.add,onRequestFailure:f.add}).then((()=>(p.payload.addEvent(e),o.awaitConsent()))).then((()=>{try{e.finalize(d)}catch(e){const t=()=>{throw e};return f.add(n.onRequestFailure),f.call({error:e}).then(t,t)}if(!e.shouldSend()){f.add(n.onRequestFailure),t.info(er);const e=new Error(er);return f.call({error:e}).then((()=>{}))}return s({request:m,runOnResponseCallbacks:g.call,runOnRequestFailureCallbacks:f.call})}))},applyResponse(e,t={}){const{renderDecisions:o=!1,decisionContext:a={},responseHeaders:s={},responseBody:d={handle:[]},personalization:l}=t,u=r(),p=i({payload:u}),m=ve();return n.onBeforeEvent({event:e,renderDecisions:o,decisionContext:a,decisionScopes:[Ua],personalization:l,onResponse:m.add,onRequestFailure:Zt}).then((()=>(u.addEvent(e),c({request:p,responseHeaders:s,responseBody:d,runOnResponseCallbacks:m.call}))))}}};const nr="state:store";var or=({cookieJar:e,shouldTransferCookie:t,apexDomain:n,dateProvider:o})=>({cookiesToPayload(o,a){const r=""!==n&&a.endsWith(n),i={domain:n,cookiesEnabled:!0};if(!r){const n=e.get(),o=Object.keys(n).filter(t).map((e=>({key:e,value:n[e]})));o.length&&(i.entries=o)}o.mergeState(i)},responseToCookies(t){t.getPayloadsByType(nr).forEach((t=>{const a={domain:n},r=t.attrs&&t.attrs.SameSite&&t.attrs.SameSite.toLowerCase();void 0!==t.maxAge&&(a.expires=new Date(o().getTime()+1e3*t.maxAge)),void 0!==r&&(a.sameSite=r),"none"===r&&(a.secure=!0),e.set(t.key,t.value,a)}))}});const ar="mboxEdgeCluster",rr="at_qa_mode",ir="mbox";var sr=({orgId:e,targetMigrationEnabled:t})=>n=>Xt(e,n)||n===rr||t&&n===ir;const cr="TypeError",dr="NetworkError",lr=e=>e.name===cr||e.name===dr||0===e.status;var ur=e=>{const t=e.shift()||[],n=e.shift()||[];return le({},...t,...n,...e)},pr=e=>t=>{const n=()=>{throw t};return e.call({error:t}).then(n,n)};const mr=(e,t)=>t.getUseIdThirdPartyDomain()&&lr(e);var gr=({config:e,lifecycle:t,cookieTransfer:n,sendNetworkRequest:o,createResponse:a,processWarningsAndErrors:r,buildEndpointUrl:i})=>{const{edgeDomain:s,edgeBasePath:c,datastreamId:d}=e;let l=!1;return({request:e,runOnResponseCallbacks:u=Zt,runOnRequestFailureCallbacks:p=Zt})=>{const m=ve();m.add(t.onResponse),m.add(u);const g=ve();return g.add(t.onRequestFailure),g.add(p),t.onBeforeRequest({request:e,onResponse:m.add,onRequestFailure:g.add}).then((()=>{const t=l||!e.getUseIdThirdPartyDomain()?s:Aa,a=i({edgeBasePath:c,endpointDomain:t,request:e,datastreamId:d}),r=e.getPayload();return n.cookiesToPayload(r,t),o({requestId:e.getId(),url:a,payload:r,useSendBeacon:e.getUseSendBeacon()})})).then((e=>(r(e),e))).catch((t=>{if(mr(t,e)){l=!0,e.setUseIdThirdPartyDomain(!1);const t=i(s,e),a=e.getPayload();return n.cookiesToPayload(a,s),o({requestId:e.getId(),url:t,payload:a,useSendBeacon:e.getUseSendBeacon()})}return pr(g)(t)})).then((({parsedBody:e,getHeader:t})=>{const o=a({content:e,getHeader:t});return n.responseToCookies(o),m.call({response:o}).then(ur)}))}};const fr=204,hr="The server responded with a";var br=({logger:e})=>t=>{const{statusCode:n,body:o,parsedBody:a}=t;if(n<200||n>=300||!a&&n!==fr||a&&!Array.isArray(a.handle)){const e=a?JSON.stringify(a,null,2):o;throw new Error(hr+" status code "+n+" and "+(e?"response body:\n"+e:"no response body."))}if(a){const{warnings:t=[],errors:n=[]}=a;t.forEach((t=>{e.warn(hr+" warning:",t)})),n.forEach((t=>{e.error(hr+" non-fatal error:",t)}))}},vr=({orgId:e,cookieJar:t})=>{const n=Dt(e,Ut),o=()=>t.get(n),a=()=>{const e=t.get(ar);if(e)return"t"+e};return()=>o()||a()};const yr=3,wr=[429,503,502,504];var _r=({response:e,retriesAttempted:t})=>t<yr&&wr.includes(e.statusCode);const Cr=1e3,Er=1e3,Ir=.3,Pr=e=>{const t=Cr+e*Er,n=t*Ir,o=t-n,a=t+n;return Math.round(o+Math.random()*(a-o))},Dr=e=>{const t=e.getHeader(ba);let n;if(t){const e=parseInt(t,10);n=Kt(e)?1e3*e:Math.max(0,new Date(t).getTime()-(new Date).getTime())}return n};var kr=({response:e,retriesAttempted:t})=>{let n=Dr(e);return void 0===n&&(n=Pr(t)),n};const Sr=200;var xr=({cookieTransfer:e,lifecycle:t,createResponse:n,processWarningsAndErrors:o})=>({request:a,responseHeaders:r,responseBody:i,runOnResponseCallbacks:s=Zt,runOnRequestFailureCallbacks:c=Zt})=>{const d=ve();d.add(t.onResponse),d.add(s);const l=ve();l.add(t.onRequestFailure),l.add(c);const u=e=>r[e];return t.onBeforeRequest({request:a,onResponse:d.add,onRequestFailure:l.add}).then((()=>o({statusCode:Sr,getHeader:u,body:JSON.stringify(i),parsedBody:i}))).catch(pr(l)).then((()=>{const t=n({content:i,getHeader:u});return e.responseToCookies(t),d.call({response:t}).then(ur)}))},Or=e=>{let t=window.__alloyMonitors||[];return e&&(t=t.concat(e)),t},Tr=e=>t=>{const n={webPageDetails:{URL:e.location.href||e.location},webReferrer:{URL:e.document.referrer}};he(t,{web:n})};const Rr=e=>{const{screen:{orientation:t}}=e;if(null==t||null==t.type)return null;const n=t.type.split("-");return 0===n.length||"portrait"!==n[0]&&"landscape"!==n[0]?null:n[0]},Ar=e=>{if(Le(e.matchMedia)){if(e.matchMedia("(orientation: portrait)").matches)return"portrait";if(e.matchMedia("(orientation: landscape)").matches)return"landscape"}return null};var Nr=e=>t=>{const{screen:{width:n,height:o}}=e,a={},r=gn(o);r>=0&&(a.screenHeight=r);const i=gn(n);i>=0&&(a.screenWidth=i);const s=Rr(e)||Ar(e);s&&(a.screenOrientation=s),Object.keys(a).length>0&&he(t,{device:a})},jr=e=>t=>{const{document:{documentElement:{clientWidth:n,clientHeight:o}={}}}=e,a={type:"browser"},r=gn(n);r>=0&&(a.browserDetails={viewportWidth:r});const i=gn(o);i>=0&&(a.browserDetails=a.browserDetails||{},a.browserDetails.viewportHeight=i),he(t,{environment:a})},Lr=e=>t=>{const n=e(),o={},a=gn(n.getTimezoneOffset());void 0!==a&&(o.localTimezoneOffset=a),(void 0===a||Math.abs(a)<6e3)&&(o.localTime=hn(n)),he(t,{placeContext:o})},Mr=e=>t=>{const n=e().toISOString();he(t,{timestamp:n})},Vr="https://ns.adobe.com/experience/alloy",qr="2.29.0-beta.13-bc-acom-v5",Ur=e=>{he(e,{implementationDetails:{name:Vr,version:qr,environment:"browser"}})},Fr=(e,t,n,o)=>{const a=e.context.flatMap(((e,o)=>n[e]?[n[e]]:(t.warn("Invalid context["+o+"]: '"+e+"' is not available."),[]))).concat(o);return{namespace:"Context",lifecycle:{onBeforeEvent({event:e}){const n={};return Promise.all(a.map((e=>Promise.resolve(e(n,t))))).then((()=>e.mergeXdm(n)))}}}},Br=[["architecture","string"],["bitness","string"],["model","string"],["platformVersion","string"],["wow64","boolean"]];const Hr=e=>"userAgentData"in e;var zr=e=>Hr(e)?(t,n)=>{try{return e.userAgentData.getHighEntropyValues(Br.map((e=>e[0]))).then((e=>{const n={};Br.forEach((([t,o])=>{Object.prototype.hasOwnProperty.call(e,t)&&typeof e[t]===o&&(n[t]=e[t])})),he(t,{environment:{browserDetails:{userAgentClientHints:n}}})}))}catch(e){return n.warn("Unable to collect user-agent client hints. "+e.message),Zt}}:Zt;const Wr=Tr(window),Gr=Nr(window),Jr=jr(window),Qr=Lr((()=>new Date)),Kr=Mr((()=>new Date)),Xr={web:Wr,device:Gr,environment:Jr,placeContext:Qr},$r={highEntropyUserAgentHints:zr(navigator)},Yr={...Xr,...$r},Zr=[Kr,Ur],ei=({config:e,logger:t})=>Fr(e,t,Yr,Zr);ei.namespace="Context",ei.configValidators=Ao({context:ko(No()).default(Object.keys(Xr))});var ti=({options:e})=>Ao({type:No(),xdm:Ao({eventType:No(),identityMap:Lo}),data:Ao({}),documentUnloading:So(),renderDecisions:So(),decisionScopes:ko(No()).uniqueItems(),personalization:Ao({decisionScopes:ko(No()).uniqueItems(),surfaces:ko(No()).uniqueItems(),sendDisplayEvent:So().default(!0),includeRenderedPropositions:So().default(!1),defaultPersonalizationEnabled:So(),decisionContext:Ao({})}).default({sendDisplayEvent:!0}),conversation:Ao({fetchExperience:So().default(!1)}),datasetId:No(),mergeId:No(),edgeConfigOverrides:Mo,advertising:Ao({handleAdvertisingData:jo(aa,ra,ia).default(aa)})}).required().noUnknownFields()(e),ni=({options:e})=>Ao({renderDecisions:So(),responseHeaders:Ro(No().required()),responseBody:Ao({handle:ko(Ao({type:No().required(),payload:Do().required()})).required()}).required(),personalization:Ao({sendDisplayEvent:So().default(!0),decisionContext:Ao({})}).default({sendDisplayEvent:!0})}).noUnknownFields()(e);const oi=({eventManager:e,logger:t})=>({commands:{sendEvent:{documentationUri:"https://adobe.ly/3GQ3Q7t",optionsValidator:e=>ti({options:e}),run:n=>{const{xdm:o,data:a,documentUnloading:r,type:i,mergeId:s,datasetId:c,edgeConfigOverrides:d,...l}=n,u=e.createEvent();return r&&u.documentMayUnload(),u.setUserXdm(o),u.setUserData(a),i&&u.mergeXdm({eventType:i}),s&&u.mergeXdm({eventMergeId:s}),d&&(l.edgeConfigOverrides=d),c&&(t.warn("The 'datasetId' option has been deprecated. Please use 'edgeConfigOverrides.com_adobe_experience_platform.datasets.event.datasetId' instead."),l.edgeConfigOverrides=d||{},he(l.edgeConfigOverrides,{com_adobe_experience_platform:{datasets:{event:{datasetId:c}}}})),e.sendEvent(u,l)}},applyResponse:{documentationUri:"",optionsValidator:e=>ni({options:e}),run:t=>{const{renderDecisions:n=!1,decisionContext:o={},responseHeaders:a={},responseBody:r={handle:[]},personalization:i}=t,s=e.createEvent();return e.applyResponse(s,{renderDecisions:n,decisionContext:o,responseHeaders:a,responseBody:r,personalization:i})}}}});oi.namespace="DataCollector";const ai=(e,t)=>"ID sync "+(t?"succeeded":"failed")+": "+e.spec.url;var ri=({fireReferrerHideableImage:e,logger:t})=>n=>{const o=n.filter((e=>"url"===e.type));return o.length?Promise.all(o.map((n=>e(n.spec).then((()=>{t.info(ai(n,!0))})).catch((()=>{t.error(ai(n,!1))}))))).then(Zt):Promise.resolve()};const ii=Ao({thirdPartyCookiesEnabled:So().default(!0),idMigrationEnabled:So().default(!0)});var si=Ao({url:No().required().nonEmpty(),edgeConfigOverrides:Mo}).required().noUnknownFields(),ci="ECID",di=({addEcidQueryToPayload:e,addQueryStringIdentityToPayload:t,ensureSingleIdentity:n,setLegacyEcid:o,handleResponseForIdSyncs:a,getNamespacesFromResponse:r,getIdentity:i,consent:s,appendIdentityToUrl:c,logger:d,identity:l,getIdentityOptionsValidator:u})=>{let p,m={};return{lifecycle:{onBeforeRequest:({request:o,onResponse:a,onRequestFailure:r})=>(e(o.getPayload()),t(o.getPayload()),n({request:o,onResponse:a,onRequestFailure:r})),onResponse({response:e}){const t=r(e);return p&&p[ci]||!t||!t[ci]||o(t[ci]),t&&Object.keys(t).length>0&&(p={...p,...t}),m={...m,...e.getEdge()},l.setIdentityAcquired(),a(e)}},commands:{getIdentity:{optionsValidator:u,run:e=>{const{namespaces:t}=e;return s.awaitConsent().then((()=>{if(p)return;const n=l.getEcidFromCookie();return n&&t.includes(ci)&&(p||(p={}),p[ci]=n,1===t.length)?void 0:i(e)})).then((()=>({identity:t.reduce(((e,t)=>(e[t]=p[t]||null,e)),{}),edge:m})))}},appendIdentityToUrl:{optionsValidator:si,run:e=>s.withConsent().then((()=>{if(p)return;const t=l.getEcidFromCookie();return t?(p||(p={}),void(p[ci]=t)):i(e)})).then((()=>({url:c(p[ci],e.url)}))).catch((t=>(d.warn("Unable to append identity to url. "+t.message),e)))}}}},li=({config:e,getEcidFromVisitor:t,apexDomain:n,isPageSsl:o,cookieJar:a})=>{const{idMigrationEnabled:r,orgId:i}=e,s="AMCV_"+i,c=()=>{let e=null;const t="s_ecid",n=a.get(t)||a.get(s);if(n){const t=/(^|\|)MCMID\|(\d+)($|\|)/,o=n.match(t);o&&(e=o[2])}return e};return{getEcid(){if(r){const e=c();return e?Promise.resolve(e):t()}return Promise.resolve()},setEcid(e){if(r&&c()!==e){const t=o?{sameSite:"none",secure:!0}:{};a.set(s,"MCMID|"+e,{domain:n,expires:390,...t})}}}},ui=({logger:e})=>new Promise(((t,n)=>{if(de(window.adobe)&&de(window.adobe.optIn)){const o=window.adobe.optIn;e.info("Delaying request while waiting for legacy opt-in to let Visitor retrieve ECID from server."),o.fetchPermissions((()=>{o.isApproved([o.Categories.ECID])?(e.info("Received legacy opt-in approval to let Visitor retrieve ECID from server."),t()):n(new Error("Legacy opt-in was declined."))}),!0)}else t()})),pi=e=>{const t=e.Visitor;return Le(t)&&Le(t.getInstance)&&t},mi=({logger:e,orgId:t,awaitVisitorOptIn:n})=>()=>{const o=pi(window);return o?n({logger:e}).then((()=>(e.info("Delaying request while using Visitor to retrieve ECID from server."),new Promise((n=>{o.getInstance(t,{}).getMarketingCloudVisitorID((t=>{e.info("Resuming previously delayed request that was waiting for ECID from Visitor."),n(t)}),!0)}))))).catch((t=>{t?e.info(t.message+", retrieving ECID from experience edge"):e.info("An error occurred while obtaining the ECID from Visitor.")})):Promise.resolve()},gi=({processIdSyncs:e})=>t=>e(t.getPayloadsByType("identity:exchange")),fi=({doesIdentityCookieExist:e,setDomainForInitialIdentityPayload:t,addLegacyEcidToPayload:n,awaitIdentityCookie:o,logger:a})=>{let r;const i=e=>(t(e),n(e.getPayload()));return({request:t,onResponse:n,onRequestFailure:s})=>{if(e())return t.setIsIdentityEstablished(),Promise.resolve();if(r){a.info("Delaying request while retrieving ECID from server.");const e=r;return r=e.catch((()=>o({onResponse:n,onRequestFailure:s}))),r.catch((()=>{})),e.then((()=>{a.info("Resuming previously delayed request."),t.setIsIdentityEstablished()})).catch((()=>i(t)))}return r=o({onResponse:n,onRequestFailure:s}),r.catch((()=>{})),i(t)}},hi="CORE",bi=({thirdPartyCookiesEnabled:e,areThirdPartyCookiesSupportedByDefault:t})=>{const n={identity:{fetch:[ci]}};return e&&t()&&n.identity.fetch.push(hi),e=>{e.mergeQuery(n)}},vi=({thirdPartyCookiesEnabled:e,areThirdPartyCookiesSupportedByDefault:t})=>n=>{e&&t()&&n.setUseIdThirdPartyDomain()},yi=({getLegacyEcid:e,addEcidToPayload:t})=>n=>n.hasIdentity(ci)?Promise.resolve():e().then((e=>{e&&t(n,e)})),wi="adobe_mc",_i=e=>{try{return decodeURIComponent(e)}catch{return""}};const Ci=300;var Ei=({locationSearch:e,dateProvider:t,orgId:n,logger:o})=>a=>{if(a.hasIdentity(ci))return;let r=sn.parse(e)[wi];if(void 0===r)return;Array.isArray(r)&&(o.warn("Found multiple adobe_mc query string paramters, only using the last one."),r=r[r.length-1]);const i=r.split("|").reduce(((e,t)=>{const[n,o]=t.split("=");return e[n]=_i(o),e[n]=e[n].replace(/[^a-zA-Z0-9@.]/g,""),e}),{}),s=parseInt(i.TS,10),c=i.MCMID,d=_i(i.MCORGID);t().getTime()/1e3<=s+Ci&&d===n&&c?(o.info("Found valid ECID identity "+c+" from the adobe_mc query string parameter."),a.addIdentity(ci,{id:c})):o.info("Detected invalid or expired adobe_mc query string parameter.")},Ii=(e,t)=>{e.addIdentity(ci,{id:t})},Pi=({doesIdentityCookieExist:e,orgId:t,logger:n})=>({onResponse:o,onRequestFailure:a})=>new Promise(((r,i)=>{o((()=>{e()?r():(n.warn("Identity cookie not found. This could be caused by any of the following issues:\n\t* The org ID "+t+" configured in Alloy doesn't match the org ID specified in the edge configuration.\n\t* Experience edge was not able to set the identity cookie due to domain or cookie restrictions.\n\t* The request was canceled by the browser and not fully processed."),i(new Error("Identity cookie not found.")))})),a((()=>{e()?r():i(new Error("Identity cookie not found."))}))})),Di=e=>e.getPayloadsByType("identity:result").reduce(((e,t)=>(t.namespace&&t.namespace.code&&(e[t.namespace.code]=t.id),e)),{}),ki=({sendEdgeNetworkRequest:e,createIdentityRequestPayload:t,createIdentityRequest:n,globalConfigOverrides:o})=>({namespaces:a,edgeConfigOverrides:r}={})=>{const i=Qa({payload:t(a),globalConfigOverrides:o,localConfigOverrides:r}),s=n(i);return e({request:s})},Si=({payload:e,datastreamIdOverride:t})=>Ba({payload:e,datastreamIdOverride:t,getAction:()=>"identity/acquire",getUseSendBeacon:()=>!1}),xi=e=>{const t={query:{identity:{fetch:e}}};return Wa({content:t,addIdentity:Fa(t),hasIdentity:Ga(t)})};const Oi=/^([^?#]*)(\??[^#]*)(#?.*)$/,Ti=e=>""===e?"?":"?"===e?"":"&";var Ri=({dateProvider:e,orgId:t})=>(n,o)=>{const a=Math.round(e().getTime()/1e3),r=encodeURIComponent("TS="+a+"|MCMID="+n+"|MCORGID="+encodeURIComponent(t)),[,i,s,c]=o.match(Oi);return""+i+s+Ti(s)+"adobe_mc="+r+c};const Ai=Ao({namespaces:ko(jo(ci,hi)).nonEmpty().uniqueItems().default([ci]),edgeConfigOverrides:Mo}).noUnknownFields().default({namespaces:[ci]});var Ni=({thirdPartyCookiesEnabled:e})=>t=>{const n=Ai(t);if(!e&&n.namespaces.includes(hi))throw new Error("namespaces: The "+hi+" namespace cannot be requested when third-party cookies are disabled.");return n};const ji=({config:e,logger:t,consent:n,fireReferrerHideableImage:o,sendEdgeNetworkRequest:a,apexDomain:r,getBrowser:i,identity:s})=>{const{orgId:c,thirdPartyCookiesEnabled:d,edgeConfigOverrides:l}=e,u=mi({logger:t,orgId:c,awaitVisitorOptIn:ui}),p=ye({logger:t,cookieJar:ge}),m=li({config:e,getEcidFromVisitor:u,apexDomain:r,cookieJar:p,isPageSsl:"https:"===window.location.protocol}),g=Ft({orgId:c}),f=ki({sendEdgeNetworkRequest:a,createIdentityRequestPayload:xi,createIdentityRequest:Si,globalConfigOverrides:l}),h=Mt({getBrowser:i}),b=vi({thirdPartyCookiesEnabled:d,areThirdPartyCookiesSupportedByDefault:h}),v=yi({getLegacyEcid:m.getEcid,addEcidToPayload:Ii}),y=Ei({locationSearch:window.document.location.search,dateProvider:()=>new Date,orgId:c,logger:t}),w=Pi({doesIdentityCookieExist:g,orgId:c,logger:t}),_=fi({doesIdentityCookieExist:g,setDomainForInitialIdentityPayload:b,addLegacyEcidToPayload:v,awaitIdentityCookie:w,logger:t}),C=ri({fireReferrerHideableImage:o,logger:t}),E=gi({processIdSyncs:C}),I=Ri({dateProvider:()=>new Date,orgId:c}),P=Ni({thirdPartyCookiesEnabled:d}),D=bi({thirdPartyCookiesEnabled:d,areThirdPartyCookiesSupportedByDefault:h});return di({addEcidQueryToPayload:D,addQueryStringIdentityToPayload:y,ensureSingleIdentity:_,setLegacyEcid:m.setEcid,handleResponseForIdSyncs:E,getNamespacesFromResponse:Di,getIdentity:f,consent:n,identity:s,appendIdentityToUrl:I,logger:t,getIdentityOptionsValidator:P})};ji.namespace="Identity",ji.configValidators=ii;const Li=({config:e,componentRegistry:t})=>{const n=[...t.getCommandNames(),wa,_a].sort(),o={...e};Object.keys(e).forEach((t=>{const n=e[t];"function"==typeof n&&(o[t]=n.toString())}));const a=t.getComponentNames();return{version:qr,configs:o,commands:n,components:a}},Mi=({config:e,componentRegistry:t})=>({commands:{getLibraryInfo:{run:()=>({libraryInfo:Li({config:e,componentRegistry:t})})}}});Mi.namespace="LibraryInfo";var Vi=Object.freeze({__proto__:null,context:ei,dataCollector:oi,identity:ji,libraryInfo:Mi}),qi=({getLocationHint:e,getAssuranceValidationTokenParams:t,apiVersion:n,queryString:o})=>({edgeBasePath:a,endpointDomain:r,request:i,datastreamId:s})=>{const c=i.getRequestParams(),d=e(),l=d?a+"/"+d+i.getEdgeSubPath():""+a+i.getEdgeSubPath(),u=i.getDatastreamIdOverride()||s;c.requestId=i.getId(),u!==s&&i.getPayload().mergeMeta({sdkConfig:{datastream:{original:s}}}),c.configId=u;const p=o.stringify({...c,...t()});return"https://"+r+"/"+l+"/"+n+"/"+i.getAction()+"?"+p},Ui="v1";const Fi=Wt(window),{console:Bi,fetch:Hi,navigator:zi}=window,Wi=ja(),Gi=Et(window,ge),Ji=Ma({fetch:Hi}),Qi=ft(),Ki=Za({window:window,createNamespacedStorage:Fi}),Xi=Ht({userAgent:window.navigator.userAgent}),$i=({instanceName:e,logController:{setDebugEnabled:t,logger:n,createComponentLogger:o},components:a})=>{const r=Go(),i=zo(r),s=a.concat(Object.values(Vi)),c=e=>{t(e.enabled,{fromConfig:!1})},d=ye({logger:n,cookieJar:ge}),l=a=>{const c=xa({options:a,componentCreators:s,coreConfigValidators:Wi,createConfig:Ta,logger:n,setDebugEnabled:t}),{orgId:l,targetMigrationEnabled:u}=c,p=sr({orgId:l,targetMigrationEnabled:u}),m=or({cookieJar:d,shouldTransferCookie:p,apexDomain:Gi,dateProvider:()=>new Date}),g=Le(zi.sendBeacon)?Va({sendBeacon:zi.sendBeacon.bind(zi),sendFetchRequest:Ji,logger:n}):Ji,f=Jo({logger:n,sendFetchRequest:Ji,sendBeaconRequest:g,isRequestRetryable:_r,getRequestRetryDelay:kr}),h=br({logger:n}),b=Qo({logger:n}),v=ya({extractEdgeInfo:b}),y=vr({orgId:l,cookieJar:ge}),w=qi({getLocationHint:y,getAssuranceValidationTokenParams:Ki,apiVersion:Ui,queryString:sn}),_=gr({config:c,lifecycle:i,cookieTransfer:m,sendNetworkRequest:f,createResponse:v,processWarningsAndErrors:h,buildEndpointUrl:w}),C=xr({lifecycle:i,cookieTransfer:m,createResponse:v,processWarningsAndErrors:h}),E=ma({logger:n}),I=ga({generalConsentState:E,logger:n}),P=ea({config:c,logger:n,loggingCookieJar:d});P.initialize();const D=tr({config:c,logger:n,lifecycle:i,consent:I,createEvent:ha,createDataCollectionRequestPayload:Ja,createDataCollectionRequest:Ha,sendEdgeNetworkRequest:_,applyResponse:C});return Oa({componentCreators:s,lifecycle:i,componentRegistry:r,getImmediatelyAvailableTools(t){const n=o(t);return{loggingCookieJar:d,instanceName:e,config:c,componentRegistry:r,consent:I,identity:P,eventManager:D,fireReferrerHideableImage:Qi,logger:n,lifecycle:i,sendEdgeNetworkRequest:_,handleError:La({errorPrefix:"["+e+"] ["+t+"]",logger:n}),createNamespacedStorage:Fi,apexDomain:Gi,getBrowser:Xi}}})},u=La({errorPrefix:"["+e+"]",logger:n});return Ca({logger:n,configureCommand:l,setDebugCommand:c,handleError:u,validateCommandOptions:Ia})};var Yi=({components:e})=>{const t=window.__alloyNS;t&&t.forEach((t=>{const n=Uo({console:Bi,locationSearch:window.location.search,createLogger:qa,instanceName:t,createNamespacedStorage:Fi,getMonitors:Or}),o=$i({instanceName:t,logController:n,components:e}),a=se(o),r=window[t].q;r.push=a,n.logger.logOnInstanceCreated({instance:a}),r.forEach(a)}))};const Zi=({eventManager:e,lifecycle:t,handleError:n})=>o=>{if(o.s_fe)return Promise.resolve();const a="composedPath"in o&&o.composedPath().length>0?o.composedPath()[0]:o.target,r=e.createEvent();return r.documentMayUnload(),t.onClick({event:r,clickedElement:a}).then((()=>r.isEmpty()?Promise.resolve():e.sendEvent(r))).then(Zt).catch((e=>{n(e,"click collection")}))};var es=({eventManager:e,lifecycle:t,handleError:n})=>{const o=Zi({eventManager:e,lifecycle:t,handleError:n});document.addEventListener("click",o,!0)};const ts="\\.(exe|zip|wav|mp3|mov|mpg|avi|wmv|pdf|doc|docx|xls|xlsx|ppt|pptx)$",ns=No().regexp().default(ts),os=Ao({clickCollectionEnabled:So().default(!0),clickCollection:Ao({internalLinkEnabled:So().default(!0),externalLinkEnabled:So().default(!0),downloadLinkEnabled:So().default(!0),sessionStorageEnabled:So().default(!1),eventGroupingEnabled:So().default(!1),filterClickProperties:xo()}).default({internalLinkEnabled:!0,externalLinkEnabled:!0,downloadLinkEnabled:!0,sessionStorageEnabled:!1,eventGroupingEnabled:!1}),downloadLinkQualifier:ns,onBeforeLinkClickSend:xo().deprecated('The field "onBeforeLinkClickSend" has been deprecated. Use "clickCollection.filterClickDetails" instead.')}),as="cppXYctnr";var rs=(e=document)=>null!==e.getElementById(as),is=e=>{let t=e;return/^https?:\/\//i.test(t)||(t=window.location.protocol+"//"+e),new URL(t).hostname},ss=(e,t)=>is(e)!==is(t);const cs=(e,t)=>t&&("download"===t&&!e.downloadLinkEnabled||"exit"===t&&!e.externalLinkEnabled||"other"===t&&!e.internalLinkEnabled);var ds=({config:e,logger:t,getClickedElementProperties:n,clickActivityStorage:o})=>{const{clickCollectionEnabled:a,clickCollection:r}=e;return a?({event:a,clickedElement:i})=>{const s=n({clickActivityStorage:o,clickedElement:i,config:e,logger:t}),c=s.linkType;rs()||(s.isValidLink()&&cs(r,c)?t.info("Cancelling link click event due to clickCollection."+c+"LinkEnabled = false."):!s.isInternalLink()||!r.eventGroupingEnabled||e.onBeforeLinkClickSend&&!r.filterClickDetails||ss(window.location.hostname,s.linkUrl)?s.isValidLink()?(a.mergeXdm(s.xdm),a.mergeData(s.data),o.save({pageName:s.pageName,pageIDType:s.pageIDType})):s.isValidActivityMapData()&&o.save(s.properties):o.save(s.properties))}:()=>{}};const ls=e=>({eventType:"web.webinteraction.linkClicks",web:{webInteraction:{name:e.linkName,region:e.linkRegion,type:e.linkType,URL:e.linkUrl,linkClicks:{value:1}}}}),us=e=>({__adobe:{analytics:{contextData:{a:{activitymap:{page:e.pageName,link:e.linkName,region:e.linkRegion,pageIDType:e.pageIDType}}}}}}),ps=(e,t)=>{const{xdm:n,data:o,clickedElement:a}=e;if(t.clickedElement=a,n&&n.web&&n.web.webInteraction){const{name:e,region:o,type:a,URL:r}=n.web.webInteraction;t.linkName=e,t.linkRegion=o,t.linkType=a,t.linkUrl=r}if(o&&o.__adobe&&o.__adobe.analytics){const{contextData:e}=o.__adobe.analytics;if(e&&e.a&&e.a.activitymap){const{page:n,link:o,region:a,pageIDType:r}=e.a.activitymap;t.pageName=n||t.pageName,t.linkName=o||t.linkName,t.linkRegion=a||t.linkRegion,void 0!==r&&(t.pageIDType=r)}}};var ms=({properties:e,logger:t}={})=>{let n=e||{};return{get pageName(){return n.pageName},set pageName(e){n.pageName=e},get linkName(){return n.linkName},set linkName(e){n.linkName=e},get linkRegion(){return n.linkRegion},set linkRegion(e){n.linkRegion=e},get linkType(){return n.linkType},set linkType(e){n.linkType=e},get linkUrl(){return n.linkUrl},set linkUrl(e){n.linkUrl=e},get pageIDType(){return n.pageIDType},set pageIDType(e){n.pageIDType=e},get clickedElement(){return n.clickedElement},set clickedElement(e){n.clickedElement=e},get properties(){return{pageName:n.pageName,linkName:n.linkName,linkRegion:n.linkRegion,linkType:n.linkType,linkUrl:n.linkUrl,pageIDType:n.pageIDType}},isValidLink:()=>!!(n.linkUrl&&n.linkType&&n.linkName&&n.linkRegion),isInternalLink(){return this.isValidLink()&&"other"===n.linkType},isValidActivityMapData:()=>!!n.pageName&&!!n.linkName&&!!n.linkRegion&&void 0!==n.pageIDType,get xdm(){return n.filteredXdm?n.filteredXdm:ls(this)},get data(){return n.filteredData?n.filteredData:us(this)},applyPropertyFilter(e){e&&!1===e(n)&&(t&&t.info("Clicked element properties were rejected by filter function: "+JSON.stringify(this.properties,null,2)),n={})},applyOptionsFilter(e){const o=this.options;if(o&&o.clickedElement&&(o.xdm||o.data)){if(e&&!1===e(o))return t&&t.info("Clicked element properties were rejected by filter function: "+JSON.stringify(this.properties,null,2)),void(this.options=void 0);this.options=o,n.filteredXdm=o.xdm,n.filteredData=o.data}},get options(){const e={};if(this.isValidLink()&&(e.xdm=this.xdm),this.isValidActivityMapData()&&(e.data=this.data),this.clickedElement&&(e.clickedElement=this.clickedElement),e.xdm||e.data)return e},set options(e){n={},e&&ps(e,n)}}},gs=({clickActivityStorage:e})=>t=>{if(rs())return;const n=e.load(),o=ms({properties:n});if(o.isValidLink()||o.isValidActivityMapData()){if(o.isValidLink()){const e=o.xdm;delete e.eventType,t.mergeXdm(e)}o.isValidActivityMapData()&&t.mergeData(o.data),e.save({pageName:o.pageName,pageIDType:o.pageIDType})}},fs=({window:e,getLinkName:t,getLinkRegion:n,getAbsoluteUrlFromAnchorElement:o,findClickableElement:a,determineLinkType:r})=>({clickedElement:i,config:s,logger:c,clickActivityStorage:d})=>{const{onBeforeLinkClickSend:l,clickCollection:u}=s,{filterClickDetails:p}=u,m=ms({logger:c});if(i){const c=a(i);if(c){m.clickedElement=i,m.linkUrl=o(e,c),m.linkType=r(e,s,m.linkUrl,c),m.linkRegion=n(c),m.linkName=t(c),m.pageIDType=0,m.pageName=e.location.href;const a=d.load();a&&a.pageName&&(m.pageName=a.pageName,m.pageIDType=1),p?m.applyPropertyFilter(p):l&&m.applyOptionsFilter(l)}}return m};const hs="clickData";var bs=({storage:e})=>({save:t=>{const n=JSON.stringify(t);e.setItem(hs,n)},load:()=>{let t=null;const n=e.getItem(hs);return n&&(t=JSON.parse(n)),t},remove:()=>{e.removeItem(hs)}}),vs=({clickActivityStorage:e})=>t=>{e.save({pageName:t.getContent().xdm.web.webPageDetails.name,pageIDType:1})},ys=(e,t)=>{const{clickCollectionEnabled:n,onBeforeLinkClickSend:o,downloadLinkQualifier:a}=e;!1===n&&(o&&t.warn("The 'onBeforeLinkClickSend' configuration was provided but will be ignored because clickCollectionEnabled is false."),a&&a!==ts&&t.warn("The 'downloadLinkQualifier' configuration was provided but will be ignored because clickCollectionEnabled is false."))},ws=e=>e&&e.replace(/\s+/g," ").trim();const _s=/^(SCRIPT|STYLE|LINK|CANVAS|NOSCRIPT|#COMMENT)$/i;var Cs=e=>!(e&&e.nodeName&&e.nodeName.match(_s));const Es=e=>{let t=[],n=!1;return Cs(e)?(t.push(e),e.childNodes&&Array.prototype.slice.call(e.childNodes).forEach((e=>{const o=Es(e);t=t.concat(o.supportedNodes),n=n||o.includesUnsupportedNodes}))):n=!0,{supportedNodes:t,includesUnsupportedNodes:n}},Is=(e,t,n)=>{let o;return n&&n!==e.nodeName.toUpperCase()||(o=e.getAttribute(t)),o
},Ps=e=>{const t={texts:[]};return e.supportedNodes.forEach((e=>{e.getAttribute&&(t.alt||(t.alt=ws(e.getAttribute("alt"))),t.title||(t.title=ws(e.getAttribute("title"))),t.inputValue||(t.inputValue=ws(Is(e,"value","INPUT"))),t.imgSrc||(t.imgSrc=ws(Is(e,"src","IMG")))),e.nodeValue&&t.texts.push(e.nodeValue)})),t},Ds=/^(HEADER|MAIN|FOOTER|NAV)$/i,ks=e=>{let t;return"region"===e.role&&Yt(e["aria-label"])&&(t=e["aria-label"]),t},Ss=e=>{let t;return e&&e.nodeName&&e.nodeName.match(Ds)&&(t=e.nodeName),t};var xs=(e,t)=>{const n=e.location.href;let o=t.href||"";"string"!=typeof o&&(o="");try{return new URL(o,n).href}catch{return n}},Os=e=>!(!e.href||"A"!==e.tagName&&"AREA"!==e.tagName||e.onclick&&e.protocol&&!(e.protocol.toLowerCase().indexOf("javascript")<0)),Ts=e=>!!e&&!!e.onclick,Rs=e=>{if("INPUT"===e.tagName){const t=e.getAttribute("type");if("submit"===t)return!0;if("image"===t&&e.src)return!0}return!1},As=e=>"BUTTON"===e.tagName&&"submit"===e.type,Ns=e=>{const t=e.indexOf("?"),n=e.indexOf("#");return t>=0&&(t<n||n<0)?e.substring(0,t):n>=0?e.substring(0,n):e},js=(e,t,n)=>{let o=!1;if(t)if(n&&n.download)o=!0;else if(e){const n=new RegExp(e),a=Ns(t).toLowerCase();o=n.test(a)}return o},Ls=(e,t)=>{let n=!1;if(t&&e.location.hostname){const o=e.location.hostname.toLowerCase();n=Ns(t).toLowerCase().indexOf(o)<0}return n},Ms=e=>{const t=e.getContent();return void 0!==t.xdm&&void 0!==t.xdm.web&&void 0!==t.xdm.web.webPageDetails&&void 0!==t.xdm.web.webPageDetails.name},Vs=()=>{const e={};return{getItem:t=>e[t],setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}};const qs=fs({window:window,getLinkName:e=>{let t=ws(e.innerText||e.textContent);const n=Es(e);if(!t||n.includesUnsupportedNodes){const e=Ps(n);t=ws(e.texts.join("")),t||(t=e.alt||e.title||e.inputValue||e.imgSrc)}return t||""},getLinkRegion:e=>{let t,n=e.parentNode;for(;n;){if(t=ws(n.id||ks(n)||Ss(n)),t)return t;n=n.parentNode}return"BODY"},getAbsoluteUrlFromAnchorElement:xs,findClickableElement:e=>{let t=e;for(;t&&(!t.nodeName||"BODY"!==t.nodeName);){if(Os(t)||Ts(t)||Rs(t)||As(t))return t;t=t.parentNode}return null},determineLinkType:(e,t,n,o)=>{let a="other";return Yt(n)&&(js(t.downloadLinkQualifier,n,o)?a="download":Ls(e,n)&&(a="exit")),a}});let Us;const Fs=e=>{if(!Us){const t=Wt(window)(e.orgId||""),n=Vs(),o=e.clickCollection.sessionStorageEnabled?t.session:n;Us=bs({storage:o})}},Bs=({config:e,eventManager:t,handleError:n,logger:o})=>{ys(e,o);const a=e.clickCollection;Us||Fs(e);const r=ds({config:e,logger:o,clickActivityStorage:Us,getClickedElementProperties:qs}),i=gs({clickActivityStorage:Us}),s=vs({clickActivityStorage:Us});return{lifecycle:{onComponentsRegistered(e){const{lifecycle:o}=e;es({eventManager:t,lifecycle:o,handleError:n})},onClick({event:e,clickedElement:t}){r({event:e,clickedElement:t})},onBeforeEvent({event:e}){Ms(e)&&(a.eventGroupingEnabled&&i(e),s(e,o,Us))}}}};Bs.namespace="ActivityCollector",Bs.configValidators=os,Bs.buildOnInstanceConfiguredExtraParams=({config:e,logger:t})=>(Us||Fs(e),{getLinkDetails:n=>qs({clickActivityStorage:Us,clickedElement:n,config:e,logger:t}).properties});const Hs=e=>"URL destination succeeded: "+e.spec.url;var zs=({fireReferrerHideableImage:e,logger:t,cookieJar:n,isPageSsl:o})=>{const a=o?{sameSite:"none",secure:!0}:{},r=e=>{e.filter((e=>"cookie"===e.type)).forEach((e=>{const{name:t,value:o,domain:r,ttlDays:i}=e.spec;n.set(t,o||"",{domain:r||"",expires:i||10,...a})}))},i=n=>{const o=n.filter((e=>"url"===e.type));return Promise.all(o.map((n=>e(n.spec).then((()=>{t.info(Hs(n))})).catch((()=>{}))))).then(Zt)};return e=>(r(e),i(e))},Ws=({processDestinations:e})=>{const t=({response:t})=>{const n=t.getPayloadsByType("activation:push");return e(n)},n=({response:e})=>({destinations:e.getPayloadsByType("activation:pull")});return({response:e})=>{var o=window,a=o._satellite,r={destinations:[]};return o.marketingtech?.marketingTags?.disableGlobalTags||a.getVar("isStudent")?r:(Promise.resolve().then((function(){return o.milo?.deferredPromise})).then((()=>new Promise((e=>{"complete"===document.readyState?e():o.addEventListener("load",e)})))).then((()=>new Promise((e=>{setTimeout(e,4e3)})))).then((()=>a.getVar("consent")?.C0004)).then((()=>t({response:e}))),n({response:e}))}};const Gs=({logger:e,fireReferrerHideableImage:t})=>{const n=ge.withConverter({write:e=>encodeURIComponent(e)}),o=ye({logger:e,cookieJar:n}),a=zs({fireReferrerHideableImage:t,logger:e,cookieJar:o,isPageSsl:"https:"===window.location.protocol});return{lifecycle:{onResponse:Ws({processDestinations:a})},commands:{}}};Gs.namespace="Audiences";var Js=({storedConsent:e,taskQueue:t,defaultConsent:n,consent:o,sendSetConsentRequest:a,validateSetConsentOptions:r,consentHashStore:i,doesIdentityCookieExist:s})=>{const c={[sa]:n};let d=e.read();const l=s(),u=void 0!==d[sa];l&&u||i.clear(),l||(e.clear(),d={}),o.initializeConsent(c,d);const p=()=>{if(0===t.length){const t=e.read();void 0!==t[sa]&&o.setConsent(t)}};return{commands:{setConsent:{optionsValidator:r,run:({consent:e,identityMap:n,edgeConfigOverrides:r})=>{o.suspend();const s=i.lookup(e);return t.addTask((()=>s.isNew()?a({consentOptions:e,identityMap:n,edgeConfigOverrides:r}):Promise.resolve())).then((()=>s.save())).finally(p)}}},lifecycle:{onResponse:p,onRequestFailure:p}}},Qs=e=>yt(JSON.stringify(dn(e)));const Ks=({standard:e,version:t})=>e+"."+t;var Xs=({storage:e})=>({clear(){e.clear()},lookup(t){const n={},o=e=>{const t=Ks(e),{standard:o,version:a,...r}=e;return n[t]||(n[t]=Qs(r).toString()),n[t]};return{isNew:()=>t.some((t=>{const n=Ks(t),a=e.getItem(n);return null===a||a!==o(t)})),save(){t.forEach((t=>{const n=Ks(t);e.setItem(n,o(t))}))}}}}),$s=()=>{const e={};return{...Wa({content:e,addIdentity:(t,n)=>{e.identityMap=e.identityMap||{},e.identityMap[t]=e.identityMap[t]||[],e.identityMap[t].push(n)},hasIdentity:t=>void 0!==(e.identityMap&&e.identityMap[t])}),setConsent:t=>{e.consent=t}}},Ys=({payload:e,datastreamIdOverride:t})=>Ba({payload:e,datastreamIdOverride:t,getAction:()=>"privacy/set-consent",getUseSendBeacon:()=>!1}),Zs=({parseConsentCookie:e,orgId:t,cookieJar:n})=>{const o=Dt(t,qt);return{read(){const t=n.get(o);return t?e(t):{}},clear(){n.remove(o)}}},ec=({createConsentRequestPayload:e,createConsentRequest:t,sendEdgeNetworkRequest:n,edgeConfigOverrides:o})=>({consentOptions:a,identityMap:r,edgeConfigOverrides:i})=>{const s=Qa({payload:e(),globalConfigOverrides:o,localConfigOverrides:i});s.payload.setConsent(a),de(r)&&Object.keys(r).forEach((e=>{r[e].forEach((t=>{s.payload.addIdentity(e,t)}))}));const c=t(s);return n({request:c}).then((()=>{}))},tc=e=>e.split(";").reduce(((e,t)=>{const[n,o]=t.split("=");return e[n]=o,e}),{}),nc=Ao({consent:ko(Do()).required().nonEmpty(),identityMap:Lo,edgeConfigOverrides:Mo}).noUnknownFields().required(),oc=Ao({defaultConsent:jo(ta,na,oa).default(ta)});const ac=({config:e,consent:t,sendEdgeNetworkRequest:n,createNamespacedStorage:o})=>{const{orgId:a,defaultConsent:r}=e,i=Zs({parseConsentCookie:tc,orgId:a,cookieJar:ge}),s=we(),c=ec({createConsentRequestPayload:$s,createConsentRequest:Ys,sendEdgeNetworkRequest:n,edgeConfigOverrides:e.edgeConfigOverrides}),d=o(Pt(a)+".consentHashes."),l=Xs({storage:d.persistent}),u=Ft({orgId:a});return Js({storedConsent:i,taskQueue:s,defaultConsent:r,consent:t,sendSetConsentRequest:c,validateSetConsentOptions:nc,consentHashStore:l,doesIdentityCookieExist:u})};ac.namespace="Consent",ac.configValidators=oc;var rc=()=>({eventMergeId:i()}),ic=({createEventMergeId:e})=>({commands:{createEventMergeId:{run:e}}});const sc=()=>ic({createEventMergeId:rc});sc.namespace="EventMerge";var cc={PAUSE:"media.pauseStart",PLAY:"media.play",BUFFER_START:"media.bufferStart",AD_START:"media.adStart",Ad_BREAK_START:"media.adBreakStart",SESSION_END:"media.sessionEnd",SESSION_START:"media.sessionStart",SESSION_COMPLETE:"media.sessionComplete",PING:"media.ping",AD_BREAK_COMPLETE:"media.adBreakComplete",AD_COMPLETE:"media.adComplete",AD_SKIP:"media.adSkip",BITRATE_CHANGE:"media.bitrateChange",CHAPTER_COMPLETE:"media.chapterComplete",CHAPTER_SKIP:"media.chapterSkip",CHAPTER_START:"media.chapterStart",ERROR:"media.error",STATES_UPDATE:"media.statesUpdate"},dc=({mediaRequestPayload:e,action:t})=>Ba({payload:e,edgeSubPath:"/va",getAction:()=>t,getUseSendBeacon:()=>!1}),lc=({config:e,eventManager:t,consent:n,sendEdgeNetworkRequest:o,setTimestamp:a})=>({createMediaEvent({options:n}){const o=t.createEvent(),{xdm:r}=n;if(a(r),o.setUserXdm(r),r.eventType===cc.AD_START){const{advertisingDetails:t}=n.xdm.mediaCollection;o.mergeXdm({mediaCollection:{advertisingDetails:{playerName:t.playerName||e.streamingMedia.playerName}}})}return o},createMediaSession(n){const{playerName:o,channel:a,appVersion:r}=e.streamingMedia,i=t.createEvent(),{sessionDetails:s}=n.xdm.mediaCollection;return i.setUserXdm(n.xdm),i.mergeXdm({eventType:cc.SESSION_START,mediaCollection:{sessionDetails:{playerName:s.playerName||o,channel:s.channel||a,appVersion:s.appVersion||r}}}),i},augmentMediaEvent({event:e,playerId:t,getPlayerDetails:n,sessionID:o}){if(!t||!n)return e;const{playhead:a,qoeDataDetails:r}=n({playerId:t});return e.mergeXdm({mediaCollection:{playhead:gn(a),qoeDataDetails:r,sessionID:o}}),e},trackMediaSession({event:e,mediaOptions:n,edgeConfigOverrides:o}){const a={mediaOptions:n,edgeConfigOverrides:o};return t.sendEvent(e,a)},trackMediaEvent({event:e,action:t}){const a=Ja(),r=dc({mediaRequestPayload:a,action:t});return a.addEvent(e),e.finalize(),n.awaitConsent().then((()=>o({request:r}).then((()=>({})))))}}),uc={MAIN:"main",COMPLETED:"completed"},pc=()=>{let e;return{getSession:t=>e[t]||{},storeSession:({playerId:t,sessionDetails:n})=>{void 0===e&&(e={}),e[t]=n},stopPing:({playerId:t})=>{const n=e[t];n&&(clearTimeout(n.pingId),n.pingId=null,n.playbackState=uc.COMPLETED)},savePing:({playerId:t,pingId:n,playbackState:o})=>{e[t]&&(e[t].pingId&&clearTimeout(e[t].pingId),e[t].pingId=n,e[t].playbackState=o)}}};const mc=(e,t)=>e===cc.AD_START||e===cc.Ad_BREAK_START||e===cc.AD_SKIP||e===cc.AD_COMPLETE?"ad":e===cc.AD_BREAK_COMPLETE||e===cc.CHAPTER_COMPLETE||e===cc.CHAPTER_START||e===cc.CHAPTER_SKIP||e===cc.SESSION_START?"main":e===cc.SESSION_END||e===cc.SESSION_COMPLETE?"completed":t;var gc=({mediaEventManager:e,mediaSessionCacheManager:t,config:n})=>{const o=a=>{const r=e.createMediaEvent({options:a}),{playerId:i,xdm:s}=a,{eventType:c}=s,d=c.split(".")[1],{getPlayerDetails:l,sessionPromise:u,playbackState:p}=t.getSession(i);return u.then((a=>a.sessionId?(e.augmentMediaEvent({event:r,eventType:c,playerId:i,getPlayerDetails:l,sessionID:a.sessionId}),e.trackMediaEvent({event:r,action:d}).then((()=>{if(i)if(c===cc.SESSION_COMPLETE||c===cc.SESSION_END)t.stopPing({playerId:i});else{const e=mc(c,p);if("completed"===e)return;const a="ad"===e?n.streamingMedia.adPingInterval:n.streamingMedia.mainPingInterval,r=setTimeout((()=>{const e={playerId:i,xdm:{eventType:cc.PING}};o(e)}),1e3*a);t.savePing({playerId:i,pingId:r,playbackState:e})}}))):Promise.reject(new Error("Failed to trigger media event: "+c+". Session ID is not available for playerId: "+i+"."))))};return e=>o(e)},fc=({config:e,mediaEventManager:t,mediaSessionCacheManager:n,legacy:o=!1})=>a=>{if(!e.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));const{playerId:r,getPlayerDetails:i,edgeConfigOverrides:s}=a,c=t.createMediaSession(a);t.augmentMediaEvent({event:c,playerId:r,getPlayerDetails:i});const d=t.trackMediaSession({event:c,mediaOptions:{playerId:r,getPlayerDetails:i,legacy:o},edgeConfigOverrides:s});return n.storeSession({playerId:r,sessionDetails:{sessionPromise:d,getPlayerDetails:i,playbackState:uc.MAIN}}),d},hc=e=>!$t(e)||!e.trim(),bc=({mediaSessionCacheManager:e,config:t,trackMediaEvent:n})=>({response:o,playerId:a,getPlayerDetails:r})=>{const i=o.getPayloadsByType("media-analytics:new-session");if(Me(i)){const{sessionId:o}=i[0];if(hc(o))return{};if(!a||!r)return{sessionId:o};const s=setTimeout((()=>{n({playerId:a,xdm:{eventType:cc.PING}})}),1e3*t.streamingMedia.mainPingInterval);return e.savePing({playerId:a,pingId:s,playbackState:uc.MAIN}),{sessionId:o}}return{}};const vc={Video:"video",Audio:"audio"},yc={VOD:"vod",Live:"live",Linear:"linear",Podcast:"podcast",Audiobook:"audiobook",AOD:"aod"},wc={FullScreen:"fullScreen",ClosedCaption:"closedCaptioning",Mute:"mute",PictureInPicture:"pictureInPicture",InFocus:"inFocus"},_c={AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",StateStart:"stateStart",StateEnd:"stateEnd"},Cc={SessionStart:"sessionStart",SessionEnd:"sessionEnd",SessionComplete:"sessionComplete",Play:"play",Pause:"pauseStart",Error:"error",StateUpdate:"statesUpdate"},Ec={MediaResumed:"media.resumed",GranularAdTracking:"media.granularadtracking"},Ic={Show:"a.media.show",Season:"a.media.season",Episode:"a.media.episode",AssetId:"a.media.asset",Genre:"a.media.genre",FirstAirDate:"a.media.airDate",FirstDigitalDate:"a.media.digitalDate",Rating:"a.media.rating",Originator:"a.media.originator",Network:"a.media.network",ShowType:"a.media.type",AdLoad:"a.media.adLoad",MVPD:"a.media.pass.mvpd",Authorized:"a.media.pass.auth",DayPart:"a.media.dayPart",Feed:"a.media.feed",StreamFormat:"a.media.format"},Pc={Artist:"a.media.artist",Album:"a.media.album",Label:"a.media.label",Author:"a.media.author",Station:"a.media.station",Publisher:"a.media.publisher"},Dc={Advertiser:"a.media.ad.advertiser",CampaignId:"a.media.ad.campaign",CreativeId:"a.media.ad.creative",PlacementId:"a.media.ad.placement",SiteId:"a.media.ad.site",CreativeUrl:"a.media.ad.creativeURL"};var kc=({trackMediaEvent:e,trackMediaSession:t,mediaResponseHandler:n,logger:o,createMediaHelper:a,createGetInstance:r,config:s})=>({lifecycle:{onBeforeEvent({mediaOptions:e,onResponse:t=Zt}){if(!e)return;const{legacy:o,playerId:a,getPlayerDetails:r}=e;o&&t((({response:e})=>n({playerId:a,getPlayerDetails:r,response:e})))}},commands:{getMediaAnalyticsTracker:{run:()=>{if(!s.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));o.info("Streaming media is configured in legacy mode.");const n=a({logger:o});return Promise.resolve({getInstance:()=>r({logger:o,trackMediaEvent:e,trackMediaSession:t,uuid:i}),Event:_c,MediaType:vc,PlayerState:wc,StreamType:yc,MediaObjectKey:Ec,VideoMetadataKeys:Ic,AudioMetadataKeys:Pc,AdMetadataKeys:Dc,...n})}}}}),Sc=({logger:e})=>{const t=(t,n,o)=>{const a={friendlyName:t,offset:n,index:o},r=Ao({friendlyName:No().nonEmpty(),offset:To(),index:To()});try{const e=r(a);return{advertisingPodDetails:{friendlyName:e.friendlyName,offset:e.offset,index:e.index}}}catch(t){return e.warn("An error occurred while creating the Ad Break Object.",t),{}}},n=(t,n,o,a)=>{const r={friendlyName:t,name:n,podPosition:o,length:a},i=Ao({friendlyName:No().nonEmpty(),name:No().nonEmpty(),podPosition:To(),length:To()});try{const e=i(r);return{advertisingDetails:{friendlyName:e.friendlyName,name:e.name,podPosition:e.podPosition,length:e.length}}}catch(t){return e.warn("An error occurred while creating the Advertising Object.",t),{}}},o=(t,n,o,a)=>{const r={friendlyName:t,offset:n,length:o,index:a},i=Ao({friendlyName:No().nonEmpty(),offset:To(),length:To(),index:To()});try{const e=i(r);return{chapterDetails:{friendlyName:e.friendlyName,offset:e.offset,index:e.index,length:e.length}}}catch(t){return e.warn("An error occurred while creating the Chapter Object.",t),{}}},a=t=>{const n=/^[a-zA-Z0-9_]{1,64}$/,o=No().matches(n,"This is not a valid state name.");try{return{name:o(t)}}catch(t){return e.warn("An error occurred while creating the State Object.",t),{}}},r=(t,n,o,a)=>{const r={bitrate:t,droppedFrames:n,fps:o,startupTime:a},i=Ao({bitrate:To(),droppedFrames:To(),fps:To(),startupTime:To()});try{const e=i(r);return{bitrate:e.bitrate,droppedFrames:e.droppedFrames,framesPerSecond:e.fps,timeToStart:e.startupTime}}catch(t){return e.warn("An error occurred while creating the QOE Object.",t),{}}};return{createMediaObject:(t,n,o,a,r)=>{const i={friendlyName:t,name:n,length:o,streamType:r,contentType:a},s=Ao({friendlyName:No().nonEmpty(),name:No().nonEmpty(),length:To().required(),streamType:No().nonEmpty(),contentType:No().nonEmpty()});try{const e=s(i);return{sessionDetails:{name:e.name,friendlyName:e.friendlyName,length:Math.round(e.length),streamType:e.streamType,contentType:e.contentType}}}catch(t){return e.warn("An error occurred while creating the Media Object.",t),{}}},createAdBreakObject:t,createAdObject:n,createChapterObject:o,createStateObject:a,createQoEObject:r}};const xc={"a.media.show":"show","a.media.season":"season","a.media.episode":"episode","a.media.asset":"assetID","a.media.genre":"genre","a.media.airDate":"firstAirDate","a.media.digitalDate":"firstDigitalDate","a.media.rating":"rating","a.media.originator":"originator","a.media.network":"network","a.media.type":"showType","a.media.adLoad":"adLoad","a.media.pass.mvpd":"mvpd","a.media.pass.auth":"authorized","a.media.dayPart":"dayPart","a.media.feed":"feed","a.media.format":"streamFormat","a.media.artist":"artist","a.media.album":"album","a.media.label":"label","a.media.author":"author","a.media.station":"station","a.media.publisher":"publisher","media.resumed":"hasResume"},Oc={"a.media.ad.advertiser":"advertiser","a.media.ad.campaign":"campaignID","a.media.ad.creative":"creativeID","a.media.ad.placement":"placementID","a.media.ad.site":"siteID","a.media.ad.creativeURL":"creativeURL"};var Tc=({logger:e,trackMediaSession:t,trackMediaEvent:n,uuid:o})=>{let a=null;const r=()=>{a={qoe:null,lastPlayhead:0,playerId:o()}},i=({eventType:e})=>e===_c.BufferComplete||e===_c.SeekComplete?Cc.Play:e===_c.StateStart||e===_c.StateEnd?Cc.StateUpdate:e===_c.SeekStart?Cc.Pause:e,s=({eventType:e,mediaDetails:t={},contextData:n=[]})=>{const o=i({eventType:e});if(e===_c.StateStart)return{eventType:"media."+o,mediaCollection:{statesStart:[t]}};if(e===_c.StateEnd)return{eventType:"media."+o,mediaCollection:{statesEnd:[t]}};const a={eventType:"media."+o,mediaCollection:{...t}},r=[];return Object.keys(n).forEach((e=>{xc[e]?a.mediaCollection.sessionDetails[xc[e]]=n[e]:Oc[e]?a.mediaCollection.advertisingDetails[Oc[e]]=n[e]:r.push({name:e,value:n[e]})})),Me(r)&&(a.mediaCollection.customMetadata=r),a};return{trackSessionStart:(n,o={})=>{if(ce(n)||ht(n))return e.warn("Invalid media object"),{};null===a&&(e.warn("The Media Session was completed. Restarting a new session."),r());const i=s({eventType:Cc.SessionStart,mediaDetails:n,contextData:o});return t({playerId:a.playerId,getPlayerDetails:()=>({playhead:a.lastPlayhead,qoeDataDetails:a.qoe}),xdm:i})},trackPlay:()=>{if(null===a)return e.warn("The Media Session was completed."),{};const t=s({eventType:Cc.Play});return n({playerId:a.playerId,xdm:t})},trackPause:()=>{if(null===a)return e.warn("The Media Session was completed."),{};const t=s({eventType:Cc.Pause});return n({playerId:a.playerId,xdm:t})},trackSessionEnd:()=>{if(null===a)return e.warn("The Media Session was completed."),{};const t=s({eventType:Cc.SessionEnd});return n({playerId:a.playerId,xdm:t})},trackComplete:()=>{if(null===a)return e.warn("The Media Session was completed."),{};const t=s({eventType:Cc.SessionComplete});return n({playerId:a.playerId,xdm:t})},trackError:t=>{if(e.warn("trackError("+t+")"),null===a)return e.warn("The Media Session was completed."),{};const o={name:t,source:"player"},r=s({eventType:Cc.Error,mediaDetails:{errorDetails:o}});return n({playerId:a.playerId,xdm:r})},trackEvent:(t,o,r)=>{if(ht(o))return e.warn("Invalid media object."),{};if(null===a)return e.warn("The Media Session was completed."),{};if(!Object.values(_c).includes(t))return e.warn("Invalid event type"),{};const i=s({eventType:t,mediaDetails:o,contextData:r});return n({playerId:a.playerId,xdm:i})},updatePlayhead:t=>{null!==a?Qt(t)&&(a.lastPlayhead=parseInt(t,10)):e.warn("The Media Session was completed.")},updateQoEObject:t=>{null!==a?t&&(a.qoe=t):e.warn("The Media Session was completed.")},destroy:()=>{e.warn("Destroy called, destroying the tracker."),a=null}}};const Rc=({eventManager:e,sendEdgeNetworkRequest:t,config:n,logger:o,consent:a})=>{const r=pc(),i=lc({sendEdgeNetworkRequest:t,config:n,consent:a,eventManager:e,setTimestamp:Mr((()=>new Date))}),s=gc({mediaSessionCacheManager:r,mediaEventManager:i,config:n}),c=fc({config:n,mediaEventManager:i,mediaSessionCacheManager:r,legacy:!0}),d=bc({mediaSessionCacheManager:r,config:n,trackMediaEvent:s});return kc({mediaResponseHandler:d,trackMediaSession:c,trackMediaEvent:s,createMediaHelper:Sc,createGetInstance:Tc,logger:o,config:n})};Rc.namespace="Legacy Media Analytics";const Ac="https://ns.adobe.com/personalization/default-content-item",Nc="https://ns.adobe.com/personalization/dom-action",jc="https://ns.adobe.com/personalization/html-content-item",Lc="https://ns.adobe.com/personalization/json-content-item",Mc="https://ns.adobe.com/personalization/ruleset-item",Vc="https://ns.adobe.com/personalization/redirect-item",qc="https://ns.adobe.com/personalization/message/in-app",Uc="https://ns.adobe.com/personalization/message/content-card",Fc="https://ns.adobe.com/personalization/eventHistoryOperation",Bc="web",Hc="webapp",zc="://",Wc="#",Gc=/^(\w+):\/\/([^/#]+)(\/[^#]*)?(#.*)?$/,Jc=/^(?:.*@)?(?:[a-z\d\u00a1-\uffff.-]+|\[[a-f\d:]+])(?::\d+)?$/,Qc=/^\/(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})*$/,Kc=/^#(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})+$/,Xc=(e="/")=>{let t=e.length;for(;t>0&&-1!=="/".indexOf(e.charAt(t-1));)t-=1;return e.substring(0,t)||"/"},$c=e=>Yt(e)?e.toLowerCase():"",Yc=e=>Yt(e)?e.toLowerCase():"",Zc=e=>Yt(e)?Xc(e):"/",ed=e=>{const t=e.match(Gc);return t?{surfaceType:$c(t[1]),authority:Yc(t[2]),path:Zc(t[3]),fragment:t[4]}:null},td=e=>""+e.surfaceType+zc+e.authority+(e.path||"")+(e.fragment||""),nd=e=>{const t=e(),n=t.host.toLowerCase(),o=t.pathname;return Bc+zc+n+Xc(o)},od=(e,t)=>e.startsWith(Wc)?nd(t)+e:e,ad=(e,t,n)=>{const o=e=>(n.warn(e),null);if(!Yt(e))return o("Invalid surface: "+e);const a=od(e,t),r=ed(a);return null===r?o("Invalid surface: "+e):[Bc,Hc].includes(r.surfaceType)?r.authority&&Jc.test(r.authority)?r.path&&!Qc.test(r.path)?o("Invalid path "+r.path+" in surface: "+e):r.fragment&&!Kc.test(r.fragment)?o("Invalid fragment "+r.fragment+" in surface: "+e):r:o("Invalid authority "+r.authority+" in surface: "+e):o("Unsupported surface type "+r.surfaceType+" in surface: "+e)},rd=(e=[],t,n)=>e.map((e=>ad(e,t,n))).filter((e=>!ce(e))).map(td),id=e=>{e.includes(Ua)||e.push(Ua)},sd=(e,t)=>{const n=nd(t);e.includes(n)||e.push(n)},cd=e=>e.filter(((t,n)=>e.indexOf(t)===n));var dd=({getPageLocation:e,renderDecisions:t,decisionScopes:n,personalization:o,event:a,isCacheInitialized:r,logger:i})=>{const s=a.getViewName();return{isRenderDecisions:()=>t,isSendDisplayEvent:()=>!!o.sendDisplayEvent,shouldIncludeRenderedPropositions:()=>!!o.includeRenderedPropositions,getViewName:()=>s,hasScopes:()=>n.length>0||Me(o.decisionScopes),hasSurfaces:()=>Me(o.surfaces),hasViewName:()=>Yt(s),createQueryDetails(){const t=[...n];Me(o.decisionScopes)&&t.push(...o.decisionScopes);const a=rd(o.surfaces,e,i);this.shouldRequestDefaultPersonalization()&&(id(t),sd(a,e));const r=[Ac,jc,Lc,Vc,Mc,qc,Uc];return t.includes(Ua)&&r.push(Nc),{schemas:r,decisionScopes:cd(t),surfaces:cd(a)}},isCacheInitialized:()=>r,shouldFetchData(){return this.hasScopes()||this.hasSurfaces()||this.shouldRequestDefaultPersonalization()},shouldUseCachedData(){return this.hasViewName()&&!this.shouldFetchData()},shouldRequestDefaultPersonalization(){return o.defaultPersonalizationEnabled||!this.isCacheInitialized()&&!1!==o.defaultPersonalizationEnabled}}};const ld="Rendering is disabled for authoring mode.",ud="decisioning.propositionDisplay",pd="decisioning.propositionInteract",md="decisioning.propositionTrigger",gd="decisioning.propositionDismiss",fd="decisioning.propositionSuppressDisplay",hd=1,bd={DISPLAY:"display",INTERACT:"interact",TRIGGER:"trigger",DISMISS:"dismiss",SUPPRESS:"suppressDisplay"},vd={[ud]:bd.DISPLAY,[pd]:bd.INTERACT,[md]:bd.TRIGGER,[gd]:bd.DISMISS,[fd]:bd.SUPPRESS},yd={[bd.DISPLAY]:ud,[bd.INTERACT]:pd,[bd.TRIGGER]:md,[bd.DISMISS]:gd,[bd.SUPPRESS]:fd},wd=e=>vd[e],_d=e=>yd[e],Cd={propositions:[]};var Ed=({logger:e,options:t})=>{const n=Ao({propositions:ko(Ao({id:No().required(),scope:No().required(),scopeDetails:Ao({decisionProvider:No().required()}).required(),items:ko(Ao({id:No().required(),schema:No().required(),data:Ao(Do())})).nonEmpty().required()}).required()).nonEmpty().required(),metadata:Ao(Do()),viewName:No()}).required();try{return n(t)}catch(t){return e.warn("Invalid options for applyPropositions. No propositions will be applied.",t),Cd}},Id=({getPageLocation:e,logger:t,fetchDataHandler:n,viewChangeHandler:o,onClickHandler:a,isAuthoringModeEnabled:r,mergeQuery:i,viewCache:s,showContainers:c,applyPropositions:d,setTargetMigration:l,mergeDecisionsMeta:u,renderedPropositions:p,onDecisionHandler:m,handleConsentFlicker:g})=>({lifecycle:{onComponentsRegistered(){g()},onDecision:m,onBeforeRequest:({request:e})=>(l(e),Promise.resolve()),onBeforeEvent({event:a,renderDecisions:d,decisionScopes:l=[],personalization:m={},onResponse:g=Zt,onRequestFailure:f=Zt}){if(g((()=>({propositions:[]}))),f((()=>c())),r())return t.warn(ld),i(a,{enabled:!1}),Promise.resolve();const h=dd({getPageLocation:e,renderDecisions:d,decisionScopes:l,personalization:m,event:a,isCacheInitialized:s.isInitialized(),logger:t}),b=[];if(h.shouldIncludeRenderedPropositions()&&b.push(p.clear()),h.shouldFetchData()){const e=s.createCacheUpdate(h.getViewName());f((()=>e.cancel())),n({cacheUpdate:e,personalizationDetails:h,event:a,onResponse:g})}else h.shouldUseCachedData()&&b.push(o({personalizationDetails:h,event:a,onResponse:g,onRequestFailure:f}));return Promise.all(b).then((e=>{const t=e.flatMap((e=>e));Me(t)&&u(a,t,[bd.DISPLAY])}))},onClick({event:e,clickedElement:t}){a({event:e,clickedElement:t})}},commands:{applyPropositions:{optionsValidator:e=>Ed({logger:t,options:e}),run:d}}}),Pd=(e="undefined")=>ke(Te,{},{innerHTML:e});const Dd=":eq(",kd=/:eq\((\d+)\)/g,Sd=e=>-1===e.indexOf(Dd),xd=e=>e.split(kd).filter(Yt),Od=/(#|\.)(-?\w+)/g,Td=(e,t,n)=>""+t+CSS.escape(n),Rd=e=>e.replace(Od,Td),Ad=e=>{const t=[],n=Rd(e.trim()),o=xd(n),{length:a}=o;let r=0;for(;r<a;){const e=o[r],n=o[r+1];n?t.push({sel:e,eq:Number(n)}):t.push({sel:e}),r+=2}return t},Nd=e=>{const t=document;if(Sd(e))return Ge(e,t);const n=Ad(e),{length:o}=n;let a=[],r=t,i=0;for(;i<o;){const{sel:e,eq:t}=n[i],s=Ge(e,r),{length:c}=s;if(0===c)break;if(null!=t&&t>c-1)break;i<o-1&&(null==t?[r]=s:r=s[t]),i===o-1&&(a=null==t?s:[s[t]]),i+=1}return a};var jd=(e,t=document)=>t.getElementById(e),Ld=(e,t,n)=>{e.setAttribute(t,n)},Md=(e,t)=>e.getAttribute(t),Vd=(e,t)=>{e.removeAttribute(t)},qd=(e,t,n,o)=>{let a;a=o?t+":"+n+" !"+o+";":t+":"+n+";",e.style.cssText+=";"+a},Ud=e=>e.parentNode,Fd=e=>e.nextElementSibling,Bd=(e,t)=>{if(!e)return;const n=Ud(e);n&&n.insertBefore(t,Fd(e))},Hd=(e,t)=>{if(!e)return;const n=Ud(e);n&&n.insertBefore(t,e)},zd=e=>{const{children:t}=e;return t?Ve(t):[]},Wd=e=>{const{childNodes:t}=e;return t?Ve(t):[]},Gd=e=>e.firstElementChild;let Jd;var Qd=(e=document)=>{if(void 0===Jd){const t=e.querySelector("[nonce]");Jd=t&&(t.nonce||t.getAttribute("nonce"))}return Jd};const Kd="src",Xd=e=>e.tagName===Oe,$d=e=>ke(Oe,{src:e}),Yd=e=>{Ge(Oe,e).forEach((e=>{const t=Md(e,Kd);t&&$d(t)}))},Zd=(e,t)=>e.tagName===t,el=e=>Zd(e,Re)&&!Md(e,Kd);var tl=e=>{const t=Ge(Re,e),{length:n}=t,o=Qd();if(o)for(let e=0;e<n;e+=1){const n=t[e];el(n)&&(n.nonce=o)}};const nl=(e,t)=>new Promise(((n,o)=>{t.onload=()=>{n(t)},t.onerror=()=>{o(new Error("Failed to load script: "+e))}})),ol=e=>{const t=document.createElement("script");t.src=e,t.async=!0;const n=nl(e,t);return document.head.appendChild(t),n},al=(e,t)=>!!e&&e.tagName===t,rl=e=>al(e,Ae)&&!Md(e,Kd),il=e=>al(e,Ae)&&Md(e,Kd),sl=e=>{const t=Ge(Ae,e),n=[],{length:o}=t,a=Qd(),r={...a&&{nonce:a}};for(let e=0;e<o;e+=1){const o=t[e];if(!rl(o))continue;const{textContent:a}=o;a&&n.push(ke(Ae,r,{textContent:a}))}return n},cl=e=>{const t=Ge(Ae,e),n=[],{length:o}=t;for(let e=0;e<o;e+=1){const o=t[e];if(!il(o))continue;const a=Md(o,Kd);a&&n.push(a)}return n},dl=(e,t)=>{t.forEach((t=>{e.appendChild(t),e.removeChild(t)}))},ll=e=>Promise.all(e.map(ol));var ul=(e,t,n)=>{const o=Pd(t);tl(o);const a=Wd(o),r=sl(o),i=cl(o);return Yd(o),a.forEach((t=>{Pe(e,t)})),n(e),dl(e,r),ll(i)};const pl=e=>{Wd(e).forEach(pt)};var ml=(e,t,n)=>(pl(e),ul(e,t,n)),gl=(e,t,n)=>{const o=Pd(t);tl(o);const a=Wd(o),r=sl(o),i=cl(o),{length:s}=a;let c=s-1;for(Yd(o);c>=0;){const t=a[c];n(t);const o=Gd(e);o?Hd(o,t):Pe(e,t),c-=1}return dl(e,r),ll(i)};const fl="alloy-prehiding",hl="{ visibility: hidden }",bl={},vl=e=>{if(bl[e])return;const t=Qd(),n={...t&&{nonce:t}},o=ke(Re,n,{textContent:e+" "+hl});Pe(document.head,o),bl[e]=o},yl=e=>{const t=bl[e];t&&(pt(t),delete bl[e])},wl=e=>t=>{if(!t)return;if(jd(fl))return;const n=Qd(),o={id:fl,...n&&{nonce:n}},a=ke(Re,o,{textContent:t});e.logOnContentHiding({status:"hide-containers",message:"Prehiding style applied to hide containers.",logLevel:"info"}),Pe(document.head,a)},_l=e=>()=>{const t=jd(fl);t&&(e.logOnContentHiding({status:"show-containers",message:"Prehiding style removed to show containers.",logLevel:"info"}),pt(t))};var Cl=(e,t,n)=>{n(e),e.textContent=t},El=(e,t,n)=>{const o=Pd(t);tl(o);const a=Wd(o),r=sl(o),i=cl(o);return Yd(o),a.forEach((t=>{n(t),Hd(e,t)})),dl(e,r),ll(i)},Il=(e,t,n)=>El(e,t,n).then((()=>{pt(e)})),Pl=(e,t,n)=>{const o=Pd(t);tl(o);const a=Wd(o),r=sl(o),i=cl(o);Yd(o);let s=e;return a.forEach((e=>{n(e),Bd(s,e),s=e})),dl(e,r),ll(i)},Dl=(e,t,n)=>{const{priority:o,...a}=t;Object.keys(a).forEach((t=>{qd(e,t,a[t],o)})),n(e)},kl=(e,t,n)=>{Object.keys(t).forEach((n=>{Ld(e,n,t[n])})),n(e)},Sl=(e,t,n)=>{Xd(e)&&($d(t),n(e),Vd(e,Kd),Ld(e,Kd,t))},xl=(e,{from:t,to:n},o)=>{const a=zd(e),r=a[t],i=a[n];r&&i&&(t<n?Bd(i,r):Hd(i,r),o(i),o(r))};const Ol=({containers:e,content:t,decorateProposition:n,renderFunc:o,renderStatusHandler:a,alwaysRender:r})=>{const i=e.filter((e=>r||a.shouldRender(e))).map((async e=>{await o(e,t,n),a.markAsRendered(e)}));return Promise.all(i)},Tl=(e,t=!1)=>async(n,o,a)=>{const{selector:r,prehidingSelector:i,content:s}=n;vl(i);try{const n=await st(r,Nd);Ol({containers:n,content:s,decorateProposition:o,renderFunc:e,renderStatusHandler:a,alwaysRender:t})}finally{yl(i)}},Rl=e=>(""+e).endsWith("px")?e:e+"px";var Al=(e,t,n)=>{const{priority:o,...a}=t;Object.keys(a).forEach((t=>{let n=a[t];"left"!==t&&"top"!==t||(n=Rl(n)),qd(e,t,n,o)})),n(e)},Nl=(e,t,n)=>{n(e)},jl=(e,t,n)=>{const{priority:o,...a}=t;Object.keys(a).forEach((t=>{let n=a[t];"width"!==t&&"height"!==t||(n=Rl(n)),qd(e,t,n,o)})),n(e)};const Ll="setHtml",Ml="customCode",Vl="setText",ql="setAttribute",Ul="setImageSource",Fl="setStyle",Bl="move",Hl="resize",zl="rearrange",Wl="remove",Gl="insertAfter",Jl="insertBefore",Ql="replaceHtml",Kl="prependHtml",Xl="appendHtml",$l="click",Yl="collectInteractions";var Zl=()=>({[Ll]:Tl(ml,!0),[Ml]:Tl(gl),[Vl]:Tl(Cl,!0),[ql]:Tl(kl,!0),[Ul]:Tl(Sl,!0),[Fl]:Tl(Dl,!0),[Bl]:Tl(Al,!0),[Hl]:Tl(jl,!0),[zl]:Tl(xl),[Wl]:Tl(pt,!0),[Gl]:Tl(Pl),[Jl]:Tl(El),[Ql]:Tl(Il,!0),[Kl]:Tl(gl),[Xl]:Tl(ul),[Yl]:Tl(Nl,!0)}),eu=({eventManager:e,mergeDecisionsMeta:t})=>({decisionsMeta:n=[],propositionAction:o,documentMayUnload:a=!1,eventType:r=ud,propositionEventTypes:i=[wd(r)],viewName:s})=>{const c=e.createEvent(),d={eventType:r};return s&&(d.web={webPageDetails:{viewName:s}}),Me(n)&&t(c,n,i,o),c.mergeXdm(d),a&&c.documentMayUnload(),e.sendEvent(c)};const tu="personalization:decisions";var nu=({logger:e,prehidingStyle:t,showContainers:n,hideContainers:o,mergeQuery:a,processPropositions:r,createProposition:i,notificationHandler:s,consent:c})=>({cacheUpdate:d,personalizationDetails:l,event:u,onResponse:p})=>{const{state:m,wasSet:g}=c.current();"out"===m&&g||(l.isRenderDecisions()?o(t):n()),a(u,l.createQueryDetails());const f=s(l.isRenderDecisions(),l.isSendDisplayEvent(),l.getViewName());p((({response:t})=>{const o=t.getPayloadsByType(tu);Me(o)||e.logOnContentRendering({status:"no-offers",message:"No offers were returned.",logLevel:"info",detail:{query:l.createQueryDetails()}});const a=o.map((e=>i(e))),{page:s=[],view:c=[],proposition:u=[]}=kt(a,(e=>e.getScopeType())),p=d.update(c);let m,g,h;return l.isRenderDecisions()?(({render:m,returnedPropositions:g,returnedDecisions:h}=r([...s,...p],u)),Me(s)&&e.logOnContentRendering({status:"rendering-started",message:"Started rendering propositions for page-wide scope.",logLevel:"info",detail:{scope:Ua,propositions:s.map((e=>e.toJSON()))}
}),Me(p)&&e.logOnContentRendering({status:"rendering-started",message:"Rendering propositions started for view scope - "+l.getViewName()+".",logLevel:"info",detail:{scope:l.getViewName(),propositions:p.map((e=>e.toJSON()))}}),m().then(f),n()):({returnedPropositions:g,returnedDecisions:h}=r([],[...s,...p,...u])),{propositions:g,decisions:h}}))},ou=(e,t)=>{if(Sd(e))return ut(e,t);const n=Nd(e);let o=!1;for(let e=0;e<n.length;e+=1)if(n[e]===t){o=!0;break}return o};const au="view",ru="page",iu="proposition",su=e=>e.map((e=>{const{trackingLabel:t,scopeType:n,...o}=e;return o})),cu=e=>e.filter(((t,n)=>{const o=JSON.stringify(t);return n===e.findIndex((e=>JSON.stringify(e)===o))})),du=(e,t,n)=>{const{documentElement:o}=document;let a=e,r=0;for(;a&&a!==o;){if(ou(t,a)){const e=n(t),o={metas:e},a=e.find((e=>e.trackingLabel));a&&(o.label=a.trackingLabel,o.weight=r);const i=e.find((e=>e.scopeType===au));return i&&(o.viewName=i.scope,o.weight=r),o}a=a.parentNode,r+=1}return{metas:null}};var lu=(e,t,n)=>{const o=[];let a,r="",i=Number.MAX_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER;for(let c=0;c<t.length;c+=1){const{metas:d,label:l,weight:u,viewName:p}=du(e,t[c],n);d&&(l&&u<=i&&(r=l,i=u),p&&u<=s&&(a=p,s=u),o.push(...su(d)))}return{decisionsMeta:cu(o),propositionActionLabel:r,propositionActionToken:void 0,viewName:a}},uu=(e=document)=>-1!==e.location.href.indexOf("adobe_authoring_enabled");const pu=(e,t,n,o)=>{if(0===t.length)return;const a={};n.forEach((e=>{a[e]=hd}));const r={_experience:{decisioning:{propositions:t,propositionEventType:a}}};o&&(r._experience.decisioning.propositionAction=o),e.mergeXdm(r)},mu=(e,t)=>{e.mergeQuery({personalization:{...t}})},gu=(e,t)=>{if(!t&&!e)return;const n={};return e&&(n.label=e),t&&(n.tokens=[t]),n};var fu=({mergeDecisionsMeta:e,collectInteractions:t,collectClicks:n,getInteractionMetas:o,getClickMetas:a,getClickSelectors:r,autoCollectPropositionInteractions:i})=>({event:s,clickedElement:c})=>{const d=[];let l,u,p;if([t(c,o,i),n(c,r(),a)].forEach((({decisionsMeta:e,propositionActionLabel:t,propositionActionToken:n,viewName:o})=>{Array.prototype.push.apply(d,e),!l&&t&&(l=t),!u&&n&&(u=n),!p&&o&&(p=o)})),Me(d)){const t={eventType:pd};p&&(t.web={webPageDetails:{viewName:p}}),s.mergeXdm(t),e(s,d,[bd.INTERACT],gu(l,u))}},hu=({createProposition:e})=>{let t=!1,n=Promise.resolve({});const o=(t,n)=>{const o=t[n.toLowerCase()];return o&&o.length>0?o:[e({scope:n,scopeDetails:{characteristics:{scopeType:au}},items:[{schema:Ac}]},!1)]};return{createCacheUpdate:e=>{const a=_e();return t=!0,n=n.then((e=>a.promise.then((t=>({...e,...t}))).catch((()=>e)))),{update(t){const n=t.filter((e=>e.getScope())),r=kt(n,(e=>e.getScope().toLowerCase()));return a.resolve(r),e?o(r,e):[]},cancel(){a.reject()}}},getView:e=>n.then((t=>o(t,e))),isInitialized:()=>t}},bu=({processPropositions:e,viewCache:t,logger:n})=>({personalizationDetails:o,onResponse:a})=>{let r,i;const s=o.getViewName();return a((()=>({propositions:r,decisions:i}))),t.getView(s).then((t=>{let a;return o.isRenderDecisions()?(({render:a,returnedPropositions:r,returnedDecisions:i}=e(t)),n.logOnContentRendering({status:"rendering-started",message:"Started rendering propositions for view scope - "+s+".",logLevel:"info",detail:{scope:s,propositions:t.map((e=>e.toJSON()))}}),a()):(({returnedPropositions:r,returnedDecisions:i}=e([],t)),[])}))};const vu=e=>Object.keys(e).map((t=>({id:t,...e[t]})));var yu=()=>{const e={};return{storeClickMeta:({selector:t,meta:{id:n,scope:o,scopeDetails:a,trackingLabel:r,scopeType:i}})=>{e[t]||(e[t]={}),e[t][n]={scope:o,scopeDetails:a,trackingLabel:r,scopeType:i}},getClickSelectors:()=>Object.keys(e),getClickMetas:t=>e[t]?vu(e[t]):{}}},wu=()=>{const e={},t={};return{storeInteractionMeta:(n,o,a,r,i)=>{i=parseInt(i,10),e[i]||(e[i]={},t[i]={}),t[i][n]||(t[i][n]=new Set),t[i][n].add(o),e[i][n]={...r,scopeType:a}},getInteractionMetas:n=>Array.isArray(n)&&0!==n.length?Object.values(n.map((e=>parseInt(e,10))).reduce(((n,o)=>(Object.keys(e[o]||{}).forEach((a=>{n[a]||(n[a]={proposition:e[o][a],items:new Set}),n[a].items=new Set([...n[a].items,...t[o][a]])})),n)),{})).map((({proposition:e,items:t})=>({...e,items:Array.from(t).map((e=>({id:e})))}))):[]}};const _u=(e,t)=>e===Lc&&t===Yl,Cu={[Nc]:()=>!0,[jc]:()=>!0,[Lc]:_u,[qc]:()=>!0,[Ac]:()=>!0},Eu=(e,t)=>"function"==typeof Cu[e]&&Cu[e](e,t);var Iu=({processPropositions:e,createProposition:t,renderedPropositions:n,viewCache:o})=>{const a=({items:e,metadataForScope:t={}})=>{const{actionType:n,selector:o}=t;return e.filter((e=>Eu(e.schema,n))).map((e=>{const{schema:a}=e;return a===jc||_u(a,n)?ht(t)?void 0:{...e,schema:_u(a,n)?Nc:a,data:{...e.data,selector:o,type:n}}:{...e}})).filter((e=>e))},r=e=>!(e.scope===Ua&&e.renderAttempted),i=({propositions:e,metadata:t})=>e.filter(r).map((e=>{if(Me(e.items)){const{id:n,scope:o,scopeDetails:r}=e;return{id:n,scope:o,scopeDetails:r,items:a({items:e.items,metadataForScope:t[e.scope]})}}return e})).filter((e=>Me(e.items)));return({propositions:a=[],metadata:r={},viewName:s})=>{const c=_e();n.concat(c.promise);const d=i({propositions:a,metadata:r}).map((e=>t(e)));return Promise.resolve().then((()=>s?o.getView(s):[])).then((t=>{const{render:n,returnedPropositions:o}=e([...d,...t]);return n().then(c.resolve),{propositions:o}}))}},Pu=({window:e})=>()=>e.location,Du=({targetMigrationEnabled:e})=>e?e=>{e.getPayload().mergeMeta({target:{migration:!0}})}:Zt;const ku="BODY > *:eq(0)";var Su=e=>{const{selector:t,type:n}=e;return n!==Ml||t!==ku?e:{...e,selector:"BODY"}};const xu="SCRIPT,LINK,STYLE",Ou=e=>{const t=Pd(e);return Ge(xu,t).map((e=>e.outerHTML)).join("")};var Tu=e=>{const t={...e},{content:n,selector:o}=t;if(hc(n))return t;if(null==o)return t;const a=Nd(o);return al(a[0],Ne)?(t.type=Xl,t.content=Ou(n),t):t},Ru=e=>t=>t?e.reduce(((e,t)=>({...e,...t(e)})),t):t,Au=({preprocess:e,isPageWideSurface:t})=>{const n=(t,n)=>{const{id:o,schema:a,data:r,characteristics:{trackingLabel:i}={}}=t,s=r?r.type:void 0,c=e(r);return{getId:()=>o,getSchema:()=>a,getSchemaType:()=>s,getData:()=>c,getProposition:()=>n,getTrackingLabel:()=>i,getOriginalItem:()=>t,toString:()=>JSON.stringify(t),toJSON:()=>t}};return(e,o=!0,a=!1)=>{const{id:r,scope:i,scopeDetails:s,items:c=[]}=e,{characteristics:{scopeType:d}={}}=s||{};return{getScope:()=>i,getScopeType:()=>i===Ua||t(i)?ru:d===au?au:iu,getItems(){return c.map((e=>n(e,this)))},getNotification:()=>({id:r,scope:i,scopeDetails:s}),getId:()=>r,toJSON:()=>e,shouldSuppressDisplay:()=>a,addToReturnValues(t,n,a,r){o&&(t.push({...e,items:a.map((e=>e.getOriginalItem())),renderAttempted:r}),r||n.push({...e,items:a.map((e=>e.getOriginalItem()))}))}}}},Nu=()=>{let e=Promise.resolve([]);return{concat(t){e=e.then((e=>t.then((t=>e.concat(t))).catch((()=>e))))},clear(){const t=e;return e=Promise.resolve([]),t}}},ju=()=>({render:Zt,setRenderAttempted:!0,includeInNotification:!0});const Lu="web",Mu="://",Vu="#",qu=e=>!!e&&0===e.indexOf(Lu+Mu)&&-1===e.indexOf(Vu),Uu="always",Fu="never",Bu="decoratedElementsOnly",Hu=[Uu,Fu,Bu],zu="data-aep-interact-id",Wu="data-aep-click-label",Gu="data-aep-click-token";let Ju=0;const Qu=(e,t)=>t?parseInt(t,10):++Ju,Ku=(e,t)=>!!e&&!!e[t]&&[Uu,Bu].includes(e[t]),Xu=(e,t,n,o,a,r,i,s)=>{const{scopeDetails:c={}}=i,{decisionProvider:d}=c;return Ku(e,d)||t===$l?e=>{if(!e.tagName)return;const t=Qu(n,Md(e,zu));s(n,o,r,i,t),Ld(e,zu,t),a&&!Md(e,Wu)&&Ld(e,Wu,a)}:Zt};var $u=(e,t)=>e!==au?{shouldRender:()=>!0,markAsRendered:()=>{}}:{shouldRender:e=>!e||!(e.dataset.adobePropositionIds??"").split(",").includes(t),markAsRendered:e=>{const n=(e.dataset.adobePropositionIds??"").split(",");n.includes(t)||n.push(t),e.dataset.adobePropositionIds=n.sort().join(",")}},Yu=({modules:e,logger:t,storeInteractionMeta:n,storeClickMeta:o,autoCollectPropositionInteractions:a})=>r=>{const{type:i,selector:s}=r.getData()||{};if(!i)return t.warn("Invalid DOM action data: missing type.",r.getData()),{setRenderAttempted:!1,includeInNotification:!1};if(i===$l)return s?(o({selector:s,meta:{...r.getProposition().getNotification(),trackingLabel:r.getTrackingLabel(),scopeType:r.getProposition().getScopeType()}}),{setRenderAttempted:!0,includeInNotification:!1}):(t.warn("Invalid DOM action data: missing selector.",r.getData()),{setRenderAttempted:!1,includeInNotification:!1});if(!e[i])return t.warn("Invalid DOM action data: unknown type.",r.getData()),{setRenderAttempted:!1,includeInNotification:!1};const c=$u(r.getProposition().getScopeType(),r.getId()),d=Xu(a,i,r.getProposition().getId(),r.getId(),r.getTrackingLabel(),r.getProposition().getScopeType(),r.getProposition().getNotification(),n);return{render:()=>e[i](r.getData(),d,c),setRenderAttempted:!0,includeInNotification:!0}},Zu=({modules:e,logger:t,storeInteractionMeta:n,autoCollectPropositionInteractions:o})=>a=>{const{type:r,selector:i}=a.getData()||{};if(!i||!r)return{setRenderAttempted:!1,includeInNotification:!1};if(!e[r])return t.warn("Invalid HTML content data",a.getData()),{setRenderAttempted:!1,includeInNotification:!1};const s=Xu(o,r,a.getProposition().getId(),a.getId(),a.getTrackingLabel(),a.getProposition().getScopeType(),a.getProposition().getNotification(),n),c=$u(a.getProposition().getScopeType(),a.getId());return{render:()=>e[r](a.getData(),s,c),setRenderAttempted:!0,includeInNotification:!0}};const ep="BODY";var tp=({logger:e,executeRedirect:t,collect:n})=>o=>{const{content:a}=o.getData()||{};return a?{render:()=>(vl(ep),n({decisionsMeta:[o.getProposition().getNotification()],documentMayUnload:!0}).then((()=>(e.logOnContentRendering({status:"rendering-redirect",detail:{propositionDetails:o.getProposition().getNotification(),redirect:a},message:"Redirect action "+o.toString()+" executed.",logLevel:"info"}),t(a)))).catch((e=>{throw yl(ep),e}))),setRenderAttempted:!0,onlyRenderThis:!0}:(e.warn("Invalid Redirect data",o.getData()),{})},np=({schemaProcessors:e,logger:t})=>{const n=(e,n)=>()=>Promise.resolve().then(e).then((()=>(t.enabled&&t.info("Action "+n.toString()+" executed."),n.toJSON()))).catch((e=>{const{message:o,stack:a}=e,r="Failed to execute action "+n.toString()+". "+o+" "+a;t.logOnContentRendering({status:"rendering-failed",detail:{propositionDetails:n.getProposition().getNotification(),item:n.toJSON()},error:e,message:r,logLevel:"warn"})})),o=async(e,t)=>{const n=(await Promise.allSettled(e.map((e=>e())))).filter((e=>"fulfilled"===e.status)).map((e=>e.value));if(t&&Me(n))return{...t,items:n}},a=t=>{const n=e[t.getSchema()];return n?n(t):{}},r=({renderers:e,returnedPropositions:t,returnedDecisions:r,items:i,proposition:s})=>{let c,d,l,u,p=[...e],m=[...t],g=[...r],f=[],h=[],b=[],v=!1,y=!1,w=0;for(;i.length>w;){if(u=i[w],({render:c,setRenderAttempted:d,includeInNotification:l,onlyRenderThis:y}=a(u)),y){m=[],g=[],d?(f=[u],h=[]):(f=[],h=[u]),p=[],b=[c],v=l;break}c&&b.push(n(c,u)),l&&(v=!0),d?f.push(u):h.push(u),w+=1}if(b.length>0){const e=v?s.getNotification():void 0;p.push((()=>o(b,e)))}else v&&p.push((()=>Promise.resolve(s.getNotification())));return f.length>0&&s.addToReturnValues(m,g,f,!0),h.length>0&&s.addToReturnValues(m,g,h,!1),{renderers:p,returnedPropositions:m,returnedDecisions:g,onlyRenderThis:y}};return(e,n=[])=>{let o,a,i,s=[],c=[],d=[],l=0;for(;e.length>l&&(a=e[l],i=a.getItems(),({renderers:s,returnedPropositions:c,returnedDecisions:d,onlyRenderThis:o}=r({renderers:s,returnedPropositions:c,returnedDecisions:d,items:i,proposition:a})),!o);)l+=1;return o&&e.forEach(((e,t)=>{t!==l&&e.addToReturnValues(c,d,e.getItems(),!1)})),n.forEach((e=>{e.addToReturnValues(c,d,e.getItems(),!1)})),{returnedPropositions:c,returnedDecisions:d,render:()=>Promise.all(s.map((e=>e()))).then((e=>{const n=e.filter((e=>e)),o=n.map((e=>{const{id:t,scope:n,scopeDetails:o}=e;return{id:t,scope:n,scopeDetails:o}}));if(Me(n)){const e=kt(n,(e=>e.scope));t.logOnContentRendering({status:"rendering-succeeded",detail:{...e},message:"Scopes: "+JSON.stringify(e)+" successfully executed.",logLevel:"info"})}return o}))}}};const op=()=>{let e=0;return t=>{const{items:n=[]}=t;return!!n.some((e=>e.schema===qc))&&(e+=1,e>1)}};var ap=({processPropositions:e,createProposition:t,notificationHandler:n})=>({renderDecisions:o,propositions:a,event:r,personalization:i={}})=>{if(!o)return Promise.resolve();const{sendDisplayEvent:s=!0}=i,c=r?r.getViewName():void 0,d=op(),l=a.map((e=>t(e,!0,d(e)))),{render:u,returnedPropositions:p}=e(l),m=n(o,s,c),g=l.reduce(((e,t)=>(e[t.getId()]=t,e)),{});return u().then((e=>{const t=e.filter((e=>!g[e.id].shouldSuppressDisplay())),n=e.filter((e=>g[e.id].shouldSuppressDisplay()));m(t,n)})),Promise.resolve({propositions:p})};const rp="text/html",ip="application/json",sp="defaultContent",cp=["content","contentType"],dp=["mobileParameters","webParameters","html"],lp=(e,t)=>{for(let n=0;n<cp.length;n+=1){const o=cp[n];if(!Object.prototype.hasOwnProperty.call(e,o))return t.warn("Invalid in-app message data: missing property '"+o+"'.",e),!1}const{content:n,contentType:o}=e;if(o===ip)for(let o=0;o<dp.length;o+=1){const a=dp[o];if(!Object.prototype.hasOwnProperty.call(n,a))return t.warn("Invalid in-app message data.content: missing property '"+a+"'.",e),!1}return!0};var up=({modules:e,logger:t})=>n=>{const o=n.getData(),a=n.getProposition(),r={...a.getNotification()},i=a.shouldSuppressDisplay();if(!o)return t.warn("Invalid in-app message data: undefined.",o),{};const{type:s=sp}=o;return e[s]?lp(o,t)?r?{render:()=>i?null:e[s]({...o,meta:r}),setRenderAttempted:!0,includeInNotification:!0}:(t.warn("Invalid in-app message meta: undefined.",r),{}):{}:(t.warn("Invalid in-app message data: unknown type.",o),{})};const pp=e=>{const t=Ge("#"+e,document);t&&t.length>0&&pt(t[0])},mp=e=>{const t={};if(!e||"a"!==e.tagName.toLowerCase())return t;const{href:n}=e;if(!n||!n.startsWith("adbinapp://"))return t;const o=n.split("?"),a=o[0].split("://")[1],r=e.innerText,i=e.getAttribute("data-uuid")||"";let s,c;if(Me(o)){const e=sn.parse(o[1]);s=e.interaction||"",c=_i(e.link||"")}return{action:a,interaction:s,link:c,label:r,uuid:i}};var gp=e=>(t,n=!1)=>(n?e.location.href=t:e.location.replace(t),new Promise((()=>{})));const fp="alloy-messaging-container",hp="alloy-overlay-container",bp="alloy-content-iframe",vp=()=>[fp,hp].forEach(pp),yp=(e,t=gp(window))=>n=>{n.preventDefault(),n.stopImmediatePropagation();const{target:o}=n,a="a"===o.tagName.toLowerCase()?o:o.closest("a");if(!a)return;const{action:r,interaction:i,link:s,label:c,uuid:d}=mp(a);e(r,{label:c,id:i,uuid:d,link:s}),"dismiss"===r&&vp(),Yt(s)&&s.length>0&&t(s,!0)},wp=(e,t)=>{const n=(new DOMParser).parseFromString(e,rp),o=n.querySelector("script");o&&o.setAttribute("nonce",Qd());const a=ke("iframe",{src:URL.createObjectURL(new Blob([n.documentElement.outerHTML],{type:"text/html"})),id:bp});return a.addEventListener("load",(()=>{const{addEventListener:e}=a.contentDocument||a.contentWindow.document;e("click",t)})),a},_p=(e,t,n,o)=>{[{id:hp,element:o},{id:fp,element:n},{id:bp,element:e}].forEach((({id:e,element:n})=>{const{style:o={},params:a={}}=t[e];Object.assign(n.style,o);const{parentElement:r="body",insertionMethod:i="appendChild",enabled:s=!0}=a,c=document.querySelector(r);s&&c&&"function"==typeof c[i]&&c[i](n)}))},Cp=e=>{const{verticalAlign:t,width:n,horizontalAlign:o,backdropColor:a,height:r,cornerRadius:i,horizontalInset:s,verticalInset:c,uiTakeover:d=!1}=e,l={width:n?n+"%":"100%",backgroundColor:a||"rgba(0, 0, 0, 0.5)",borderRadius:i?i+"px":"0px",border:"none",position:d?"fixed":"relative",overflow:"hidden"};return"left"===o?l.left=s?s+"%":"0":"right"===o?l.right=s?s+"%":"0":"center"===o&&(l.left="50%",l.transform="translateX(-50%)"),"top"===t?l.top=c?c+"%":"0":"bottom"===t?(l.position="fixed",l.bottom=c?c+"%":"0"):"center"===t&&(l.top="50%",l.transform=("center"===o?l.transform+" ":"")+"translateY(-50%)",l.display="flex",l.alignItems="center",l.justifyContent="center"),l.height=r?r+"vh":"100%",l},Ep=e=>{const{backdropOpacity:t,backdropColor:n}=e;return{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"transparent",opacity:t||.5,backgroundColor:n||"#FFFFFF"}},Ip=["enabled","parentElement","insertionMethod"],Pp=e=>{if(!e)return!1;const t=Object.keys(e);if(!t.includes(fp))return!1;if(!t.includes(hp))return!1;const n=Object.values(e);for(let e=0;e<n.length;e+=1){if(!Ao(n[e],"style"))return!1;if(!Ao(n[e],"params"))return!1;for(let t=0;t<Ip.length;t+=1)if(!Ao(n[e].params,Ip[t]))return!1}return!0},Dp=e=>{if(!e)return;const{uiTakeover:t=!1}=e;return{[bp]:{style:{border:"none",width:"100%",height:"100%"},params:{enabled:!0,parentElement:"#alloy-messaging-container",insertionMethod:"appendChild"}},[fp]:{style:Cp(e),params:{enabled:!0,parentElement:"body",insertionMethod:"appendChild"}},[hp]:{style:Ep(e),params:{enabled:!0===t,parentElement:"body",insertionMethod:"appendChild"}}}},kp=(e={},t)=>{vp();const{content:n,contentType:o,mobileParameters:a}=e;let{webParameters:r}=e;if(o!==rp)return;const i=ke("div",{id:fp}),s=wp(n,yp(t)),c=ke("div",{id:hp});Pp(r)||(r=Dp(a)),r&&_p(s,r,i,c)};var Sp=(e,t)=>new Promise((n=>{const{meta:o}=e;kp(e,((e,n)=>{const a={};a[bd.INTERACT]=hd,-1!==Object.values(bd).indexOf(e)&&(a[e]=hd),t({decisionsMeta:[o],propositionAction:n,eventType:pd,propositionEventTypes:Object.keys(a)})})),n({meta:o})})),xp=e=>({defaultContent:t=>Sp(t,e)}),Op=(e,t)=>(n,o,a)=>{if(!n)return()=>{};if(!o){const e=_e();return t.concat(e.promise),e.resolve}return(t=[],n=[])=>{Me(t)&&e({decisionsMeta:t,viewName:a}),Me(n)&&e({decisionsMeta:n,eventType:fd,propositionAction:{reason:"Conflict"},viewName:a})}},Tp=({showContainers:e,consent:t})=>()=>{const{state:n,wasSet:o}=t.current();n===na&&o?e():t.awaitConsent().catch(e)};const Rp=e=>{const{documentElement:t}=document;let n=e;const o=new Set;let a,r;for(;n&&n!==t&&!(n instanceof ShadowRoot);){const e=Md(n,zu);e&&o.add(e),a=a||Md(n,Wu),r=r||Md(n,Gu),n=n.parentNode}return{interactIds:[...o],clickLabel:a,clickToken:r}},Ap=e=>{const t=e.find((e=>e.scopeType===au));return t?t.scope:void 0},Np=(e,t,n)=>o=>{const{scopeDetails:a={}}=o,{decisionProvider:r}=a;return e[r]===Uu||e[r]===Bu&&(t||n)};var jp=(e,t,n)=>{const{interactIds:o,clickLabel:a="",clickToken:r}=Rp(e),i=Np(n,a,r);if(0===o.length)return{};const s=t(o).filter(i);return{decisionsMeta:su(s),propositionActionLabel:a,propositionActionToken:r,viewName:Ap(s)}};const Lp="personalization:decisions",Mp="AJO",Vp="TGT",qp=({config:e,logger:t,eventManager:n,consent:o})=>{const{targetMigrationEnabled:a,prehidingStyle:r,autoCollectPropositionInteractions:i}=e,s=eu({eventManager:n,mergeDecisionsMeta:pu}),c=_l(t),d=wl(t),{storeInteractionMeta:l,getInteractionMetas:u}=wu(),{storeClickMeta:p,getClickSelectors:m,getClickMetas:g}=yu(),f=Pu({window:window}),h=Zl(),b=Ru([Tu,Su]),v=Au({preprocess:b,isPageWideSurface:qu}),y=hu({createProposition:v}),w=gp(window),_={[Ac]:ju,[Nc]:Yu({modules:h,logger:t,storeInteractionMeta:l,storeClickMeta:p,autoCollectPropositionInteractions:i}),[jc]:Zu({modules:h,logger:t,storeInteractionMeta:l,autoCollectPropositionInteractions:i}),[Vc]:tp({logger:t,executeRedirect:w,collect:s}),[qc]:up({modules:xp(s),logger:t})},C=np({schemaProcessors:_,logger:t}),E=Nu(),I=Op(s,E),P=nu({prehidingStyle:r,showContainers:c,hideContainers:d,mergeQuery:mu,processPropositions:C,createProposition:v,notificationHandler:I,consent:o,logger:t}),D=fu({mergeDecisionsMeta:pu,collectInteractions:jp,collectClicks:lu,getInteractionMetas:u,getClickMetas:g,getClickSelectors:m,autoCollectPropositionInteractions:i}),k=bu({processPropositions:C,viewCache:y,logger:t}),S=Iu({processPropositions:C,createProposition:v,renderedPropositions:E,viewCache:y}),x=Du({targetMigrationEnabled:a}),O=ap({processPropositions:C,createProposition:v,notificationHandler:I}),T=Tp({showContainers:c,consent:o});return Id({getPageLocation:f,logger:t,fetchDataHandler:P,viewChangeHandler:k,onClickHandler:D,isAuthoringModeEnabled:uu,mergeQuery:mu,viewCache:y,showContainers:c,applyPropositions:S,setTargetMigration:x,mergeDecisionsMeta:pu,renderedPropositions:E,onDecisionHandler:O,handleConsentFlicker:T})};qp.namespace="Personalization";const Up=Hu.map((e=>Oo(e)));qp.configValidators=Ao({prehidingStyle:No().nonEmpty(),targetMigrationEnabled:So().default(!1),autoCollectPropositionInteractions:Ao({[Mp]:Po(Up).default(Uu),[Vp]:Po(Up).default(Fu)}).default({[Mp]:Uu,[Vp]:Fu}).noUnknownFields()});const Fp=e=>null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype,Bp=(e,t={},n=[])=>(Object.keys(e).forEach((o=>{Fp(e[o])||Array.isArray(e[o])?Bp(e[o],t,[...n,o]):t[[...n,o].join(".")]=e[o]})),t);var Hp=e=>Fp(e)?Bp(e):e,zp=({renderDecisions:e,decisionProvider:t,applyResponse:n,event:o,personalization:a,decisionContext:r})=>{const i={...Hp(o.getContent()),...r};return({response:r})=>{if(t.addPayloads(r.getPayloadsByType(Lp)),!o.hasQuery())return{propositions:[]};const s=t.evaluate(i);return n({renderDecisions:e,propositions:s,event:o,personalization:a})}};const Wp={MATCHER:"matcher",GROUP:"group",HISTORICAL:"historical"},Gp={EQUALS:"eq",NOT_EQUALS:"ne",EXISTS:"ex",NOT_EXISTS:"nx",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"ge",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"le",CONTAINS:"co",NOT_CONTAINS:"nc",STARTS_WITH:"sw",ENDS_WITH:"ew"},Jp={AND:"and",OR:"or"},Qp={ORDERED:"ordered",MOST_RECENT:"mostRecent"},Kp={[Gp.EQUALS]:c(),[Gp.NOT_EQUALS]:d(),[Gp.EXISTS]:l(),[Gp.NOT_EXISTS]:u(),[Gp.GREATER_THAN]:m(),[Gp.GREATER_THAN_OR_EQUAL_TO]:g(),[Gp.LESS_THAN]:f(),[Gp.LESS_THAN_OR_EQUAL_TO]:h(),[Gp.CONTAINS]:b(),[Gp.NOT_CONTAINS]:v(),[Gp.STARTS_WITH]:y(),[Gp.ENDS_WITH]:w()},Xp="eventId",$p="eventType",Yp=["iam.eventType",$p,"type"],Zp=["iam.id","id"],em=(e,t,n)=>{switch(t){case Gp.GREATER_THAN:return e>n;case Gp.GREATER_THAN_OR_EQUAL_TO:return e>=n;case Gp.LESS_THAN:return e<n;case Gp.LESS_THAN_OR_EQUAL_TO:return e<=n;case Gp.EQUALS:return e===n;case Gp.NOT_EQUALS:return e!==n;default:return!1}},tm=(e,t)=>{for(let n=0;n<t.length;n+=1)if(!C(e[t[n]]))return t[n];throw new Error("The event does not match the expected schema.")},nm=e=>{const t=structuredClone(e);return[[tm(t,Yp),$p],[tm(t,Zp),Xp]].forEach((([e,n])=>{e!==n&&(t[n]=t[e],delete t[e])})),t},om="TGT",am="DEFAULT",rm="ECID",im="<key>",sm="<identity>",cm=Q(X,(e=>e.join("-"))),dm=100,lm=Q($);var um=e=>{const t=structuredClone(e),n=Object.keys(t).sort().reduce(((e,n)=>{const o=t[n];return null==o||""===o?e:e+=n+":"+o}),"");return yt(n)},pm=e=>{const t=new Date;return t.setDate(t.getDate()-e),t};const mm=1e3,gm=30,fm="events",hm=2097152,bm={TYPE:"~type",SOURCE:"~source"},vm={EDGE:"com.adobe.eventType.edge",RULES_ENGINE:"com.adobe.eventType.rulesEngine"},ym={REQUEST:"com.adobe.eventSource.requestContent"},wm="cjmiam",_m="schema",Cm="insert",Em="insertIfNotExists";var Im=(e=gm,t=mm)=>n=>{let o=Object.entries(n).reduce(((e,[t,{timestamps:n=[]}])=>(n.forEach((n=>{e.push({key:t,timestamp:n})})),e)),[]);const a=pm(e);return o=o.filter((({timestamp:e})=>e>=a)),o.sort(((e,t)=>e.timestamp-t.timestamp)),o=o.slice(-t),o.reduce(((e,{key:t,timestamp:n})=>(e[t]||(e[t]={timestamps:[]}),e[t].timestamps.push(n),e)),{})},Pm=e=>{const{_experience:t}=e||{};return!!t&&"object"==typeof t};const Dm=e=>e?.scopeDetails?.activity?.id,km=e=>e?.scopeDetails?.decisionProvider,Sm=(e,t)=>n=>{try{const n=e.getItem(t);return[JSON.parse(n),n.length]}catch{}return[n,0]},xm=(e,t)=>n=>{e.setItem(t,JSON.stringify(n))},Om=()=>{const e={};return{getItem:t=>t in e?e[t]:null,setItem:(t,n)=>{e[t]=n}}},Tm=e=>{e.clear()};var Rm=(e=[])=>Array.isArray(e)?e.flat(1/0):e,Am=(e,t,n)=>{const{html:o,mobileParameters:a}=n;return{schema:qc,data:{mobileParameters:a,webParameters:{},content:o,contentType:rp},id:e}},Nm=(e,t,n)=>{const{schema:o,data:a,id:r}=n;return{schema:o,data:a,id:r||e}};const jm={[wm]:Am,[_m]:Nm};var Lm=()=>e=>{const{id:t,type:n,detail:o}=e;return"function"==typeof jm[n]?jm[n](t,n,o):o};const Mm=e=>{const{schema:t,data:n}=e;if(t===Mc)return!0;if(t!==Lc)return!1;try{const e="string"==typeof n.content?JSON.parse(n.content):n.content;return e&&Object.prototype.hasOwnProperty.call(e,"version")&&Object.prototype.hasOwnProperty.call(e,"rules")}catch{return!1}};var Vm=(e,t)=>{const n=Lm(),o=Dm(e),a=[],r=e=>{const{data:t={},schema:n}=e,o=n===Mc?t:t.content;o&&a.push(oe("string"==typeof o?JSON.parse(o):o,{generateEventHash:um}))},i=r=>{const i=t.getEvent(ud,o),s=i?.timestamps[0],c=Rm(a.map((e=>e.execute(r)))).map(n).map((e=>{const n=t.addEvent({eventType:bd.TRIGGER,eventId:o}).timestamps[0];return{...e,data:{...e.data,qualifiedDate:n,displayedDate:s}}}));return{...e,items:c}};return Array.isArray(e.items)&&e.items.filter(Mm).forEach(r),{rank:e?.scopeDetails?.rank||1/0,evaluate:i,isEvaluable:a.length>0}},qm=({eventRegistry:e})=>{const t={},n=n=>{const o=Dm(n);if(!o)return;const a=Vm(n,e);a.isEvaluable&&(t[o]=a)};return{addPayload:n,addPayloads:e=>{e.forEach(n)},evaluate:(e={})=>Object.values(t).sort((({rank:e},{rank:t})=>e-t)).map((t=>t.evaluate(e))).filter((e=>e.items.length>0))}},Um=e=>{const t=[];return e.forEach((e=>{const n=[];e.items.forEach((e=>{e.schema===Fc?t.push({operation:e.data.operation,event:{eventId:e.data.content["iam.id"],eventType:e.data.content["iam.eventType"]}}):n.push(e)})),e.items=n})),t},Fm=({lifecycle:e,eventRegistry:t})=>({renderDecisions:n=!1,propositions:o=[],event:a,personalization:r})=>{if(e){const i=Um(o);t.addEventPayloads(i),e.onDecision({renderDecisions:n,propositions:o,event:a,personalization:r})}return{propositions:o}},Bm=({storage:e,logger:t})=>{let n,o,a,r=e;const i=e=>{r=e;const t=Sm(r,fm);if(n=xm(r,fm),[o,a]=t({}),a>hm){const e=Im();o=e(o),n(o)}};i(e);const s=(e={eventType:null,eventId:null},a=Cm)=>{const{eventType:r,eventId:i}=e;if(!r||!i)return;const s=um(e);if(a===Em&&o[s])return;o[s]&&Array.isArray(o[s].timestamps)||(o[s]={timestamps:[]});const c=(new Date).getTime();return o[s].timestamps.push(c),o[s].timestamps.sort(),t.info("[Event History] Added event for",e,"with hash",s,"and timestamp",c),n(o),o[s]},c=(e=[])=>e.map((({operation:e,event:t})=>s(t,e))),d=e=>{const{xdm:t}=e.getContent();if(!Pm(t))return;const{_experience:{decisioning:{propositionEventType:n={},propositionAction:{id:o}={},propositions:a=[]}={}}}=t;Object.keys(n).filter((e=>n[e]===hd)).forEach((e=>{a.forEach((t=>{km(t)===Mp&&s({eventId:Dm(t),eventType:e,action:o})}))}))};return{addExperienceEdgeEvent:d,addEvent:s,addEventPayloads:c,getEvent:(e,t)=>{const n=um({eventType:e,eventId:t});if(o[n])return o[n]},toJSON:()=>o,setStorage:i}},Hm=({eventRegistry:e,window:t,getBrowser:n})=>{const o=(new Date).getTime(),a=()=>({title:t.title,url:t.url,...nn(t.url)}),r=()=>({url:t.referrer,...nn(t.referrer)}),i=()=>{const e=new Date,t=e.getTime();return{pageLoadTimestamp:o,currentTimestamp:t,currentDate:e.getDate(),"~state.com.adobe.module.lifecycle/lifecyclecontextdata.dayofweek":e.getDay()+1,"~state.com.adobe.module.lifecycle/lifecyclecontextdata.hourofday":e.getHours(),currentMinute:e.getMinutes(),currentMonth:e.getMonth(),currentYear:e.getFullYear(),pageVisitDuration:t-o,"~timestampu":t/1e3,"~timestampz":e.toISOString()}},s=()=>({height:t.height,width:t.width,scrollY:t.scrollY,scrollX:t.scrollX}),c={browser:{name:n()},page:a(),referringPage:r()},d=()=>({...c,...i(),window:s(),"~sdkver":qr});return{getContext:(t={})=>{const n={...d(),...t};return{...Hp(n),events:e.toJSON()}}}};const zm=(e,...t)=>t,Wm=()=>!0,Gm=()=>{let e=zm,t=Wm,n=0;const o={},a=e=>()=>{delete o[e]},r=(e,t)=>"function"!=typeof e?()=>{}:(n+=1,o[n]={callback:e,params:t},{id:n,unsubscribe:a(n)}),i=(...n)=>{Object.values(o).forEach((({callback:o,params:a})=>{const r=e(a,...n);t(a,...r)&&o(...r)}))},s=(n,...a)=>{if(!n||!o[n])return;const{callback:r,params:i}=o[n],s=e(i,...a);t(i,...s)&&r(...s)};return{add:r,emit:i,emitOne:s,hasSubscriptions:()=>Object.keys(o).length>0,setEmissionPreprocessor:t=>{"function"==typeof t&&(e=t)},setEmissionCondition:e=>{"function"==typeof e&&(t=e)}}},Jm=({options:e})=>Ao({surfaces:ko(No()).uniqueItems(),schemas:ko(No()).uniqueItems(),callback:xo().required()}).noUnknownFields()(e),Qm=e=>{const{id:t,scope:n,scopeDetails:o}=e;return{id:t,scope:n,scopeDetails:o}};var Km=({collect:e})=>{let t=()=>{};const n=new Set,o=e=>[bd.INTERACT,bd.DISMISS].includes(e),a=(e,t,a)=>{const r=[e,t].join("-"),i=!a.has(r)&&(o(e)||!n.has(r));return a.add(r),n.add(r),i},r=(t,n=[])=>{if(!(n instanceof Array))return Promise.resolve();if(!Object.values(bd).includes(t))return Promise.resolve();const o=[],r=new Set;return n.forEach((e=>{const n=Qm(e);a(t,n.id,r)&&o.push(n)})),o.length>0?e({decisionsMeta:o,eventType:_d(t),documentMayUnload:!0}):Promise.resolve()},i=Gm(),s=(e,t)=>{const{surfacesFilter:n,schemasFilter:o}=e;return[{propositions:t.filter((e=>!n||n.includes(e.scope))).map((e=>{const{items:t=[]}=e;return{...e,items:t.filter((e=>!o||o.includes(e.schema)))}})).filter((e=>e.items.length>0))},r]};i.setEmissionPreprocessor(s);const c=({surfaces:e,schemas:n,callback:o})=>{const{id:a,unsubscribe:r}=i.add(o,{surfacesFilter:e instanceof Array?e:void 0,schemasFilter:n instanceof Array?n:void 0});return t(a),Promise.resolve({unsubscribe:r})};return{refresh:e=>{t=t=>{t?i.emitOne(t,e):i.emit(e)},t()},command:{optionsValidator:e=>Jm({options:e}),run:c}}};const Xm=({options:e})=>Ao({renderDecisions:So(),personalization:Ao({decisionContext:Ao({})})}).noUnknownFields()(e);var $m=({contextProvider:e,decisionProvider:t})=>({optionsValidator:e=>Xm({options:e}),run:({renderDecisions:n,decisionContext:o,applyResponse:a})=>a({renderDecisions:n,propositions:t.evaluate(e.getContext(o))})});const Ym=({config:e,eventManager:t,createNamespacedStorage:n,consent:o,getBrowser:a,logger:r})=>{const{orgId:i,personalizationStorageEnabled:s}=e,c=eu({eventManager:t,mergeDecisionsMeta:pu}),d=n(Pt(i)+".decisioning.");s||Tm(d.persistent);const l=Bm({storage:Om(),logger:r}),u=qm({eventRegistry:l}),p=Hm({eventRegistry:l,window:window,getBrowser:a}),m=$m({contextProvider:p,decisionProvider:u}),g=Km({collect:c});let f;return{lifecycle:{onDecision({propositions:e}){g.refresh(e)},onComponentsRegistered(e){f=Fm({lifecycle:e.lifecycle,eventRegistry:l}),s&&o.awaitConsent().then((()=>{l.setStorage(d.persistent)})).catch((()=>{d&&Tm(d.persistent)}))},onBeforeEvent({event:e,renderDecisions:t,personalization:n={},onResponse:o=Zt}){const{decisionContext:a={}}=n;o(zp({renderDecisions:t,decisionProvider:u,applyResponse:f,event:e,personalization:n,decisionContext:p.getContext({[bm.TYPE]:vm.EDGE,[bm.SOURCE]:ym.REQUEST,...a})}))},onBeforeRequest({request:e}){const t=e.getPayload().toJSON(),{events:n=[]}=t;0!==n.length&&n.forEach((e=>l.addExperienceEdgeEvent(e)))}},commands:{evaluateRulesets:{run:({renderDecisions:e,personalization:t={}})=>{const{decisionContext:n={}}=t;return m.run({renderDecisions:e,decisionContext:{[bm.TYPE]:vm.RULES_ENGINE,[bm.SOURCE]:ym.REQUEST,...n},applyResponse:f})},optionsValidator:m.optionsValidator},subscribeRulesetItems:g.command}}};Ym.namespace="RulesEngine",Ym.configValidators=Ao({personalizationStorageEnabled:So().default(!1)});var Zm=Ao({streamingMedia:Ao({channel:No().nonEmpty().required(),playerName:No().nonEmpty().required(),appVersion:No(),mainPingInterval:To().minimum(10).maximum(50).default(10),adPingInterval:To().minimum(1).maximum(10).default(10)}).noUnknownFields()}),eg=({options:e})=>Po([Ao({playerId:No().required(),getPlayerDetails:xo().required(),xdm:Ao({mediaCollection:Ao({sessionDetails:Ao(Do()).required()})}),edgeConfigOverrides:Mo}).required(),Ao({xdm:Ao({mediaCollection:Ao({playhead:To().required(),sessionDetails:Ao(Do()).required()})}),edgeConfigOverrides:Mo}).required()],"an object with playerId, getPlayerDetails and xdm.mediaCollection.sessionDetails, or an object with xdm.mediaCollection.playhead and xdm.mediaCollection.sessionDetails")(e),tg=({options:e})=>Po([Ao({playerId:No().required(),xdm:Ao({eventType:jo(...Object.values(cc)).required(),mediaCollection:Ao(Do())}).required()}).required(),Ao({xdm:Ao({eventType:jo(...Object.values(cc)).required(),mediaCollection:Ao({playhead:To().integer().required(),sessionID:No().required()}).required()}).required()}).required()],"Error validating the sendMediaEvent command options.")(e),ng=({config:e,trackMediaEvent:t,trackMediaSession:n,mediaResponseHandler:o})=>({lifecycle:{onBeforeEvent({mediaOptions:e,onResponse:t=Zt}){if(!e)return;const{legacy:n,playerId:a,getPlayerDetails:r}=e;n||t((({response:e})=>o({playerId:a,getPlayerDetails:r,response:e})))}},commands:{createMediaSession:{optionsValidator:e=>eg({options:e}),run:n},sendMediaEvent:{optionsValidator:e=>tg({options:e}),run:n=>e.streamingMedia?t(n):Promise.reject(new Error("Streaming media is not configured."))}}});const og=({config:e,logger:t,eventManager:n,sendEdgeNetworkRequest:o,consent:a})=>{const r=pc(),i=lc({config:e,eventManager:n,consent:a,sendEdgeNetworkRequest:o,setTimestamp:Mr((()=>new Date))}),s=gc({mediaSessionCacheManager:r,mediaEventManager:i,config:e}),c=fc({
config:e,mediaEventManager:i,mediaSessionCacheManager:r}),d=bc({mediaSessionCacheManager:r,config:e,trackMediaEvent:s});return ng({config:e,trackMediaEvent:s,mediaResponseHandler:d,trackMediaSession:c})};og.namespace="Streaming media",og.configValidators=Zm;const ag="advertising",rg="_les_lsc",ig="lastConversionTime",sg="displayClickCookieExpires",cg="rampIdExpires",dg="lastConversionTimeExpires",lg="s_kwcid",ug="ef_id",pg="surferId",mg="rampId",gg="id5Id",fg="",hg=30,bg=527040,vg="advertising.enrichment_ct",yg="advertising.enrichment",wg="trackingCode",_g="trackingIdentities",Cg="https://www.everestjs.net/static/id5-api.js",Eg="pixel.everesttech.net",Ig="1",Pg=5e3,Dg="www.everestjs.net",kg="gsurfer",Sg="Processing ad conversion",xg="Unable to obtain ad identity",Og="Ad conversion submitted successfully",Tg="Ad conversion submission failed",Rg="ev_lcc";let Ag="",Ng="",jg=null;const Lg=e=>{document.body?document.body.appendChild(e):window.addEventListener("load",(()=>{document.body.appendChild(e)}),!1)},Mg=e=>ke("iframe",{src:e},{height:0,width:0,frameBorder:0,style:{display:"none"}},[]),Vg=e=>window.addEventListener("message",e,!1),qg=e=>window.removeEventListener("message",e,!1),Ug=()=>jg||(jg=new Promise(((e,t)=>{setTimeout((()=>{const n="https:"===document.location.protocol?"https:":"http:",o=n+"//www.everestjs.net/static/pixel_details.html#"+new URLSearchParams({google:"__EFGCK__",gsurfer:"__EFGSURFER__",imsId:"__EFIMSORGID__",is_fb_cookie_synced:"__EFFB__",optout:"__EFOPTOUT__",throttleCookie:"__EFSYNC__",time:"__EFTIME__",ev_lcc:"__LCC__"}).toString(),a=new URLSearchParams({ev_gb:"0",url:o}),r=n+"//"+Eg+"/"+Ig+"/gr?"+a.toString(),i=Mg(r);Lg(i),Vg((function n(o){if(o.origin.includes(Dg))try{const t=o.data,a=t.indexOf("#");if(-1===a)return void e({surferId:null,displayClickCookie:null});const r=new URLSearchParams(t.substring(a+1));let i,s;const c=r.get(kg);c&&(i=c);const d=r.get(Rg);d&&"__LCC__"!==d&&(s=d),qg(n),i?(Ag=i,Ng=s,e({surferId:Ag,displayClickCookie:Ng})):e({surferId:null,displayClickCookie:null})}catch(e){t(e)}finally{jg=null}}))}),Pg)})),jg),Fg=function(e,t,n=!0){if(t&&!Mt({getBrowser:t})())return Promise.resolve(null);if(Ag&&""!==Ag)return Promise.resolve(Ag);if(e){const t=e.getValue(pg);if(t)return Ag=t,Promise.resolve(t)}return n?Ug().then((t=>(e&&t&&(t.surferId&&e.setValue(pg,t.surferId),t.displayClickCookie&&(e.setValue(Rg,t.displayClickCookie),e.setValue(sg,Date.now()+9e5))),t.surferId))):Promise.resolve(null)},Bg={MAX_COUNT:15,MAX_TIME_MS:3e4,DELAY_BASE_MS:500,MAX_DELAY_MS:5e3,SHORT_TIMEOUT_MS:5e3},Hg={rampIdEnv:void 0,rampIdCallInitiated:!1,inProgressRampIdPromise:null,envelopeRetrievalInProgress:!1},zg=(e,t,n,o)=>{let a;try{a=JSON.parse(e).envelope}catch{a=e}a&&!Hg.rampIdCallInitiated?(Hg.rampIdCallInitiated=!0,Hg.rampIdEnv=a,Hg.envelopeRetrievalInProgress=!1,Hg.inProgressRampIdPromise=null,n.setValue(mg,Hg.rampIdEnv),n.setValue(cg,Date.now()+1728e5),t(Hg.rampIdEnv)):(o.warn("Invalid RampID envelope received",{envelope:a}),Hg.envelopeRetrievalInProgress=!1)},Wg=(e,t,n,o)=>{let a=Bg.MAX_COUNT,r=1,i=0;const s=()=>{if(Hg.rampIdEnv)return;if(i>Bg.MAX_TIME_MS)return o.error("Maximum retry time exceeded"),Hg.envelopeRetrievalInProgress=!1,t(new Error("Failed to retrieve RampID - timeout")),void(Hg.inProgressRampIdPromise=null);if(0===a)return o.error("Maximum retries exceeded"),Hg.envelopeRetrievalInProgress=!1,t(new Error("Failed to retrieve RampID after maximum retries")),void(Hg.inProgressRampIdPromise=null);const c=Math.min(Bg.DELAY_BASE_MS*r,Bg.MAX_DELAY_MS);setTimeout((()=>{i+=c,a-=1,r+=1,void 0===window.ats||null===window.ats||Hg.rampIdEnv||Hg.envelopeRetrievalInProgress?s():(Hg.envelopeRetrievalInProgress=!0,window.ats.retrieveEnvelope().then((t=>{zg(t,e,n,o),Hg.rampIdEnv||s()}),(()=>{o.warn("Failed to retrieve envelope"),Hg.envelopeRetrievalInProgress=!1,s()})))}),c)};s()},Gg=(e,t,n,o=!1)=>{if(Hg.inProgressRampIdPromise)return Hg.inProgressRampIdPromise;const a=o?Bg.SHORT_TIMEOUT_MS:Bg.MAX_TIME_MS;let r=!1;const i=new Promise(((o,a)=>{lt(e,{onLoad:()=>{void 0===window.ats||Hg.envelopeRetrievalInProgress||(Hg.envelopeRetrievalInProgress=!0,window.ats.retrieveEnvelope().then((e=>{e?r||zg(e,o,t,n):(Hg.envelopeRetrievalInProgress=!1,window.addEventListener("lrEnvelopePresent",(()=>{Hg.envelopeRetrievalInProgress||r||(Hg.envelopeRetrievalInProgress=!0,window.ats.retrieveEnvelope().then((e=>{r||zg(e,o,t,n)}),(e=>{r||(n.error("Failed to retrieve envelope after event",e),Hg.envelopeRetrievalInProgress=!1,a(e),Hg.inProgressRampIdPromise=null)})))})))})).catch((e=>{r||(n.error("Error retrieving envelope",e),Hg.envelopeRetrievalInProgress=!1,a(e),Hg.inProgressRampIdPromise=null)}))),Wg((e=>{r||o(e)}),(e=>{r||a(e)}),t,n)},onError:e=>{r||a(e),Hg.inProgressRampIdPromise=null}})})),s=new Promise((e=>{setTimeout((()=>{r=!0,e(null)}),a)}));return Hg.inProgressRampIdPromise=Promise.race([i,s]).finally((()=>{Hg.inProgressRampIdPromise=null})),Hg.inProgressRampIdPromise},Jg=(e,t,n,o=!0,a=!1)=>{if(Hg.rampIdEnv)return Promise.resolve(Hg.rampIdEnv);if(n){const e=n.getValue(mg),t=n.getValue(cg);if(e&&t&&t>Date.now())return Hg.rampIdEnv=e,Promise.resolve(e)}return o&&null!=t?Gg(t,n,e,a):Promise.resolve(null)};let Qg="",Kg=null;const Xg=5e3,$g=3e4,Yg=(e,t,n)=>{if(e=Math.floor(Number(e)),Kg)return Kg;const o=t?Xg:$g;let a=!1;const r=new Promise(((t,o)=>{if(!e)return n.error("Missing partner ID"),void o(new Error("ID5 partner ID is required"));const r=()=>{try{if(void 0===window.ID5)return void o(new Error("ID5 object not available after script load"));const r=window.ID5.init({partnerId:e});Qg=r.getUserId();const i=e=>{a||t(e)};Qg?i(Qg):window.ID5.init({partnerId:e}).onAvailable((function(t){Qg=t.getUserId(),Qg?i(Qg):window.ID5.init({partnerId:e}).onAvailable((function(e){Qg=e.getUserId(),Qg?i(Qg):(n.error("Failed to get ID5 ID after all retries"),i(null))}))}),1e3)}catch(e){n.error("Error during ID5 initialization",e),o(e)}};void 0!==window.ID5?r():lt(Cg,{onLoad:r,onError:e=>{n.error("Script loading failed",e),o(e)}})})),i=new Promise((e=>{setTimeout((()=>{a=!0,e(null)}),o)}));return Kg=Promise.race([r,i]).finally((()=>{Kg=null})),Kg},Zg=function(e,t,n=!0,o=!1){return Qg&&""!==Qg?Promise.resolve(Qg):n?Yg(t,o,e).then((e=>e)).catch((t=>{throw e.error("Failed to get ID5 ID",t),t})):Promise.resolve(null)},ef=()=>{const e=sn.parse(window.location.search);return{skwcid:e[lg],efid:e[ug]}},tf=e=>e&&Array.isArray(e)?e.filter((e=>e&&!0===e.enabled&&e.advertiserId)).map((e=>e.advertiserId)).join(", "):fg,nf=(e,t,n,o,a=!1)=>{const r=n.getValue(rg);let i=null;const s=n.getValue(sg);s&&s>Date.now()&&(i=n.getValue(Rg));const c={advertising:{...r?.click_time&&{lastSearchClick:r.click_time},...i&&{lastDisplayClick:i},stitchIds:{...e[pg]&&{surferId:e[pg]},...e[gg]&&{id5:e[gg]},...e[mg]&&{rampIdEnv:e[mg]},ipAddress:"DUMMY_IP_ADDRESS"},advIds:tf(o.advertiserSettings),...a&&{eventType:yg}}};return t.mergeQuery(c),t},of=(e,t)=>Object.entries(e).some((([e])=>!t[e])),af=(e,t,n,o)=>{const a=Date.now();e.forEach((e=>{t[e]=!0,n.setValue(e+"_last_conversion",a),o.info(Og.replace("{0}",e))})),n.setValue(ig,a)},rf=(e,t)=>{const n=Date.now(),o=18e5,a=t.getValue(e+"_last_conversion");return Boolean(a&&n-a<o)},sf=(e,t,n,o)=>{const a={};return rf(pg,n)||(a.surferId=Fg(n,o,!0).catch((()=>null))),t.id5PartnerId&&t.dspEnabled&&!rf(gg,n)&&(a.id5Id=Zg(e,t.id5PartnerId).catch((()=>null))),t.rampIdJSPath&&t.dspEnabled&&!rf(mg,n)&&(a.rampId=Jg(e,t.rampIdJSPath,n,!0).catch((()=>null))),a};var cf=({eventManager:e,cookieManager:t,adConversionHandler:n,logger:o,componentConfig:a,getBrowser:r})=>{const i=a?.advertiserSettings?tf(a.advertiserSettings):"";return async()=>{const{skwcid:s,efid:c}=ef(),d=!(!s&&!c);try{if(d)return ae({eventManager:e,cookieManager:t,adConversionHandler:n,logger:o,skwcid:s,efid:c});i&&re({eventManager:e,cookieManager:t,logger:o,componentConfig:a,adConversionHandler:n,getBrowser:r}).catch((e=>o.error("Error in view through:",e)))}catch(e){o.error("Error in sendAdConversion:",e)}}};const df=e=>![ia,ra].includes(e?.handleAdvertisingData),lf=e=>e?.handleAdvertisingData===ra;var uf=({logger:e,config:t,eventManager:n,cookieManager:o,adConversionHandler:a,getBrowser:r})=>{const i=t.advertising,s=cf({eventManager:n,cookieManager:o,adConversionHandler:a,logger:e,componentConfig:i,getBrowser:r});return{lifecycle:{onComponentsRegistered:()=>s(),onBeforeEvent:({event:t,advertising:n={}})=>ie({cookieManager:o,logger:e,event:t,componentConfig:i,advertising:n,getBrowser:r})}}},pf=Ao({advertising:Ao({id5PartnerId:No(),rampIdJSPath:No(),dspEnabled:So(),advertiserSettings:ko(Ao({advertiserId:No().required(),enabled:So().required()}).noUnknownFields())}).noUnknownFields()}),mf=({sendEdgeNetworkRequest:e,consent:t,createDataCollectionRequest:n,createDataCollectionRequestPayload:o,logger:a})=>{const r=({event:r})=>{const i=o();i.addEvent(r),r.finalize();const s=n({payload:i});return t.awaitConsent().then((()=>e({request:s}).then((()=>({success:!0}))).catch((e=>{throw a.error("Failed to send ad conversion event",e),e}))))};return{trackAdConversion:r}},gf=({orgId:e,logger:t})=>{const n=ye({logger:t,cookieJar:ge}),o=(t,n=!0)=>n?Dt(e,t):t,a=(e=hg)=>new Date(Date.now()+60*e*1e3),r=e=>{try{if(e?.startsWith("%7B")||e?.startsWith("{"))return JSON.parse(decodeURIComponent(e))}catch{}return e},i=e=>"object"==typeof e&&null!==e?encodeURIComponent(JSON.stringify(e)):e,s=(e,a=!0)=>{try{const t=o(e,a),i=n.get(t);return i?r(i):null}catch(n){return t.error("Error reading cookie: "+e,n),null}},c=(e,a,r={},s=!0)=>{try{const t=o(e,s),c=i(a);return n.set(t,c,r),!0}catch(n){return t.error("Error writing cookie: "+e,n),!1}};return{setValue:(e,t,n={})=>{const o={...s(ag)||{},[e]:t};return c(ag,o,{expires:a(bg),...n})},getValue:e=>(s(ag)||{})[e]}};const ff=({logger:e,config:t,eventManager:n,sendEdgeNetworkRequest:o,consent:a,getBrowser:r})=>{const i=gf({orgId:t.orgId,logger:e}),s=mf({sendEdgeNetworkRequest:o,consent:a,createDataCollectionRequest:Ha,createDataCollectionRequestPayload:Ja,logger:e});return uf({logger:e,config:t,eventManager:n,cookieManager:i,adConversionHandler:s,getBrowser:r})};ff.namespace="Advertising",ff.configValidators=pf;const hf=async({vapidPublicKey:e,window:t})=>{if(!("serviceWorker"in t.navigator))throw new Error("Service workers are not supported in this browser.");if(!("PushManager"in t)||!("Notification"in t))throw new Error("Push notifications are not supported in this browser.");if("granted"!==t.Notification.permission)throw new Error("The user has not given permission to send push notifications.");const n=await t.navigator.serviceWorker.getRegistration();if(!n)throw new Error("No service worker registration was found.");if(!e)throw new Error("No VAPID public key was provided.");const o={userVisibleOnly:!0,applicationServerKey:ue(e)};try{const e=await n.pushManager.subscribe(o);return{endpoint:e.endpoint,keys:{p256dh:pe(new Uint8Array(e.getKey("p256dh"))),auth:pe(new Uint8Array(e.getKey("auth")))}}}catch(o){const a=await n.pushManager.getSubscription();if(!a)throw o;if(!await a.unsubscribe())throw o;return hf({vapidPublicKey:e,window:t})}};var bf=({payload:e})=>Ba({payload:e,getAction:()=>"interact",getUseSendBeacon:()=>!1}),vf=async({ecid:e,eventManager:t,serializedPushSubscriptionDetails:n,window:o})=>{const a=t.createEvent();a.setUserData({pushNotificationDetails:[{appID:o.location.host,token:n,platform:"web",denylisted:!1,identity:{namespace:{code:"ECID"},id:e}}]}),a.finalize();const r=Ja();return r.addEvent(a),r};const yf="subscriptionDetails";var wf=async({config:{vapidPublicKey:e},storage:t,logger:n,sendEdgeNetworkRequest:o,consent:a,eventManager:r,identity:i,window:s})=>{await i.awaitIdentity();const c=i.getEcidFromCookie(),d=await hf({vapidPublicKey:e,window:s}),l=JSON.stringify(dn(d)),u=""+c+l;if(u===t.getItem(yf))return void n.info("Subscription details have not changed. Not sending to the server.");t.setItem(yf,u);const p=await vf({eventManager:r,ecid:c,serializedPushSubscriptionDetails:l,window:s}),m=bf({payload:p});await a.awaitConsent(),await o({request:m})};const _f=({orgId:e,pushNotifications:{vapidPublicKey:t}={vapidPublicKey:void 0}})=>e&&t,Cf=({createNamespacedStorage:e,eventManager:t,config:n,logger:o,consent:a,identity:r,sendEdgeNetworkRequest:i})=>({commands:{sendPushSubscription:{run:async()=>{if(!_f(n))throw new Error("Push notifications module is not configured. No VAPID public key was provided.");const{orgId:s,pushNotifications:{vapidPublicKey:c}={vapidPublicKey:void 0}}=n||{},d=e(Pt(s)+".pushNotifications.");return wf({config:{vapidPublicKey:c},storage:d.persistent,logger:o,sendEdgeNetworkRequest:i,consent:a,eventManager:t,identity:r,window:window})},optionsValidator:Ao({}).noUnknownFields()}}});Cf.namespace="Push Notifications",Cf.configValidators=Ao({pushNotifications:Ao({vapidPublicKey:No().required()}).noUnknownFields()});var Ef=({options:e})=>Po([Ao({message:No().required()}),Ao({xdm:Ao({interactionId:No(),conversationId:No(),conversation:Ao({feedback:Ao({classification:No(),comment:No(),reasons:ko(No())})})})}).required()])(e),If=({options:e,logger:t})=>Ao({src:No().required(),stylingConfigurations:Ao({}),selector:No().required(),stickySession:So().default(!1)})(e),Pf=({payload:e,action:t="conversations",sessionId:n})=>Ba({payload:e,edgeSubPath:"/brand-concierge",requestParams:{sessionId:n},getAction:()=>t,getUseSendBeacon:()=>!1});const Df="adobe-brand-concierge-client-",kf="bc_session_id",Sf=()=>{const e=Vo({window:window});return nd(e)},xf=(e,t)=>new Promise(((n,o)=>{t.onload=()=>{n(t)},t.onerror=()=>{o(new Error("Failed to load script: "+e))}})),Of=(e,t)=>{if(!t)return;const n=document.getElementById(t),o=document.createElement("script");if(o.src=e,o.async=!0,o.id=t,n)return xf(e,o);const a=xf(e,o);return document.head.appendChild(o),a},Tf=e=>{const t=Pt(e.orgId);return It+"_"+t+"_"+kf},Rf=({loggingCookieJar:e,config:t})=>{const n=Tf(t);return e.get(n)};var Af=()=>{function e(e){const t=e.split("\n");let n="message",o="";for(const e of t)e.startsWith("event:")?n=e.substring(6).trim():e.startsWith("data:")&&(o+=e.substring(5).trim()+"\n");return o?{type:n,data:o.trim()}:null}return async(t,n)=>{const o=t.getReader(),a=new TextDecoder("utf-8");let r="";try{for(;;){const{done:t,value:i}=await o.read();if(t)break;r+=a.decode(i,{stream:!0});const s=r.split("\r\n");r=s.pop()||"";for(const t of s){const o=e(t);o&&n(o)}}if(r.trim()){const t=e(r);t&&n(t)}}catch(e){n({error:e})}finally{o.releaseLock()}}},Nf=({logger:e,isRequestRetryable:t,getRequestRetryDelay:n,fetch:o})=>async({requestId:a,url:r,request:i,streamingEnabled:s=!0})=>{const c=i.getPayload(),d=JSON.stringify(c),l=JSON.parse(d),u={"Content-Type":"text/plain"};u.Accept=s?"text/event-stream":"text/plain",e.logOnBeforeNetworkRequest({url:r,requestId:a,payload:l});const p=async(i=0)=>{try{return await o(r,{method:"POST",headers:u,body:d}).then((e=>{if(!e.ok){if(t({response:e,retriesAttempted:i})){const t=n({response:e,retriesAttempted:i});return new Promise((e=>{setTimeout((()=>{e(p(i+1))}),t)}))}throw new Error("Request failed with status "+e.status)}return e}))}catch(t){throw e.logOnNetworkError({requestId:a,url:r,payload:l,error:t}),pn({error:t,message:"Network request failed."})}};return p()},jf=({consent:e,eventManager:t,loggingCookieJar:n,config:o,logger:a,fetch:r,buildEndpointUrl:s,lifecycle:c,cookieTransfer:d,createResponse:l})=>{const{edgeDomain:u,edgeBasePath:p,datastreamId:m,onBeforeEventSend:g}=o,f=Nf({logger:a,isRequestRetryable:_r,getRequestRetryDelay:kr,fetch:r}),h=Zo({orgId:o.orgId,cookieJar:n,logger:a});return r=>{let b=!1;const{message:v,onStreamResponse:y,xdm:w}=r,_=Rf({loggingCookieJar:n,config:o}),C=Ja(),E=Pf({payload:C,sessionId:_||i()}),I=t.createEvent();if(v){const e=Sf();I.mergeQuery({conversation:{surfaces:[e],message:v}})}const P=h();I.mergeXdm({identityMap:{ECID:[{id:P}]}}),I.mergeXdm({...w}),v&&(b=!0);const D=s({edgeDomain:u,edgeBasePath:p,datastreamId:m,request:E});return e.awaitConsent().then((()=>c.onBeforeEvent({event:I}).then((()=>{try{I.finalize(g)}catch(e){throw y({error:e}),e}return C.addEvent(I),f({requestId:i(),url:D,request:E,onStreamResponse:y,streamingEnabled:b}).then((e=>{if(204===e.status)return;const t=e=>{e.error&&y({error:error});const t=e.data.replace("data: ",""),n=JSON.parse(t),o=l({content:n});d.responseToCookies(o),a.info("onStreamResponse callback called with",o.getPayloadsByType("brand-concierge:conversation")),y(o.getPayloadsByType("brand-concierge:conversation"))};Af()(e.body,t)}))}))))}},Lf=({logger:e,instanceName:t,loggingCookieJar:n,config:o})=>a=>{a.selector&&(a.stickySession||n.remove(Tf(o)),document.getElementById(Df+t)?window.dispatchEvent(new CustomEvent("alloy-brand-concierge-instance",{detail:{instanceName:t,stylingConfigurations:a.stylingConfigurations,selector:a.selector}})):(window.addEventListener("adobe-brand-concierge-prompt-loaded",(()=>{window.dispatchEvent(new CustomEvent("alloy-brand-concierge-instance",{detail:{instanceName:t,stylingConfigurations:a.stylingConfigurations,selector:a.selector}}))})),Of(a.src,Df+t).then((()=>e.info("Brand Concierge script loaded",{instance:t,src:a.src})))))},Mf=({queryString:e})=>({edgeDomain:t,request:n,datastreamId:o})=>{const a=n.getRequestParams(),r=n.getDatastreamIdOverride()||o;a.requestId=n.getId(),a.configId=r;const i=e.stringify({...a});return"https://"+t+n.getEdgeSubPath()+"/"+n.getAction()+"?"+i};const Vf=({loggingCookieJar:e,logger:t,eventManager:n,consent:o,instanceName:a,sendEdgeNetworkRequest:r,config:i,lifecycle:s})=>{const{fetch:c}=window,d=Et(window,ge),l=or({cookieJar:e,shouldTransferCookie:!1,apexDomain:d,dateProvider:()=>new Date}),u=Qo({logger:t}),p=ya({extractEdgeInfo:u}),m=Mf({queryString:sn}),g=Lf({logger:t,instanceName:a,loggingCookieJar:e,config:i}),f=jf({loggingCookieJar:e,logger:t,eventManager:n,consent:o,config:i,fetch:c,buildEndpointUrl:m,lifecycle:s,cookieTransfer:l,createResponse:p});return{lifecycle:{onBeforeEvent({event:e,conversation:t}){if(t){const n=Sf();e.mergeQuery({conversation:{...t,surfaces:n}})}},onResponse:({response:e})=>{const t=e.getPayloadsByType("brand-concierge:config");if(t.length>0)return{concierge:{...t}};const n=e.getPayloadsByType("brand-concierge:conversation");return n.length>0?n[0]:void 0}},commands:{bootstrapConversationalExperience:{optionsValidator:e=>If({logger:t,options:e}),run:g},sendConversationEvent:{optionsValidator:e=>Ef({options:e}),run:f}}}};Vf.namespace="BrandConcierge";var qf=Object.freeze({__proto__:null,activityCollector:Bs,advertising:ff,audiences:Gs,brandConcierge:Vf,consent:ac,eventMerge:sc,mediaAnalyticsBridge:Rc,personalization:qp,pushNotifications:Cf,rulesEngine:Ym,streamingMedia:og});Yi({components:Object.values(qf)})}(),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e,t=window,n=document,o=t._satellite,a=o.environment,r=a?.stage,i=a?.id,s=o.cookie,c=t.alloy,d=window.marketingtech,l=d&&d.adobe&&d.adobe.alloy,u=function(e){var t,n,o,a;if((t=e.xdm)&&(n=t.web)&&(o=n.webInteraction)&&(a=o.type)&&"exit"!=a&&"download"!=a)return!1};return o.alloyConfigurePromise=Promise.resolve().then((function(){return new Promise((function(e){setTimeout(e,0)}))})).then((function(){o.getVar("alloy_configure"),e=t.alloy_all.get("data._adobe_corpnew.configuration.edgeConfigId")})).then((function(){return new Promise((function(e){setTimeout(e,0)}))})).then((function(){let e="C0002",n="C0003",a="C0004",c=s.get("kndctr_9E1005A551ED61CA0A490D45_AdobeOrg_consent");c=c?c.split(";").reduce((function(e,t){return e[(t=t.split("="))[0]]=t[1],e}),{}):{};let d=s.get("OptanonConsent");o._cmpState=o.getVar("cmp.state"),o._C0002=d?.includes(e+":1"),o._C0003=d?.includes(n+":1"),o._C0004=d?.includes(a+":1");let l=e=>new Promise((n=>{t.alloy("setConsent",{consent:[{standard:"Adobe",version:"2.0",value:{collect:{val:e?"y":"n"},metadata:{time:(new Date).toISOString()}}}]}).then(n).catch(n)})),u=(e,n,o,a)=>new Promise((s=>{let c,d,l,u="application/vnd.adobe.xed-full+json;version=1.0",p=crypto.randomUUID(),m="9E1005A551ED61CA0A490D45@AdobeOrg",g="Adobe Tags - ENB | Global | AEP",f="/_adobe_corpnew/otherConsents/configuration";"production"===r?(c="https://dcs.adobedc.net/collection/e891d3631145f2a3263cc9791b49ce1aa98295228a85170b4d9a0e9b7ac07d25",d="https://ns.adobe.com/adobe_corpnew/schemas/677fbfda18384db0633d015f2760f5717899103119feae9d",l="689d24aea30f692b9395a0c4"):"staging"===r||"EN42751a09a105426fb57753d5bf45aa51"===i?(c="https://dcs.adobedc.net/collection/b59a9918701c588f941bf30f344351b6e0031a233a8cf94aee223273e6760f57",d="https://ns.adobe.com/adobe_corpnew/schemas/677fbfda18384db0633d015f2760f5717899103119feae9d",l="689bbf588f992a2b93c8cf9c"):(c="https://dcs.adobedc.net/collection/e61f09db471e6039b2f04f00dbbf835fb1f592e6f2f336b67c29959e85cf8e02",d="https://ns.adobe.com/adobe_corpnew/schemas/677fbfda18384db0633d015f2760f5717899103119feae9d",l="689a6c4977dfa92b92cb0171");let h,b=(e,t)=>({op:"add",path:e,value:t});t.alloy_getIdentity.then((function(e){h=e?.identity?.ECID})).then((()=>fetch(c,{method:"POST",body:JSON.stringify({header:{schemaRef:{id:d,contentType:u},imsOrgId:m,datasetId:l,msgType:"xdmEntityUpdate",msgVersion:"1.0",msgId:p,source:{name:g}},body:{xdmMeta:{schemaRef:{id:d,contentType:u}},xdmEntityUpdates:{identity:{id:h,namespace:{code:"ECID"}},operations:[b(f+"/advertising",!!o),b(f+"/functional",!!n),b(f+"/performance",!!e),b("/_adobe_corpnew/cmp/state",a)]}}})}))).then(s).catch(s)})),p=()=>{if(!t.adobePrivacy)return;let r=t.adobePrivacy.activeCookieGroups(),i=r.includes(e),s=r.includes(n),d=r.includes(a);"post"===o._cmpState&&i===o._C0002&&s===o._C0003&&d===o._C0004||(c.general=i?"in":"out",o._cmpState="post",o._C0002=i,o._C0003=s,o._C0004=d,l(i),u(i,s,d,"post"))},m="adobePrivacy:Privacy";return t.addEventListener(m+"Consent",p),t.addEventListener(m+"Reject",p),t.addEventListener(m+"Custom",p),d&&!d.includes("interactionCount=0")||"pre"!==o._cmpState&&"unknown"!==o._cmpState||u(!1,!1,!1,o._cmpState),"out"===c.general?"out":"in"})).then((function(a){return c("configure",{edgeConfigId:e,orgId:"9E1005A551ED61CA0A490D45@AdobeOrg",edgeDomain:l?.edgeDomain||"sstats.adobe.com",edgeBasePath:l?.edgeBasePath||"ee",streamingMedia:{channel:"Video Channel",playerName:-1!==t.location.hostname.indexOf("video.tv.adobe.com")?"html5-player":n.querySelector('[src*="youtube.com"]')?"YouTube":n.querySelector(".mobileRider_container")?"mobileRider":"noPlayer",appVersion:"Media Analytics with Web SDK "+t.libraryVersion},idMigrationEnabled:!0,thirdPartyCookiesEnabled:!1,context:["web","device","environment","placeContext","highEntropyUserAgentHints"],defaultConsent:a,clickCollectionEnabled:l?.clickCollectionEnabled??!0,clickCollection:{internalLinkEnabled:l?.clickCollection?.internalLinkEnabled??!0,downloadLinkEnabled:l?.clickCollection?.downloadLinkEnabled??!0,externalLinkEnabled:l?.clickCollection?.externalLinkEnabled??!0},onBeforeEventSend:o.getVar("_onBeforeEventSend"),onBeforeLinkClickSend:u,targetMigrationEnabled:!0})})).catch((function(){})),!0}},timeout:2e3}],actions:[]},{id:"RL1c68f785cd904c599f6b8843773e14f9",name:"C4-99-GoogleGtag",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:99}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return window===window.top}},timeout:2e3}],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC53a8a23fa902459e8f9af2e9cc76f16a-file.min.js"}}]},{id:"RL1f79b7b73664437c9dd3eed38808aae1",name:"DC-66-evaluateRulesets",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"evaluateRulesets"},ruleOrder:66}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=window,n=e&&e.detail||{},o=t.alloy,a=t._satellite;Promise.resolve().then((function(){return a.alloyConfigurePromise})).then((function(){return o("evaluateRulesets",{renderDecisions:n.renderDecisions||!0,personalization:n.personalization||{}})})).then((function(e){t.dispatchEvent(new CustomEvent("alloy_evaluateRulesets",{detail:{result:e}}))}),(function(e){t.dispatchEvent(new CustomEvent("alloy_evaluateRulesets",{detail:{error:e}}))}))}},timeout:2e3}],actions:[]},{id:"RL211edacbe0bb4403b5fd1c240166199a",name:"C2-56-AttributionCookies",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C2"},ruleOrder:56}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC91ad29886abe4fb9abcce022c24f858d-file.min.js"},timeout:2e3,delayNext:!0}]},{id:"RL24e00e7c91294d1aa547c0f84965c00e",name:"C4-80-AMO",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:80}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=window.location,t=e.hostname;return e.pathname,-1==t.search("express.adobe.com")&&-1==t.search("projectx")&&-1==t.search("localhost.adobe.com")}},timeout:2e3}],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RCff6fcd46bd3e4edfb245500f941dc3c4-file.min.js"}}]},{id:"RL287e62e6d616482c9cb813c4ba2daafe",name:"C4-91-Flashtalking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:91}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RCa1ae92193a6b48988ee706b333f9ffd6-file.min.js"}}]},{id:"RL2a5a71a0b11b4cee8873274f398f9ea9",name:"C4-57-TTD-Cookie",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:57}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RCffb9405072cb43d6ba42ced37990f814-file.min.js"}}]},{id:"RL2a91ad01e5b54745b46339e5b81afb0b",name:"C4-82-Kakao",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:82}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC0ac65061eb4442ecaf280011885d1074-file.min.js"}}]},{id:"RL2bbf2404f9664f71b69ce23267b229cd",name:"DC-propositionFetch",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"propositionFetch"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=window,n=e&&e.detail||{},o=t.alloy,a=t._satellite,r=n?.edgeConfigOverrides?.com_adobe_analytics?.reportSuites,i=n&&n.decisionScopes||n&&n.targetConfig&&n.targetConfig.scope||[],s=n&&n.personalization&&n.personalization.surfaces||[],c=a.getVar("_alloy_sendEventStateless"),d=function(e,t){return e=JSON.parse(JSON.stringify(e)),t&&e.propositions&&t.length>0&&e.propositions.length>0&&(e.propositions=e.propositions.filter((e=>t.includes(e.scope)))),e},l=i;s&&s.length&&Array.isArray(l)&&Array.isArray(s)&&(l=l.concat(s));var u=async function(){if(a.getVar("alloy_configure",{value:r}),"general=out"!==a.cookie.get("kndctr_9E1005A551ED61CA0A490D45_AdobeOrg_consent"))return o("sendEvent",{type:"decisioning.propositionFetch",renderDecisions:!0,decisionScopes:i,personalization:{surfaces:s,sendDisplayEvent:!0},data:n.data,xdm:n.xdm});if(n.strictlyNecessary&&t.alloy_all.xdm.identityMap?.adobeGUID?.[0]?.id)return c({type:"decisioning.propositionFetch",decisionScopes:i,personalization:{surfaces:s},data:n.data,xdm:n.xdm});{let e=new Error("Opted Out - User is opted out");throw e.type="consent",e}};Promise.resolve().then((function(){return a.alloyConfigurePromise})).then((function(){return s&&s.length&&t.alloy_all&&t.alloy_all.promises?(a.DE._alloy_all||a.getVar("alloy_all")(),Promise.all([].concat(t.alloy_all.promises))):Promise.resolve()})).then(u,u).then((function(e){var o=d(e,l);if(t.persProposition=t.persProposition||[],t.persProposition.push(o),t.ajoSurfaces=t.ajoSurfaces||[],t.ajoSurfaces.push(s),n.done)try{o.clusterRegion=a.cookie.get("kndctr_9E1005A551ED61CA0A490D45_AdobeOrg_cluster"),n.done(o)}catch(e){}a.getVar("alloy_handleResponse",{value:e}),t.dispatchEvent(new CustomEvent("alloy_propositionFetch",{detail:{type:"decisioning.propositionFetch",result:o}}))}),(function(e){if(n.done)try{n.done(void 0,e)}catch(e){}t.dispatchEvent(new CustomEvent("alloy_propositionFetch",{detail:{type:"decisioning.propositionFetch",error:e}}))}))}},timeout:2e3}],actions:[]},{id:"RL2dfa39033b944d97967401c7d0372902",name:"C4-83-ISpot",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:83}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC1932b4a75c7d4d8d97a7ab3f394d7498-file.min.js"}}]},{id:"RL392371414a86480699a4984bd19ccb35",name:"C4-73-Demandscience",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RCc8d68bc2f2ee4b289c547d86bc08ce9f-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL3df412487ac5467eb323b6e5b6c52c4f",name:"C4-MAX-Conversion",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"state"},ruleOrder:50}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC1fc0b523bd534fd4ad3c48581a5e4682-file.min.js"},timeout:2e3,delayNext:!0}]},{id:"RL45664a49a1d24fff9327d512d5bd6695",name:"DC-66-subscribeRulesetItems",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"subscribeRulesetItems"},ruleOrder:56}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=window,n=e&&e.detail||{},o=t.alloy,a=t._satellite;Promise.resolve().then((function(){return a.alloyConfigurePromise})).then((function(){return o("subscribeRulesetItems",{surfaces:n.surfaces||[],schemas:n.schemas||[],callback:n.callback||(()=>{})})})).then((function(e){t.dispatchEvent(new CustomEvent("alloy_subscribeRulesetItems",{detail:{result:e}}))}),(function(e){t.dispatchEvent(new CustomEvent("alloy_subscribeRulesetItems",{detail:{error:e}}))}))}},timeout:2e3}],actions:[]},{id:"RL45b8548c94e341679e2052c6b97fa55b",name:"C2-52-ContentSquare",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"CSC2"},ruleOrder:52}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=window.location.hostname,t=function(e,t){return-1!==e.indexOf(t)};return!(t(e,"localhost")||t(e,"stock.adobe.com")||t(e,"express.adobe.com")||t(e,"projectx")||t(e,"firefly.adobe.com")||t(e,"firefly-stage")||t(e,"lightroom.adobe.com"))}},timeout:2e3}],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC86c47b28e0824821a53b211a2bfe8793-file.min.js"}}]},{id:"RL475dfbf42fc54bf6aaacf604b820f4f0",name:"C4-99-AlloyPrivacy",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:99}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return setTimeout((function(){var e=window._satellite,t=e.getVar("alloy_privacy");e.track("event",t)}),1),!0}},timeout:2e3}],actions:[]},{id:"RL4dfacdc266e74f498d07beee8c96670a",name:"C4-69-Dentsu",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:69}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC79ee818ecd8d41eaa4d786718d826c00-file.min.js"}}]},{id:"RL4e248dafe9584678a1a92bfbb30712b7",name:"C4-67-Mathtag",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:67}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RCd742d6adc4a14dc5bcfb2ae395160ba9-file.min.js"}}]},{
id:"RL526d85fd4a6d479fb580430333c4ca33",name:"DC-propositionDisplay",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"propositionDisplay"},ruleOrder:5}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=window,n=e&&e.detail||{},o=t.alloy,a=t._satellite,r=n?.edgeConfigOverrides?.com_adobe_analytics?.reportSuites,i=a.getVar("_alloy_sendEventStateless"),s=function(e){let t={};return t.id=e.id,t.scope=e.scope,t.scopeDetails=e.scopeDetails,t},c=[];Array.isArray(n)&&n.length&&n.forEach((function(e){e&&e.id&&e.scope&&e.scopeDetails&&!0!==e.renderAttempted&&(e=s(e),c.push(e))})),a.getVar("alloy_configure",{value:r}),Promise.resolve().then((function(){return new Promise((function(e){window?.alloy_pageView?.sent?window?.alloy_pageView?.sent.then((function(){e()})):t.addEventListener("alloy_sendEvent",(function(t){"pageView"==t.detail.type&&e()}))}))})).then((function(){if(Array.isArray(c)&&c.length>0)if("general=out"!==a.cookie.get("kndctr_9E1005A551ED61CA0A490D45_AdobeOrg_consent"))o("sendEvent",{documentUnloading:!0,xdm:{eventType:"decisioning.propositionDisplay",_experience:{decisioning:{propositions:c,propositionEventType:{display:1}}}}});else if(n.strictlyNecessary&&t.alloy_all.xdm.identityMap?.adobeGUID?.[0]?.id)return i({type:"decisioning.propositionDisplay",documentUnloading:!0,xdm:{eventType:"decisioning.propositionDisplay",_experience:{decisioning:{propositions:c,propositionEventType:{display:1}}}}})}))}},timeout:2e3}],actions:[]},{id:"RL5868788efa0d4cd4ba5a2c694633f89d",name:"c4-72-Pinterest",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC8b38374369074e45a1fb1eb46140bd6e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL5c24c193cf61457291ae156ca24cab92",name:"C2-51-DynamicChat",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C2"},ruleOrder:51}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RCa33aebabccca46188d8313b38a755016-file.min.js"},timeout:2e3,delayNext:!0}]},{id:"RL6171b68c60c44a26b47f7ebdf77c2132",name:"C4-103-DigitalZone",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:103}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC43e4352801ff471abb4b3de43bf4e92a-file.min.js"},timeout:2e3,delayNext:!0}]},{id:"RL680b308c1f1a430fb0499fb2296b459e",name:"DC-04-pageView",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageload"},ruleOrder:4},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"state"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageView"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=window,n=t.location.hostname,o=e,a=o&&o.identifier,r=o&&o.detail||{},i=t.alloy,s=t.hybridPers,c=t._satellite,d=r?.edgeConfigOverrides?.com_adobe_analytics?.reportSuites,l=c.getVar("_beforeUnload"),u=t.alloy_last_event||{},p=t.marketingtech||{},m=p&&p.adobe&&p.adobe.launch,g=!m.disablePageUnload;if(u.sent=u.sent||Promise.resolve(),"pageload"==a||"pageView"==a){if(c.pageload)return!0;if(setTimeout((function(){g&&c.track("unload")}),5),c.getVar("pageload_abort",{value:a}))return!0}return c.pageload=1,r.sent=new Promise((function(e){var o=!1,p=function(){r.i||(r.i=1,c.getVar("alloy_configure",{value:d}),/^(stage-)?video\.tv\.adobe\.com$/.test(n)||s&&("pageload"==a||"pageView"==a)?(r.done=!0,t.dispatchEvent(new CustomEvent("alloy_sendEvent",{detail:{type:"pageView",event:r}})),e()):i("sendEvent",{documentUnloading:o,renderDecisions:!o,xdm:r.xdm,data:r.data}).then((function(n){if(r.result=n,r.done)try{r.done(n)}catch(e){}var o=document.getElementById("manual-prehiding");o&&o.remove(),c.getVar("alloy_handleResponse",{value:n}),t.dispatchEvent(new CustomEvent("alloy_sendEvent",{detail:{type:"pageView",result:n,event:r}})),e(n)}),(function(n){if(r.error=n,r.done)try{r.done(void 0,n)}catch(e){}t.dispatchEvent(new CustomEvent("alloy_sendEvent_error",{detail:{type:"pageView",error:n,event:r}})),e(n)})))};Promise.resolve().then((function(){return new Promise((function(e){setTimeout(e,0)}))})).then((function(){return c.alloyConfigurePromise})).then((function(){c.DE._alloy_all||c.getVar("alloy_all")(),r=c.getVar("alloy_pageView",{value:r,type:"pageView",identifier:a})})).then((function(){return Promise.all([].concat(t.alloy_all.promises,u.sent))})).then(p,p),setTimeout(p,1e4),l((function(){o=!0,p()}),-99)})),t.alloy_events=t.alloy_events||[],r.data=r.data||{},r.data._i=t.alloy_events.length,t.alloy_events[r.data._i]=r,t.alloy_last_event=t.alloy_pageView=r,!0}},timeout:2e3}],actions:[]},{id:"RL6bb545f917ff454d847640df2e7c627d",name:"C3-61-MunchkinTag",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C2"},ruleOrder:61}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RCcaaaa703d1b749fcb52fc1472297526c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL707a46e9da96446496785babe37c0e67",name:"C4-92-Taboola",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:92}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC3d36ad1961cc477f8b24589dcefa5037-file.min.js"}}]},{id:"RL7696265de6804280a804d4e3480f10bb",name:"C4-63-TikTok",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:63}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=window.location,t=e.hostname;return e.pathname,-1===t.search("express.adobe.com")&&-1===t.search("projectx")&&-1===t.search("localhost.adobe.com")}},timeout:2e3}],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RCa3cd3af3e42648aa8c6f3826721d3ea5-file.min.js"}}]},{id:"RL78d00ac8dd52408bbe8a9f20cf67bc2f",name:"C4-59-Mobon",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:59}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RCc977f41d25fd42f4bd38c5e0015d2530-file.min.js"}}]},{id:"RL7ea2cdcc911e457783f282b7cd2e6259",name:"PV-10-Interaction",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){var t=window,n=document;Promise.all([new Promise((function(e){"complete"===n.readyState?setTimeout(e,10):t.addEventListener("load",(function(){setTimeout(e,10)}))})),new Promise((function(e){t._satellite.pageload?setTimeout(e,10):t.addEventListener("alloy_sendEvent",(function(t){"pageView"==t.detail.type&&setTimeout(e,10)}))}))]).then(e)}},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!_satellite.interaction}},timeout:2e3}],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC04a927fa157f40a4a07fd03fc446f6f4-file.min.js"},timeout:2e3,delayNext:!0}]},{id:"RL848083aecd2140daba5bd32cd53a57c9",name:"C2-55-Qualtrics",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C2"},ruleOrder:55},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"qualtrics"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=window.location.hostname;if("www.adobe.com"==e||"www.stage.adobe.com"==e||"business.adobe.com"==e||"business.stage.adobe.com"==e||"helpx.adobe.com"==e||"helpx.stage.adobe.com"==e||"account.adobe.com"==e||"stage.account.adobe.com"==e)return!0}},timeout:2e3}],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC08973bfba5e8405f934d62eeebf0a685-file.min.js"}}]},{id:"RL877e7479c42a4941b7b4ce71f146e562",name:"DC-50-bootstrapConversationalExperience",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"bootstrapConversationalExperience"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){let t=window,n=e,o=(n&&n.identifier,n&&n.detail||{}),a=t.alloy;a("sendEvent",{conversation:{fetchConversationalExperience:!0}}).then((e=>{console.log("Conversation experience fetched",e),a("bootstrapConversationalExperience",{selector:o.selector,src:o.src||e.concierge?.[0]?.src,stylingConfigurations:o.stylingConfigurations||e.concierge?.[0]?.stylingConfigurations,stickySession:o.stickySession||!1})}))}},timeout:2e3}],actions:[]},{id:"RL8a0766cae2b24fd2b77ef33d201d3414",name:"C4-65-RedditPixel",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:65}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC90a53c00c443440588cf1fd24addd0c2-file.min.js"}}]},{id:"RL8d2c5fd177d64f1dbea5c6843df43960",name:"C4-97-Quora",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:97}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RCdcca344ebf644baebf1153f9856b3d94-file.min.js"}}]},{id:"RL94cea5fe3fea43a4b87d398ffb2d44ba",name:"C2-50-DemandBase",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C2"},ruleOrder:50}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RCcf3d029c9a504ceeb140e01e8eeb920c-file.min.js"}}]},{id:"RL9a16df68128f4b778e402529d6e1c9a0",name:"C4-64-Yahoo",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:64}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC5ba2eb7bf1bc461b945a85a3ae2ffaba-file.min.js"}}]},{id:"RL9cecf3c9e0964916b3ad2aa027c39b40",name:"DC-55-event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"event"},ruleOrder:51}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){const t=e?.detail||{},n=t?.data?.web?.webInteraction?.name;return!n?.includes("video:progressBarClick")}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=window,n=t.location.hostname,o=e&&e.detail||{},a=t.alloy,r=o?.edgeConfigOverrides?.com_adobe_analytics?.reportSuites,i=t._satellite;return-1!==o?.data?.web?.webInteraction?.name.indexOf("clap:click")&&void 0!==o?.data?.web?.webInteraction?.name||(i.getVar("alloy_configure",{value:r}),Promise.resolve().then((function(){return new Promise((function(e){setTimeout(e,1)}))})).then((function(){return new Promise((function(e){i.pageload?e():t.addEventListener("alloy_sendEvent",(function(t){"pageView"==t.detail.type&&e()}))}))})).then((function(){var e=i.getVar("_beforeUnload"),r=t.alloy_last_event||{};r.sent=r.sent||Promise.resolve(),o.sent=new Promise((function(s){var c=function(){o.i||(o.i=1,o=i.getVar("alloy_event",{value:o,type:"event"}),a("sendEvent",{documentUnloading:-1===n.indexOf("video.tv.adobe.com")&&-1===n.indexOf("express.adobe.com")&&(!Object.prototype.hasOwnProperty.call(o,"documentUnloading")||o.documentUnloading),xdm:o.xdm,data:o.data}).then((function(e){if(o.result=e,o.done)try{o.done(e)}catch(e){}t.dispatchEvent(new CustomEvent("alloy_sendEvent",{detail:{type:"event",result:e,event:o}})),s(e)}),(function(e){if(o.error=e,o.done)try{o.done(void 0,e)}catch(e){}t.dispatchEvent(new CustomEvent("alloy_sendEvent_error",{detail:{type:"event",error:e,event:o}})),s(e)})))};Promise.all([].concat(o.promises,r.sent)).then(c,c),e((function(){c()}),88)})),t.alloy_events=t.alloy_events||[],o.data=o.data||{},o.data._i=t.alloy_events.length,t.alloy_events[o.data._i]=o,t.alloy_last_event=o}))),!0}},timeout:2e3}],actions:[]},{id:"RLa3a864e38c284160a2d1295216ed38d6",name:"C4-58-Naver",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:58}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC1e1b943ac85b4e75aaee0465aa4e424d-file.min.js"}}]},{id:"RLba67ec3999e7483b854bcea97692711e",name:"C4-62-LinkedIn_Custom",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"event"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){if(_satellite.getVar("consent").c("C0004")){var t=window,n=t.location.hostname,o=t._satellite.getVar("_loadScript");if(e&&e.detail&&e.detail.data&&e.detail.data.web&&e.detail.data.web.webInteraction){const a="FaaS Form Submission"===e.detail.data.web.webInteraction.name||"FaaS Form Auto Submission"===e.detail.data.web.webInteraction.name||"Marketo Form Submission"===e.detail.data.web.webInteraction.name||"Marketo Form Known User"===e.detail.data.web.webInteraction.name;if(a||"DOCUMENT_DOWNLOAD"===e.detail.data.web.webInteraction.name){const r=e.detail.data._adobe_corpnew;!function(e){e||(t.lintrk=function(e,n){t.lintrk.q.push([e,n])},t.lintrk.q=[]),o("https://snap.licdn.com/li.lms-analytics/insight.min.js",0,{})}(t.lintrk),r&&r.digitalData&&r.digitalData.form&&r.digitalData.form.response&&r.digitalData.form.response.submissionID?t.lintrk("track",{conversion_id:15749244}):"DOCUMENT_DOWNLOAD"===e.detail.data.web.webInteraction.name&&t.lintrk("track",{conversion_id:15749228}),"business.adobe.com"===n&&a&&t.lintrk("track",{conversion_id:16081900})}}}}},timeout:2e3}],actions:[]},{id:"RLbc32e0fad14841fe8cf5f540bc252d85",name:"WL-04-initMediaTrack",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:99}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){function e(){if(!t.alloy_all)return!1;var e=t.alloy_all.get("data.web.webPageDetails.name");if(!e)return!1;for(var n=0;n<arguments.length;n++)if(-1!==e.indexOf(arguments[n]))return!0;return!1}var t=window;if(t.ytIframe=document.querySelector('iframe[id^="player-"][src*="youtube.com"][src*="enablejsapi=1"]')||e("adobe.com:max"),t.mpcFrame=/^(stage-)?video\.tv\.adobe\.com$/.test(t.location.hostname),t.mobileriderPlayer=document.querySelector(".mobileRider_container")||e("adobe-summit","summit:2025",":events:","adobe.com:max"),t.ytIframe||t.mpcFrame||t.mobileriderPlayer)return _satellite.getVar("mediaAnalyticsUpdateTopFrame"),!0}},timeout:2e3}],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC6b55b6f311de4c7dbc62f07079ba5436-file.min.js"}}]},{id:"RLbc68df3a2389403eae97fd28450082ca",name:"C4-84-Snapchat",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:84}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=window.location,t=e.hostname;return e.pathname,-1==t.search("express.adobe.com")&&-1==t.search("projectx")&&-1==t.search("localhost.adobe.com")}},timeout:2e3}],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC08fbed730e49423d83748fdaeada95e4-file.min.js"}}]},{id:"RLbffc3364ccc8450495a36e5111f62c5f",name:"C2-50-Zoominfo",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C2"},ruleOrder:50}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC42df32478c9c475cab623ad2bdcc019d-file.min.js"},timeout:2e3,delayNext:!0}]},{id:"RLc27761a4b3d14c47852ceb34b40f5c1a",name:"C4-60-Facebook",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return window===window.top}},timeout:2e3}],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC63e2559be20e47efa261a71e528e46d5-file.min.js"}}]},{id:"RLd0fb885106174a8ca7483996c3a61d78",name:"Direct Call | 60 | Trial Form Download",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackPerpetualTrialDownloadFormSubmit"},ruleOrder:60}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC62f70396663148efaa23f82d48cb5ca9-file.min.js"},timeout:2e3,delayNext:!0}]},{id:"RLd58b2bf41c6e4650b4dbfdd49233dfdf",name:"C4-71-Amazon",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC5679b21f26594d058ee38e60abd47995-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd9375b40adc7468ab13285f3b44e8d87",name:"C4-70-SizmekPixel",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:70}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC50e22fb441344a19bbbb534a630dd92c-file.min.js"}}]},{id:"RLdccc4f9d4f344a898f844510a9f89586",name:"C4-62-LinkedIn",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:62}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC02d6eba3bdff4b51a38d7fd90a6d3a81-file.min.js"}}]},{id:"RLdd02becfb6b04f3fad2f4b02283ffe0e",name:"2-trigger-C2C4",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(){var e=window,t=document,n=e.location.hostname,o=e.marketingtech,a=e._satellite,r=!0,i=!0;Promise.resolve().then((function(){return new Promise((function(e){o&&o.milo?t.addEventListener("milo:deferred",e):e()}))})).then((function(){return new Promise((function(n){"complete"===t.readyState?n():e.addEventListener("load",n)}))})).then((function(){return new Promise((function(e){setTimeout(e,4e3)}))})).then((function(){if(!a.getVar("isStudent")){var e=a.getVar("consent");o&&(wmm=o.marketingTags)&&(wmm.disableGlobalTags&&(r=!1),wmm.disableContentsquare&&(i=!1)),e("C0002",(function(){i&&a.track("CSC2"),r&&a.track("C2"),"account.adobe.com"!=n&&"stage.account.adobe.com"!=n||a.track("qualtrics")})),r&&e("C0004",(function(){a.track("C4")}))}}))}},ruleOrder:2}],conditions:[],actions:[]},{id:"RLe2b8fdf0f6504fe0a399f668907653fb",name:"DC-55-unload",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"unload"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return-1==window.location.hostname.indexOf("video.tv.adobe.com")}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return setTimeout((function(){var e=window,t=e.alloy,n=e.alloy_unload,o=e._satellite,a=o.getVar("_beforeUnload");o.getVar("percentPageViewed");var r=function(){n.i||(n.i=1,o.getVar("alloy_unload"),t("sendEvent",{documentUnloading:!0,xdm:n.xdm,data:n.data}))};a((function(){r()}),99)}),1e3),!0}},timeout:2e3}],actions:[]},{id:"RLe6dd9c5312794bcfb6279bdd3c9cb9d2",name:"C4-57-TTD",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:57}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RCdb12981b688345fabee14405bb8c80f8-file.min.js"}}]},{id:"RLe7c4b31f88f84e8a8066eac51b5b8b63",name:"AT-50-TriggerViewPlansPage",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){var t=window;-1!==t.location.href.indexOf("creativecloud/plans.html")&&t.addEventListener("alloy_sendEvent",(function(n){!t.spaTriggerView&&n&&n.detail&&n.detail.type&&"pageView"===n.detail.type&&(t.spaTriggerView=!0,document.querySelectorAll('div.navList spectrum-tablist[data-name="segments"] div.spectrum-Tabs-item').forEach((t=>{t.addEventListener("click",(t=>{t.target.closest("div.spectrum-Tabs-item")&&!t.target.closest("div.spectrum-Tabs-item").classList.contains("is-selected")&&e()}))})),e())}))}},ruleOrder:50}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC0a5468f89da741e09a0c9bcfe16b226e-file.min.js"},timeout:2e3,delayNext:!0}]},{id:"RLe90bfc1f0edd423f9f531d3263835a4b",name:"C4-102-Quantcast",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:102}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC31296e5fdf31432c8a3bbc27eb0a94b8-file.min.js"}}]},{id:"RLefd5e9cd48ba4520b0d7113f9b860bce",name:"DomReady-70-pageloadVideo",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:70}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=window,t=e.location,n=e.alloy_all,o=e._satellite.getVar("adobe_pageNameLogic")(t),a=function(e,t){const n=e.length;return e.substring(n-t.length,n)===t};return e.addEventListener("message",(function(e){a(e.origin,"video.tv.adobe.com")&&e.data&&"iframe loaded"===e.data.n&&e.source.postMessage({v:n.get("data._adobe_corpnew.digitalData.page.pageInfo.location.href")||t.href,n:n.get("data._adobe_corpnew.digitalData.page.pageInfo.pageName")||o,r:n.get("data._adobe_corpnew.digitalData.primaryUser.primaryProfile.profileInfo"),j:n.get("data._adobe_corpnew.digitalData.page.pageInfo.language")},"*")})),!0}},timeout:0}],actions:[]},{id:"RLf80379a705cb4514be5ef2fb8ebd8871",name:"C4-95-Podsight",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:95}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RC32a4eeff111142f4975991d5362d2e10-file.min.js"}}]},{id:"RLff4d8a6fe5d34059a41cd6c4eba5fd2a",name:"C4-66-Teads",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"C4"},ruleOrder:66}],conditions:[],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/0991dd5fef56/RCc5a4e0eb967143b584903d06a7198f66-file.min.js"}}]}]};var _satellite=function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(e){return"[object Object]"===Object.prototype.toString.call(e)}function n(e){var n,o;return!1!==t(e)&&(void 0===(n=e.constructor)||!1!==t(o=n.prototype)&&!1!==o.hasOwnProperty("isPrototypeOf"))}function o(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function a(e){return e.substr(0,e.indexOf("["))}function r(e,t,n){if(e.length&&ut(t)){var i=e[0];if(1!==e.length){var s=e.slice(1);if(!o(i))return r(s,t[i],n);var c=t[i=a(i)];Array.isArray(c)&&c.forEach((function(e){return r(s,e,n)}))}else t.hasOwnProperty(i)&&"string"==typeof t[i]&&(t[i]=n(t[i]))}}if(window.atob){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=document,c=Object.assign,d=window,l=d,u=function(e,t,n,o){var a,r=Boolean(t&&Array.isArray(n)),i=Boolean(r&&e),s=document.createElement("a");if(r){var c=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(e&&(/^((https?:)?\/\/).+/.test(e)||c(),/^\/\/.+/.test(e)?s.href=l.location.protocol+e:s.href=e),s.hostname||c(),-1===n.indexOf(s.hostname)){var d=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw d.code="dynamic_host_not_allowed",d}}var u=function(){if(null!=a)return a;if(i){var e=s.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),a=s.protocol+"//"+e}else a="";return a},p=function(e){return i&&"string"==typeof e?[u(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},m={getTurbineHost:u,decorateWithDynamicHost:p,get isDynamicEnforced(){return r}};return l&&o.onDebugChanged((function(e){e?l.dynamicHostResolver=m:delete l.dynamicHostResolver})),m},p=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(n){t.push({rule:e,event:n})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},m="debug",g=function(e,t){var n=function(){return"true"===e.getItem(m)},o=function(t){e.setItem(m,t)},a=[],r=function(e){a.push(e)};return t.outputEnabled=n(),{onDebugChanged:r,getDebugEnabled:n,setDebugEnabled:function(e){n()!==e&&(o(e),t.outputEnabled=e,a.forEach((function(t){t(e)})))}}},f="Module did not export a function.",h=function(e,t,n){return function(o,a,r){r=r||[];var i=e.getModuleExports(o.modulePath);if("function"!=typeof i)throw new Error(f);var s=e.getModuleDefinition(o.modulePath),c=o.settings||{};!o.hasTransformedFilePaths&&s.filePaths&&(n(c,s.filePaths,o.modulePath),o.hasTransformedFilePaths=!0);var d=t(c,a);return i.bind(null,d).apply(null,r)}},b=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},v={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},y="\ud83d\ude80",w=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":y,_=!1,C=function(e){if(_&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(w),e!==v.DEBUG||window.console[e]||(e=v.INFO),window.console[e].apply(window.console,t)}},E=C.bind(null,v.LOG),I=C.bind(null,v.INFO),P=C.bind(null,v.DEBUG),D=C.bind(null,v.WARN),k=C.bind(null,v.ERROR),S=function(){var e=_;_=!0,C.apply(null,Array.prototype.concat(v.WARN,Array.prototype.slice.call(arguments))),e||(_=!1)},x={log:E,info:I,debug:P,warn:D,error:k,deprecation:S,get outputEnabled(){return _},set outputEnabled(e){_=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:E.bind(null,t),info:I.bind(null,t),debug:P.bind(null,t),warn:D.bind(null,t),error:k.bind(null,t)}}},O=d,T="com.adobe.reactor.",R=function(e,t){var n=T+(t||"");return{getItem:function(t){try{return O[e].getItem(n+t)}catch(e){return null}},setItem:function(t,o){try{return O[e].setItem(n+t,o),!0}catch(e){return!1}}}},A=R,N="dataElements.",j=A("sessionStorage",N),L=A("localStorage",N),M={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},V={},q=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},U=b,F=x,B={setValue:function(e,t,n){var o;switch(t){case M.PAGEVIEW:return void(V[e]=n);case M.SESSION:return void((o=q(n))&&j.setItem(e,o));case M.VISITOR:return void((o=q(n))&&L.setItem(e,o))}},getValue:function(e,t){var n;switch(t){case M.PAGEVIEW:return V.hasOwnProperty(e)?V[e]:null;case M.SESSION:return null===(n=j.getItem(e))?n:JSON.parse(n);case M.VISITOR:return null===(n=L.getItem(e))?n:JSON.parse(n)}}},H=function(e,t,n,o){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+n+(o?"\n"+o:"")},z=function(e,t,n,o,a){return function(r,i){var s=t(r);if(!s)return o?"":void 0;var c,d,l=s.storageDuration;try{c=e.getModuleExports(s.modulePath),d=e.getModuleDefinition(s.modulePath)}catch(e){return void F.error(H(s,r,e.message,e.stack))}if("function"==typeof c){var u,p=s.settings||{};!s.hasTransformedFilePaths&&d.filePaths&&(a(p,d.filePaths,s.modulePath),s.hasTransformedFilePaths=!0);try{u=c(n(p,i),i)}catch(e){return void F.error(H(s,r,e.message,e.stack))}return l&&(null!=u?B.setValue(r,l,u):u=B.getValue(r,l)),null==u&&null!=s.defaultValue&&(u=s.defaultValue),"string"==typeof u&&(s.cleanText&&(u=U(u)),s.forceLowerCase&&(u=u.toLowerCase())),u}F.error(H(s,r,"Module did not export a function."))}},W=b,G={text:function(e){return e.textContent},cleanText:function(e){return W(e.textContent)}},J=function(e,t,n){for(var o,a=e,r=0,i=t.length;r<i;r++){if(null==a)return;var s=t[r];if(n&&"@"===s.charAt(0)){var c=s.slice(1);a=G[c](a)}else if(a.getAttribute&&(o=s.match(/^getAttribute\((.+)\)$/))){var d=o[1];a=a.getAttribute(d)}else a=a[s]}return a},Q=function(e,t,n){return function(o,a){var r;if(t(o))r=n(o,a);else{var i=o.split("."),s=i.shift();"this"===s?a&&(r=J(a.element,i,!0)):"event"===s?a&&(r=J(a,i)):"target"===s?a&&(r=J(a.target,i)):r=J(e[s],i)}return r}},K=function(e,t){return function(n){var o=n.split(".")[0];return Boolean(t(n)||"this"===o||"event"===o||"target"===o||e.hasOwnProperty(o))}},X=function(e,t,n){var o={exports:{}};return e.call(o.exports,o,o.exports,t,n),o.exports},$=X,Y=x,Z=function(){var e={},t=function(t){var n=e[t];if(!n)throw new Error("Module "+t+" not found.");return n},n=function(){Object.keys(e).forEach((function(e){try{o(e)}catch(n){var t="Error initializing module "+e+". "+n.message+(n.stack?"\n"+n.stack:"");Y.error(t)}}))},o=function(e){var n=t(e);return n.hasOwnProperty("exports")||(n.exports=$(n.definition.script,n.require,n.turbine)),n.exports};return{registerModule:function(t,n,o,a,r){var i={definition:n,extensionName:o,require:a,turbine:r};i.require=a,e[t]=i},hydrateCache:n,getModuleExports:o,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},ee=x,te=!1,ne=function(e){return function(t,n){var o=e._monitors;o&&(te||(ee.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),te=!0),o.forEach((function(e){e[t]&&e[t](n)})))}},oe=x,ae=function(e,t,n){var o,a,r,i,s=[],c=function(o,a,r){if(!e(a))return o;s.push(a);var i=t(a,r);return s.pop(),null==i&&n?"":i};return o=function(e,t){var n=/^%([^%]+)%$/.exec(e);return n?c(e,n[1],t):e.replace(/%(.+?)%/g,(function(e,n){return c(e,n,t)}))},a=function(e,t){for(var n={},o=Object.keys(e),a=0;a<o.length;a++){var r=o[a],s=e[r];n[r]=i(s,t)}return n},r=function(e,t){for(var n=[],o=0,a=e.length;o<a;o++)n.push(i(e[o],t));return n},i=function(e,t){return"string"==typeof e?o(e,t):Array.isArray(e)?r(e,t):"object"==typeof e&&null!==e?a(e,t):e},function(e,t){return s.length>10?(oe.error("Data element circular reference detected: "+s.join(" -> ")),e):i(e,t)}},re=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var n in t)e[n]=t[n]}}},ie="undefined"!=typeof window&&window.Promise||void 0!==i&&i.Promise,se=ie,ce=function(e,t,n){return function(o,a,r,i){return i.then((function(){var i,s=o.delayNext;return new se((function(t,n){var a=e(o,r,[r]);if(!s)return t();var c=o.timeout,d=new se((function(e,t){i=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+c/1e3+" seconds to complete. "))}),c)}));se.race([a,d]).then(t,n)})).catch((function(e){return clearTimeout(i),e=t(e),n(o,a,e),se.reject(e)})).then((function(){clearTimeout(i)}))}))}},de=ie,le=function(e,t,n,o,a){
return function(r,i,s,c){return c.then((function(){var c;return new de((function(t,n){var o=e(r,s,[s]),a=r.timeout,i=new de((function(e,t){c=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+a/1e3+" seconds to complete. "))}),a)}));de.race([o,i]).then(t,n)})).catch((function(e){return clearTimeout(c),e=t(e),o(r,i,e),de.reject(e)})).then((function(e){if(clearTimeout(c),!n(r,e))return a(r,i),de.reject()}))}))}},ue=ie.resolve(),pe=function(e,t,n){return function(o,a){return o.conditions&&o.conditions.forEach((function(t){ue=e(t,o,a,ue)})),o.actions&&o.actions.forEach((function(e){ue=t(e,o,a,ue)})),ue=(ue=ue.then((function(){n(o)}))).catch((function(){}))}},me=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},ge=function(e,t,n,o){return function(a,r){var i;if(a.conditions)for(var s=0;s<a.conditions.length;s++){i=a.conditions[s];try{var c=e(i,r,[r]);if(me(c))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(i,c))return n(i,a),!1}catch(e){return o(i,a,e),!1}}return!0}},fe=function(e,t){return function(n,o){e(n,o)&&t(n,o)}},he=function(e){return function(t){var n=e.getModuleDefinition(t.modulePath);return n&&n.displayName||t.modulePath}},be=function(e){return function(t){var n=t.rule,o=t.event,a=e.getModuleDefinition(o.modulePath).name;return{$type:e.getModuleExtensionName(o.modulePath)+"."+a,$rule:{id:n.id,name:n.name}}}},ve=function(e,t,n,o,a,r){return function(i,s){var c=s.rule,d=s.event;d.settings=d.settings||{};try{var l=a(s);t(d,null,[function(t){var o=n(l,t);i((function(){e(o,c)}))}])}catch(e){r.error(o(d,c,e))}}},ye=function(e,t,n,o){return function(a,r,i){var s=t(a);n.error(e(s,r.name,i)),o("ruleActionFailed",{rule:r,action:a})}},we=function(e,t,n,o){return function(a,r,i){var s=t(a);n.error(e(s,r.name,i)),o("ruleConditionFailed",{rule:r,condition:a})}},_e=function(e,t,n){return function(o,a){var r=e(o);t.log('Condition "'+r+'" for rule "'+a.name+'" was not met.'),n("ruleConditionFailed",{rule:a,condition:o})}},Ce=function(e,t){return function(n){e.log('Rule "'+n.name+'" fired.'),t("ruleCompleted",{rule:n})}},Ee=function(e,t,n){return function(o,a){var r;if(o.actions)for(var i=0;i<o.actions.length;i++){r=o.actions[i];try{e(r,a,[a])}catch(e){return void t(r,o,e)}}n(o)}},Ie=function(e,t,n,o){return function(a,r){o("ruleTriggered",{rule:r}),e?n(r,a):t(r,a)}},Pe=function(e,t,n){return'Failed to execute "'+e+'" for "'+t+'" rule. '+n.message+(n.stack?"\n"+n.stack:"")},De=function(e,t){return t&&!e.negate||!t&&e.negate},ke=[],Se=!1,xe=function(e){Se?e():ke.push(e)},Oe=function(e,t,n){e(t).forEach((function(e){n(xe,e)})),Se=!0,ke.forEach((function(e){e()})),ke=[]},Te=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},Re={};Object.defineProperty(Re,"__esModule",{value:!0}),Re.isPlainObject=n;var Ae,Ne=x,je=c,{isPlainObject:Le}=Re,Me=function(e,t){return Le(t=t||{})?t=je({},t,e):je(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return Ne.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},Ve=function(e,t){return function(n,o){var a=e[n];if(a){var r=a.modules;if(r)for(var i=Object.keys(r),s=0;s<i.length;s++){var c=i[s],d=r[c];if(d.shared&&d.name===o)return t.getModuleExports(c)}}}},qe=function(e,t){return function(){return t?e(t):{}}},Ue=function(e,t,n){return function(o){if(n){var a=o.split(".");a.splice(a.length-1||1,0,"min"),o=a.join(".")}return e(t)+o}},Fe=".js",Be=function(e){return e.substr(0,e.lastIndexOf("/"))},He=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},ze=function(e,t){He(t,Fe)||(t+=Fe);var n=t.split("/"),o=Be(e).split("/");return n.forEach((function(e){e&&"."!==e&&(".."===e?o.length&&o.pop():o.push(e))})),o.join("/")},We={exports:{}};Ae=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(o){function a(){}function r(t,n,r){if("undefined"!=typeof document){"number"==typeof(r=e({path:"/"},a.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var i=JSON.stringify(n);/^[\{\[]/.test(i)&&(n=i)}catch(e){}n=o.write?o.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in r)r[c]&&(s+="; "+c,!0!==r[c]&&(s+="="+r[c].split(";")[0]));return document.cookie=t+"="+n+s}}function i(e,n){if("undefined"!=typeof document){for(var a={},r=document.cookie?document.cookie.split("; "):[],i=0;i<r.length;i++){var s=r[i].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var d=t(s[0]);if(c=(o.read||o)(c,d)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(a[d]=c,e===d)break}catch(e){}}return e?a[e]:a}}return a.set=r,a.get=function(e){return i(e,!1)},a.getJSON=function(e){return i(e,!0)},a.remove=function(t,n){r(t,"",e(n,{expires:-1}))},a.defaults={},a.withConverter=n,a}return n((function(){}))},We.exports=Ae();var Ge=We.exports,Je={get:Ge.get,set:Ge.set,remove:Ge.remove},Qe=ie,Ke=function(e,t){return new Qe((function(n,o){t.onload=function(){n(t)},t.onerror=function(){o(new Error("Failed to load script "+e))}}))},Xe=function(e){var t={};if(!e||"string"!=typeof e)return t;var n=e.trim().replace(/^[?#&]/,""),o=new URLSearchParams(n),a=o.keys();do{var r=a.next(),i=r.value;if(i){var s=o.getAll(i);1===s.length?t[i]=s[0]:t[i]=s}}while(!1===r.done);return t},$e=function(e){var t="{{space}}",n=new URLSearchParams;return Object.keys(e).forEach((function(o){var a=e[o];"string"==typeof e[o]?a=a.replace(/ /g,t):["object","undefined"].includes(typeof a)&&!Array.isArray(a)&&(a=""),Array.isArray(a)?a.forEach((function(e){n.append(o,e)})):n.append(o,a)})),n.toString().replace(new RegExp(encodeURIComponent(t),"g"),"%20")},Ye="@adobe/reactor-",Ze={cookie:Je,document:s,"load-script":function(e){var t=document.createElement("script");t.src=e,t.async=!0;var n=Ke(e,t);return document.getElementsByTagName("head")[0].appendChild(t),n},"object-assign":c,promise:ie,"query-string":{parse:function(e){return Xe(e)},stringify:function(e){return $e(e)}},window:d},et=function(e){return function(t){if(0===t.indexOf(Ye)){var n=t.substr(Ye.length),o=Ze[n];if(o)return o}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},tt=Ve,nt=qe,ot=Ue,at=x,rt=ze,it=et,st=function(e,t,n,o,a,r,i){var s=e.extensions,c=e.buildInfo,d=e.environment,l=e.property.settings;if(s){var u=tt(s,t);Object.keys(s).forEach((function(p){var m=s[p],g=m.settings;Array.isArray(m.filePaths)&&(g=r(g,m.filePaths));var f=nt(o,g);if(m.modules){var h=at.createPrefixedLogger(m.displayName),b=ot(i,m.hostedLibFilesBaseUrl,c.minified),v={buildInfo:c,environment:d,property:{name:e.property.name,id:e.property.id},getDataElementValue:a,getExtensionSettings:f,getHostedLibFileUrl:b,getSharedModule:u,logger:h,propertySettings:l,replaceTokens:o,onDebugChanged:n.onDebugChanged,get debugEnabled(){return n.getDebugEnabled()}};Object.keys(m.modules).forEach((function(e){var n=m.modules[e],o=it((function(n){var o=rt(e,n);return t.getModuleExports(o)}));t.registerModule(e,n,p,o,v)}))}})),t.hydrateCache()}return t},ct=Je,dt=x,lt=function(e,t,n,o,a){var r=dt.createPrefixedLogger("Custom Script");e.track=function(e){dt.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=r,e.notify=function(e,t){switch(dt.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:r.info(e);break;case 4:r.warn(e);break;case 5:r.error(e);break;default:r.log(e)}},e.getVar=o,e.setVar=a,e.setCookie=function(e,t,n){var o="",a={};n&&(o=", { expires: "+n+" }",a.expires=n);var r='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+o+").";dt.deprecation(r),ct.set(e,t,a)},e.readCookie=function(e){return dt.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),ct.get(e)},e.removeCookie=function(e){dt.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),ct.remove(e)},e.cookie=ct,e.pageBottom=function(){},e.setDebug=n;var i=!1;Object.defineProperty(e,"_container",{get:function(){return i||(dt.warn("_satellite._container may change at any time and should only be used for debugging."),i=!0),t}})},{isPlainObject:ut}=Re,pt=s,mt=c,gt=u,ft=p,ht=g,bt=h,vt=z,yt=Q,wt=K,_t=Z,Ct=ne,Et=ae,It=re,Pt=ce,Dt=le,kt=pe,St=ge,xt=fe,Ot=he,Tt=be,Rt=ve,At=ye,Nt=we,jt=_e,Lt=Ce,Mt=Ee,Vt=Ie,qt=Pe,Ut=De,Ft=Oe,Bt=Te,Ht=Me,zt=R,Wt=st,Gt=lt,Jt=function(e,t){return function(n,o,a){return e&&ut(n)&&Object.keys(n).length&&Array.isArray(o)&&o.length?(o.forEach((function(e){Boolean(null!=a&&/^core\/.*actions.*\/customCode\.js$/.test(a))&&"source"===e&&!n.isExternal||r(e.split("."),n,t)})),n):n}},Qt=x,Kt=window._satellite;if(Kt&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var Xt=Kt.container;delete Kt.container;var $t=mt({},Xt.buildInfo);Object.defineProperty($t,"environment",{get:function(){return Qt.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),Xt.environment.stage}}),Xt.buildInfo=$t;var Yt,Zt=ht(zt("localStorage"),Qt),en="";pt.currentScript&&pt.currentScript.getAttribute("src")&&(en=pt.currentScript.getAttribute("src"));try{Yt=gt(en,Boolean(Xt.company.dynamicCdnEnabled),Xt.company.cdnAllowList,Zt)}catch(e){throw Qt.warn("Please review the following error:"),e}var tn,nn=Jt(Yt.isDynamicEnforced,Yt.decorateWithDynamicHost),on=_t(),an=Xt.property.settings.undefinedVarsReturnEmpty,rn=Xt.property.settings.ruleComponentSequencingEnabled,sn=Xt.dataElements||{},cn=function(e){return sn[e]},dn=function(){return tn.apply(null,arguments)},ln=vt(on,cn,dn,an,nn),un={},pn=It(un),mn=wt(un,cn),gn=yt(un,cn,ln);tn=Et(mn,gn,an),Gt(Kt,Xt,Zt.setDebugEnabled,gn,pn),Wt(Xt,on,Zt,tn,ln,nn,Yt.decorateWithDynamicHost);var fn=Ct(Kt),hn=bt(on,tn,nn),bn=Ot(on),vn=jt(bn,Qt,fn),yn=Nt(qt,bn,Qt,fn),wn=At(qt,bn,Qt,fn),_n=Lt(Qt,fn),Cn=Rt(Vt(rn,xt(St(hn,Ut,vn,yn),Mt(hn,wn,_n)),kt(Dt(hn,Bt,Ut,yn,vn),Pt(hn,Bt,wn),_n),fn),hn,Ht,qt,Tt(on),Qt);Ft(ft,Xt.rules||[],Cn)}return e(Kt)}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();